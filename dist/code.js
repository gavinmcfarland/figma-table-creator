"use strict";var global$1="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},name="svelte-app",version="1.0.2",scripts={build:"rollup -c",dev:"rollup -c -w",start:"sirv public"},devDependencies={"@figma/plugin-typings":"^1.49.0","@fignite/helpers":"^0.0.0-alpha.10","@rollup/plugin-commonjs":"^17.0.0","@rollup/plugin-image":"^2.0.6","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^11.2.1","@rollup/plugin-replace":"^2.4.2","@rollup/plugin-strip":"^2.1.0",cssnano:"^4.1.10","figma-plugin-ds-svelte":"^1.0.7","flex-gap-polyfill":"^2.2.1",nanoid:"^3.1.22",plugma:"0.0.0-alpha0.7",postcss:"^8.2.4","postcss-nested":"^4.2.3",rollup:"^2.36.2","rollup-plugin-html-bundle":"0.0.3","rollup-plugin-livereload":"^2.0.0","rollup-plugin-node-polyfills":"^0.2.1","rollup-plugin-postcss":"^4.0.0","rollup-plugin-svelte":"^7.0.0","rollup-plugin-svg":"^2.0.0","rollup-plugin-terser":"^7.0.2","rollup-plugin-typescript":"^1.0.1",svelte:"^3.31.2","svelte-preprocess":"^4.6.9",tslib:"^2.1.0",typescript:"^4.1.3"},dependencies={autoprefixer:"^10.2.1","common-tags":"^1.8.0","fs-extra":"^9.1.0",lodash:"^4.17.21","postcss-logical":"^4.0.2","sirv-cli":"^1.0.10",stylup:"0.0.0-alpha.3",tweeno:"^1.1.3",underscore:"^1.13.4",uniqid:"^5.3.0",uuid:"^8.3.2"},require$$0={name:name,version:version,scripts:scripts,devDependencies:devDependencies,dependencies:dependencies},pkg;function plugma(e){var t={updateAvailable:!1,ui:{}};(null==pkg?void 0:pkg.version)&&(t.version=pkg.version);var n=[],i=[];t.on=(e,t)=>{n.push({type:e,callback:t})},t.command=(e,t)=>{i.push({type:e,callback:t})};var a=!1;t.setStartPage=e=>{t.ui.page=e,a=!0};var r=e(t);if(Object.assign({},t,{commands:r}),r)for(let[e,n]of Object.entries(r))figma.command===e&&(a||(t.ui.page=e),n(t),t.ui.open&&figma.showUI(t.ui.html));figma.ui.onmessage=e=>{for(let t of n)e.type===t.type&&t.callback(e)},t.ui.show=e=>{figma.showUI(t.ui.html,{width:t.ui.width,height:t.ui.height}),figma.ui.postMessage(e)};for(let e of i)figma.command===e.type&&e.callback(t)}pkg=require$$0;var dist=plugma;async function getClientStorageAsync(e){return await figma.clientStorage.getAsync(e)}async function updateClientStorageAsync(e,t){var n=await figma.clientStorage.getAsync(e);if(n=t(n))return figma.clientStorage.setAsync(e,n),n;n=null}const eventListeners=[];function isObjLiteral(e){var t=e;return"object"==typeof e&&null!==e&&function(){for(;null!==Object.getPrototypeOf(t=Object.getPrototypeOf(t)););return Object.getPrototypeOf(e)===t}()}figma.ui.onmessage=e=>{for(let t of eventListeners)e.action===t.action&&t.callback(e.data)};const nodeProps=["id","parent","name","removed","visible","locked","children","constraints","absoluteTransform","relativeTransform","x","y","rotation","width","height","constrainProportions","layoutAlign","layoutGrow","opacity","blendMode","isMask","effects","effectStyleId","expanded","backgrounds","backgroundStyleId","fills","strokes","strokeWeight","strokeMiterLimit","strokeAlign","strokeCap","strokeJoin","dashPattern","fillStyleId","strokeStyleId","cornerRadius","cornerSmoothing","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","exportSettings","overflowDirection","numberOfFixedChildren","overlayPositionType","overlayBackground","overlayBackgroundInteraction","reactions","description","remote","key","layoutMode","primaryAxisSizingMode","counterAxisSizingMode","primaryAxisAlignItems","counterAxisAlignItems","paddingLeft","paddingRight","paddingTop","paddingBottom","itemSpacing","layoutGrids","gridStyleId","clipsContent","guides","type","strokeTopWeight","strokeBottomWeight","strokeRightWeight","strokeLeftWeight"],readOnly=["id","parent","removed","children","absoluteTransform","width","height","overlayPositionType","overlayBackground","overlayBackgroundInteraction","reactions","remote","key","type","masterComponent","mainComponent"];function copyPaste(e,t,...n){var i,a;t&&0===Object.keys(t).length&&t.constructor===Object&&(i=!0),n[0],n[1],"object"==typeof n[0]&&"function"!=typeof n[0]&&(a=n[0]),"object"==typeof n[0]&&"function"!=typeof n[0]&&(a=n[0]),a||(a={});const{include:r,exclude:o,withoutRelations:l,removeConflicts:s}=a;let u=nodeProps.filter((function(e){return!readOnly.includes(e)}));r&&(u=r.filter((function(e){return!readOnly.includes(e)}))),o&&(u=u.filter((function(e){return!o.concat(readOnly).includes(e)}))),t&&!i&&(u=u.filter((function(e){return!["id","type"].includes(e)})));var c={};let d;i&&(void 0===c.id&&(c.id=e.id),void 0===c.type&&(c.type=e.type),e.key&&(c.key=e.key)),d=isObjLiteral(e)?Object.entries(e):Object.entries(Object.getOwnPropertyDescriptors(e.__proto__));for(const[t,n]of d)if(u.includes(t))try{"symbol"==typeof c[t]?c[t]="Mixed":isObjLiteral(e)?c[t]=n:c[t]=n.get.call(e)}catch(e){c[t]=void 0}return s||(!c.fillStyleId&&c.fills?delete c.fillStyleId:delete c.fills,!c.strokeStyleId&&c.strokes?delete c.strokeStyleId:delete c.strokes,!c.backgroundStyleId&&c.backgrounds?delete c.backgroundStyleId:delete c.backgrounds,!c.effectStyleId&&c.effects?delete c.effectStyleId:delete c.effects,!c.gridStyleId&&c.layoutGrids?delete c.gridStyleId:delete c.layoutGrids,c.textStyleId?(delete c.fontName,delete c.fontSize,delete c.letterSpacing,delete c.lineHeight,delete c.paragraphIndent,delete c.paragraphSpacing,delete c.textCase,delete c.textDecoration):delete c.textStyleId,c.cornerRadius!==figma.mixed?(delete c.topLeftRadius,delete c.topRightRadius,delete c.bottomLeftRadius,delete c.bottomRightRadius):delete c.cornerRadius),i&&e.parent&&!l&&(c.parent={id:e.parent.id,type:e.parent.type}),i&&("FRAME"!==e.type&&"COMPONENT"!==e.type&&"COMPONENT_SET"!==e.type&&"PAGE"!==e.type&&"GROUP"!==e.type&&"INSTANCE"!==e.type&&"DOCUMENT"!==e.type&&"BOOLEAN_OPERATION"!==e.type||e.children&&!l&&(c.children=e.children.map((e=>copyPaste(e,{},{withoutRelations:l})))),"INSTANCE"===e.type&&e.mainComponent&&!l&&(c.masterComponent=copyPaste(e.mainComponent,{},{withoutRelations:l}))),"FRAME"===t.type&&"COMPONENT"===t.type&&"COMPONENT_SET"===t.type||delete c.backgrounds,Object.assign(t,c),t}function convertToFrame(e){if("INSTANCE"===e.type)return e.detachInstance();if("COMPONENT"===e.type){let t=e.parent,n=e.createInstance().detachInstance();return t.appendChild(n),copyPaste(e,n,{include:["x","y"]}),figma.currentPage.appendChild(n),e.remove(),n}if("RECTANGLE"===e.type||"GROUP"===e.type){let t=figma.createFrame();return t.resizeWithoutConstraints(e.width,e.height),copyPaste(e,t),e.remove(),t}return"FRAME"===e.type?e:void 0}function moveChildren(e,t){let n=e.children,i=n.length;for(let e=0;e<i;e++){let i=n[e];t.appendChild(i)}return t}function convertToComponent(e){const t=figma.createComponent();return e=convertToFrame(e),t.resizeWithoutConstraints(e.width,e.height),copyPaste(e,t),moveChildren(e,t),e.remove(),t}function getPluginData(node,key,opts){var data;if(data=node.getPluginData(key),data=data?"string"==typeof data&&data.startsWith(">>>")?data:JSON.parse(data):void 0,"string"==typeof data&&data.startsWith(">>>")){data=data.slice(3);var string="(() => {\n            return "+data+"\n            })()";data=eval(string)}return data}function setPluginData(e,t,n){return"string"==typeof n&&n.startsWith(">>>")?(e.setPluginData(t,n),n):(e.setPluginData(t,JSON.stringify(n)),JSON.stringify(n))}function updatePluginData(e,t,n){var i;return(i=n(i=e.getPluginData(t)?JSON.parse(e.getPluginData(t)):null))||(i=null),e.setPluginData(t,JSON.stringify(i)),i}function removeChildren$1(e){for(let t=e.children.length-1;t>=0;t--)e.children[t].remove()}function resize(e,t,n){0===t&&(t=1/Number.MAX_SAFE_INTEGER),0===n&&(n=1/Number.MAX_SAFE_INTEGER);let i=e.parent;if(e.resize(t<.01?1:t,n<.01?1:n),t<.01||n<.01){let a=figma.createRectangle();a.resize(t<.01?1/t:t,n<.01?1/n:n);let r=figma.group([e,a],figma.currentPage);r.resize(t<.01?1:t,n<.01?1:n),i.appendChild(e),r.remove()}return e}function ungroup(e,t){let n=[],i=e.children;for(let e=0;e<i.length;e++)t.appendChild(i[e]),n.push(i[e]);return"GROUP"!==e.type&&e.remove(),n}function getNodeIndex(e){return e.parent.children.indexOf(e)}function getNodeLocation(e,t=figma.currentPage,n=[]){if(!e||!t)return console.error("Node or container not defined"),!1;if(e.id===t.id)return n.length>0&&(n.push(t),n.reverse());if(e.parent){var i=getNodeIndex(e);return n.push(i),getNodeLocation(e.parent,t,n)}return!1}function getNodeDepth(e,t=figma.currentPage,n=0){if(e)return e.id===t.id?n:(n+=1,getNodeDepth(e.parent,t,n))}const nodeToObject=(e,t)=>{const n=Object.entries(Object.getOwnPropertyDescriptors(e.__proto__)),i=["parent","children","removed","masterComponent","horizontalPadding","verticalPadding"],a={id:e.id,type:e.type};for(const[t,r]of n)if(r.get&&!i.includes(t))try{"symbol"==typeof a[t]?a[t]="Mixed":a[t]=r.get.call(e)}catch(e){a[t]=void 0}return e.parent&&!(null==t?void 0:t.withoutRelations)&&(a.parent={id:e.parent.id,type:e.parent.type}),e.children&&!(null==t?void 0:t.withoutRelations)&&(a.children=e.children.map((e=>nodeToObject(e,t)))),e.masterComponent&&!(null==t?void 0:t.withoutRelations)&&(a.masterComponent=nodeToObject(e.masterComponent,t)),(null==t?void 0:t.removeConflicts)||(!a.fillStyleId&&a.fills?delete a.fillStyleId:delete a.fills,!a.strokeStyleId&&a.strokes?delete a.strokeStyleId:delete a.strokes,!a.backgroundStyleId&&a.backgrounds?delete a.backgroundStyleId:delete a.backgrounds,!a.effectStyleId&&a.effects?delete a.effectStyleId:delete a.effects,!a.gridStyleId&&a.layoutGrids?delete a.gridStyleId:delete a.layoutGrids,a.textStyleId?(delete a.fontName,delete a.fontSize,delete a.letterSpacing,delete a.lineHeight,delete a.paragraphIndent,delete a.paragraphSpacing,delete a.textCase,delete a.textDecoration):delete a.textStyleId,a.cornerRadius!==figma.mixed?(delete a.topLeftRadius,delete a.topRightRadius,delete a.bottomLeftRadius,delete a.bottomRightRadius):delete a.cornerRadius),(null==t?void 0:t.pluginData)&&e.getPluginDataKeys().length>0&&(a.pluginData={},e.getPluginDataKeys().forEach((t=>{a.pluginData[t]=e.getPluginData(t)})),0===Object.getOwnPropertyNames(a.pluginData).length&&delete a.pluginData),(null==t?void 0:t.sharedPluginDataNamespaces)&&(a.sharedPluginData={},null==t||t.sharedPluginDataNamespaces.forEach((t=>{a.sharedPluginData[t]={},e.getSharedPluginDataKeys(t).forEach((n=>{a.sharedPluginData[t][n]=e.getSharedPluginData(t,n)})),0===Object.getOwnPropertyNames(a.sharedPluginData[t]).length&&delete a.sharedPluginData[t]})),0===Object.getOwnPropertyNames(a.sharedPluginData).length&&delete a.sharedPluginData),a};function getPageNode(e){return"PAGE"===e.parent.type?e.parent:getPageNode(e.parent)}function isFunction$2(e){return e&&"[object Function]"==={}.toString.call(e)}function replace(e,t){let n,i,a,r=!1,o=[];if(Array.isArray(e)){i=getNodeIndex(e[0]),a=e[0].parent;for(let t=0;t<e.length;t++){let n=e[t].clone();o.push(n)}n=figma.group(o,a,i),n.x=e[0].x,n.y=e[0].y,r=!0,i=getNodeIndex(n),a=n.parent}else n=nodeToObject(e),i=getNodeIndex(e),a=e.parent;let l,s=n.width,u=n.height;if(l=isFunction$2(t)?t(e):t,l)return l.resizeWithoutConstraints(s,u),copyPaste(n,l,{include:["x","y","constraints"]}),l.x=n.x,l.y=n.y,a.insertChild(i,l),r&&n.remove(),figma.getNodeById(e.id)&&e.remove(),l}function setDocumentData(e,t){return setPluginData(figma.root,e,t)}function getDocumentData(e){return getPluginData(figma.root,e)}function genUID(){return""+(figma.currentUser.id+"-"+figma.currentUser.sessionId+"-"+(new Date).valueOf())}function addUniqueToArray$1(e,t){return-1===e.findIndex((e=>e.id===t.id))&&e.push(t),e}function isUnique(e,t){return-1===e.findIndex((e=>e.id===t.id))}function move$1(e,t,n,i){let a=e.splice(t,1)[0];return i?e.splice(n,0,i):e.splice(n,0,a),e}function upsert$1(e,t,n){e.some(((i,a)=>{let r=!1;return!0===t(e[a])&&(r=!0,n?move$1(e,a,0,n):move$1(e,a,0)),r}));let i=!1;return e.map(((n,a)=>{!0===t(e[a])&&(i=!0)})),i||e.unshift(n),e}function File$1(e){this.id=getDocumentData("fileId")||setDocumentData("fileId",genUID()).replace(/['"]+/g,""),this.name=figma.root.name,this.firstVisited=(new Date).toISOString(),this.lastVisited=(new Date).toISOString(),e?(this.data=e,setDocumentData("fileData",e)):this.data=getDocumentData("fileData")}async function getRecentFilesAsync(e,t){t=t||{},e=e||getDocumentData("fileData");let n=await updateClientStorageAsync("recentFiles",(n=>{n=n||[];const i=new File$1(e);if(0===n.length)e.length>0&&n.push(i);else{if(!isUnique(n,i)){let[e,t,n]=i.id.split("-");e===figma.currentUser.id&&t!==figma.currentUser.sessionId.toString()&&figma.root.name.endsWith("(Copy)")&&!getDocumentData("duplicateResolved")&&(i.id=setDocumentData("fileId",genUID()).replace(/['"]+/g,""),setDocumentData("duplicateResolved",!0))}figma.root.name.endsWith("(Copy)")||setDocumentData("duplicateResolved",""),addUniqueToArray$1(n,i),n.length>0&&(n.filter(((t,a)=>{t.id===i.id&&(t.name=i.name,t.lastVisited=(new Date).toISOString(),t.data=i.data,setDocumentData("fileData",e),(!e||Array.isArray(e)&&0===e.length)&&n.splice(a,1))})),n.sort(((e,t)=>e.lastVisited===t.lastVisited||void 0===e.lastVisited||void 0===t.lastVisited?0:e.lastVisited>t.lastVisited?-1:1)),t.expire&&n.map((e=>{if(new Date(e.lastVisited).valueOf()<(new Date).valueOf()-t.expire){let t=n.indexOf(e);-1!==t&&n.splice(t,1)}})),t.limit&&(n=n.slice(0,t.limit)))}return n}));return n.length>0&&(n=n.filter((e=>!(e.id===getPluginData(figma.root,"fileId"))))),n}async function addRecentFileAsync(e){return await updateClientStorageAsync("recentFiles",(t=>t=upsert$1(t=t||[],(t=>t.id===e.id),e)))}async function getRemoteFilesAsync(e){var t=await getClientStorageAsync("recentFiles");return updatePluginData(figma.root,"remoteFiles",(n=>{if(n=n||[],e){let i=n.find((t=>t.id===e)),a=t.find((t=>t.id===e));i||n.push(a)}if(t.length>0){for(let e=0;e<n.length;e++){var i=n[e];for(let r=0;r<t.length;r++){var a=t[r];a.id===i.id&&(n[e]=a)}}n=n.filter((e=>!(e.id===getPluginData(figma.root,"fileId"))))}if(n.length>0)for(var r=0;r<n.length;r++){var o=n[r];o.data[0]&&figma.importComponentByKeyAsync(o.data[0].component.key).then((e=>{var t=getPluginData(e,"template");updatePluginData(figma.root,"remoteFiles",(e=>(e.map((e=>{e.id===t.file.id&&(e.name=t.file.name)})),e)))})).catch((e=>{console.log(e)}))}return n}))}function removeRemoteFile(e){return updatePluginData(figma.root,"remoteFiles",(t=>{let n=t.findIndex((t=>t.id===e));return-1!==n&&t.splice(n,1),t}))}function incrementName(e,t){let n=e;t&&t.length>1&&(t.sort(((e,t)=>e.name===t.name?0:e.name>t.name?-1:1)),n=t[0].name);let i=n.match(/^(.*\S)(\s*)(\d+)$/);return!i||t&&0===t.length||(e=`${i[1]}${i[2]}${parseInt(i[3],10)+1}`),e}var addRecentFileAsync_1=addRecentFileAsync,convertToComponent_1=convertToComponent,convertToFrame_1=convertToFrame,copyPaste_1=copyPaste,genUID_1=genUID,getClientStorageAsync_1=getClientStorageAsync,getDocumentData_1=getDocumentData,getNodeDepth_1=getNodeDepth,getNodeIndex_1=getNodeIndex,getNodeLocation_1=getNodeLocation,getPageNode_1=getPageNode,getPluginData_1=getPluginData,getRecentFilesAsync_1=getRecentFilesAsync,getRemoteFilesAsync_1=getRemoteFilesAsync,incrementName_1=incrementName,nodeToObject_1=nodeToObject,removeChildren_1=removeChildren$1,removeRemoteFile_1=removeRemoteFile,replace_1=replace,resize_1=resize,setDocumentData_1=setDocumentData,setPluginData_1=setPluginData,ungroup_1=ungroup,updateClientStorageAsync_1=updateClientStorageAsync,updatePluginData_1=updatePluginData,Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},Out:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Easing.Bounce.In(2*e):.5*Easing.Bounce.Out(2*e-1)+.5}}},easing=Easing,Utils={Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(a=[1],function(e){var t,n=1;if(a[e])return a[e];for(t=e;t>1;t--)n*=t;return a[e]=n,a[e]}),CatmullRom:function(e,t,n,i,a){var r=.5*(n-e),o=.5*(i-t),l=a*a;return(2*t-2*n+r+o)*(a*l)+(-3*t+3*n-2*r-o)*l+r*a+t}},a,interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,a=Math.floor(i),r=Utils.Linear;return t<0?r(e[0],e[1],i):t>1?r(e[n],e[n-1],n-i):r(e[a],e[a+1>n?n:a+1],i-a)},Bezier:function(e,t){var n,i=0,a=e.length-1,r=Math.pow,o=Utils.Bernstein;for(n=0;n<=a;n++)i+=r(1-t,a-n)*r(t,n)*e[n]*o(a,n);return i},CatmullRom:function(e,t){var n=e.length-1,i=n*t,a=Math.floor(i),r=Utils.CatmullRom;return e[0]===e[n]?(t<0&&(a=Math.floor(i=n*(1+t))),r(e[(a-1+n)%n],e[a],e[(a+1)%n],e[(a+2)%n],i-a)):t<0?e[0]-(r(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(r(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):r(e[a?a-1:0],e[a],e[n<a+1?n:a+1],e[n<a+2?n:a+2],i-a)}},Tween=function(e,t){t=t||{},this._object=e,this._valuesStart={},this._valuesStartRepeat={},this._startTime=null,this._onStartCallbackFired=!1,this._onCompleteCallbackFired=!1,this.remove=!1,this._isPlaying=!1,this._reversed=!1,this.filters=t.filters||{},this.duration=t.duration||1e3,this.repeat=t.repeat||0,this.repeatDelay=t.repeatDelay||0,this.delay=t.delay||0,this.from=t.from||!1,this.to=t.to||{},this.yoyo=t.yoyo||!1,this.easing=t.easing||easing.Linear.None,this.interpolation=t.interpolation||interpolation.Linear,this.chained=t.chained||[],this.onStart=t.onStart||!1,this.onUpdate=t.onUpdate||!1,this.onComplete=t.onComplete||!1,this.onRepeat=t.onRepeat||!1,this.onYoYo=t.onYoYo||!1,this.window=!1};Tween.prototype.start=function(e){var t;for(var n in this._isPlaying=!0,this._object)this.from&&void 0!==this.from[n]&&(this._object[n]=this.from[n]);if(this._onStartCallbackFired=!1,this._onCompleteCallbackFired=!1,void 0!==e)this._startTime=e;else{var i=this.window||i;void 0!==i&&void 0!==i.performance&&void 0!==i.performance.now?this._startTime=i.performance.now():this._startTime=Date.now()}for(t in this._startTime+=this.delay,this.to){var a=this.to[t],r=this.filters[t];if(a instanceof Array){if(0===a.length)continue;a=[this._object[t]].concat(a)}r&&r.start(this._object[t],a),this.to[t]=a,this._valuesStart[t]=this._object[t],this._valuesStartRepeat[t]=this._valuesStart[t]||0}return this},Tween.prototype.update=function(e){if(!this._isPlaying)return!0;var t;if(e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this.onStart&&this.onStart(this._object,this,0,0),this._onStartCallbackFired=!0);var n=(e-this._startTime)/this.duration;n=n>1?1:n;var i=this.easing(n);for(t in this.to){var a,r=this._valuesStart[t]||0,o=this.to[t],l=void 0!==this.filters[t]&&this.filters[t];"number"==typeof o?a=r+(o-r)*i:l?a=l.getUpdatedValue(i,this.interpolation):o instanceof Array&&(a=this.interpolation(o,i)),void 0!==a&&(this._object[t]=a)}if(this.onUpdate&&this.onUpdate(this._object,this,i,n),1==n){if(this.repeat>0){for(t in isFinite(this.repeat)&&this.repeat--,this._valuesStartRepeat){if(this.yoyo){var s=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this.to[t],this.to[t]=s,this._reversed=!this._reversed,this.onYoYo&&this.onYoYo(this._object,this,1,1)}this._valuesStart[t]=this._valuesStartRepeat[t],this.filters[t]&&this.filters[t].start(this._valuesStart[t],this.to[t])}return this._startTime=e+this.repeatDelay,this.onRepeat&&this.onRepeat(this._object,this,1,1),!0}return!1===this._onCompleteCallbackFired&&(this.onComplete&&this.onComplete(this._object,this,1,1),this._onCompleteCallbackFired=!0),!1}return!0},Tween.prototype.getDuration=function(){var e=0;return this.repeat&&(e=this.repeatDelay),this.delay+(e+this.duration)*(this.repeat||1)};var tween=Tween,Filter=function(e){e=e||{},this.format=e.format||this.format,this.placeholder=e.placeholder||this.placeholder,this.placeholderTypes=e.placeholderTypes||[].concat(this.placeholderTypes),this._formatArray=this.format.split(this.placeholder)};Filter.prototype._formatArray=null,Filter.prototype.format="rgba(%,%,%,%)",Filter.prototype.placeholder="%",Filter.prototype.placeholderTypes=["int","int","int","float"],Filter.prototype.to=null,Filter.prototype.from=null,Filter.prototype.stringToArray=function(e){return e.match(/[+-]?[\d]+(\.[\d]+)?/g).map(parseFloat)},Filter.prototype.validateArrayLength=function(e,t,n){(n=n||"")&&(n=' set to the "'+n+'" param'),(t=t||"")&&(t=' of string "'+t+'"');var i=this._formatArray.length-1;if(e<i)throw new Error("value array length ( "+e+" )"+t+n+" is less than the number of format placeholders ( "+i+" ) in "+this.format);if(e>i)throw new Error("value array length ( "+e+" )"+t+n+" is greater than the number of format placeholders ( "+i+" ) in "+this.format)},Filter.prototype.arrayToString=function(e){var t,n=this._formatArray,i=n.length,a=[];for(t=0;t<i;t++)"int"===this.placeholderTypes[t]&&(e[t]=Math.round(e[t])),a.push(n[t]),a.push(e[t]);return a.join("")},Filter.prototype.start=function(e,t){var n;if(this.from=e,this.to=t,this.arrayFrom=this.stringToArray(e),this.validateArrayLength(this.arrayFrom.length,e,"arrayFrom"),t instanceof Array){n=[];var i,a=(t=[e].concat(t)).length;for(i=0;i<a;i++){var r=this.stringToArray(t[i]);this.validateArrayLength(r.length,t[i],"arrayTo"),n[i]=r}this.arrayToIndexedInterpolated=this.getIndexedInterpolationData(n)}else n=this.stringToArray(t),this.validateArrayLength(n.length,t,"arrayTo");this.arrayTo=n},Filter.prototype.getIndexedInterpolationData=function(e){var t,n,i=[],a=e.length;for(t=0;t<a;t++){var r=e[t],o=r.length;for(n=0;n<o;n++)void 0===i[n]&&(i[n]=[]),i[n].push(r[n])}return i},Filter.prototype.getUpdatedValue=function(e,t){var n,i,a=this.arrayTo,r=[];if(a[0]instanceof Array){var o=this.arrayToIndexedInterpolated;for(i=o.length,n=0;n<i;n++)r[n]=t(o[n],e);return this.arrayToString(r)}var l=[];for(i=a.length,n=0;n<i;n++){var s=this.arrayFrom[n],u=a[n];l.push(s+(u-s)*e)}return this.arrayToString(l)};var filter$1=Filter,Queue=function(e){this.tweens=e||[],this.window=!1};Queue.prototype.window=null,Queue.prototype.tweens=null,Queue.prototype.add=function(e){return this.tweens.push(e),this},Queue.prototype.remove=function(e){var t=this.tweens.indexOf(e);return-1!==t&&this.tweens.splice(t,1),this},Queue.prototype.update=function(e){if(0===this.tweens.length)return!1;var t=0;if(void 0===e){var n=this.window||n;e=void 0!==n&&void 0!==n.performance&&void 0!==n.performance.now?n.performance.now():Date.now()}for(;t<this.tweens.length;){var i=this.tweens[t],a=i.update(e);if(i.remove||!a){if(this.tweens.splice(t,1),!i.remove&&i.chained){var r=i.chained.length;for(t=0;t<r;t++){var o=i.chained[t];this.add(o),o.start(e)}}}else t++}return!0},Queue.prototype.start=function(e){for(var t=this.tweens.length-1;t>=0;t--)this.tweens[t].start(e);return this};var queue=Queue,tweeno={Tween:tween,Filter:filter$1,Queue:queue,Interpolation:interpolation,Easing:easing};function convertToNumber(e){return Number(e)?Number(e):e}async function lookForComponent(e){var t,n=getComponentByIdAndKey(e.component.id,e.component.key);try{if(!n)throw"error";t=n}catch(n){try{t=await figma.importComponentByKeyAsync(e.component.key)}catch(t){if(t.startsWith("Could not find a published component with the key")){console.log("Template: ",e);try{figma.notify("Check component is published",{error:!0})}catch(e){console.log(e)}}}}return t}function isEmpty$1(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return JSON.stringify(e)===JSON.stringify({})}function getComponentByIdAndKey(e,t){var n=figma.getNodeById(e);if(n&&"COMPONENT"===n.type){if(!n)return null;if(null===n.parent||null===n.parent.parent)return!1;if(n.key===t)return n}}function getComponentById(e){var t=figma.getNodeById(e);if(t&&"COMPONENT"===t.type)return null!==t.parent&&null!==t.parent.parent&&t}function createPage(e){var t=figma.createPage();return t.name=e,figma.currentPage=t,t}function isVariant(e){var t;if("INSTANCE"===e.type)return"COMPONENT_SET"===(null===(t=e.mainComponent.parent)||void 0===t?void 0:t.type)}function getVariantName(e){var t,n;if(isVariant(e)){let i=(null===(t=e.variantProperties)||void 0===t?void 0:t.Type)||(null===(n=e.variantProperties)||void 0===n?void 0:n.type);return i?e.name+"/"+i:e.name+"/"+e.mainComponent.name}return e.name}function getSelectionName(e){return e?isVariant(e)?getVariantName(e):e.name:void 0}function isInsideComponent(e){const t=e.parent;return!!t&&(!(!t||"COMPONENT"!==t.type)||(!t||"PAGE"!==t.type)&&isInsideComponent(t))}function move(e,t,n,i){let a=e.splice(t,1)[0];return i?e.splice(n,0,i):e.splice(n,0,a),e}function daysToMilliseconds(e){return 24*e*60*60*1e3}function upsert(e,t,n){e.length>0&&e.some(((i,a)=>{let r=!1;return!0===t(e[a])&&(r=!0,n?move(e,a,0,n):move(e,a,0)),r}));let i=!1;return e.map(((n,a)=>{!0===t(e[a])&&(i=!0)})),i||e.unshift(n),e}function getParentComponent(e){const t=e.parent;return!!t&&(t&&"COMPONENT"===t.type?t:(!t||"PAGE"!==t.type)&&getParentComponent(t))}function animateNodeIntoView(e,t,n){let i=getPageNode_1(e[0]);figma.currentPage=i;let a=Object.assign(Object.assign({},figma.viewport.center),{z:figma.viewport.zoom});figma.viewport.scrollAndZoomIntoView(e);let r=Object.assign(Object.assign({},Object.assign({},figma.viewport.center)),{z:figma.viewport.zoom});figma.viewport.center={x:a.x,y:a.y},figma.viewport.zoom=a.z;var o={from:a,to:r,duration:t||1e3,repeat:0,easing:n||tweeno.Easing.Cubic.Out},l=Object.assign(Object.assign({},a),{update:function(){figma.viewport.center={x:this.x,y:this.y},figma.viewport.zoom=this.z}}),s=new tweeno.Queue,u=new tweeno.Tween(l,o);s.add(u),s.start();let c=setInterval((()=>{0===s.tweens.length?clearInterval(c):(s.update(),l.update())}),1)}function positionInCenterOfViewport(e){e.x=figma.viewport.center.x-e.width/2,e.y=figma.viewport.center.y-e.height/2}function swapAxises(e){let t=e.primaryAxisSizingMode,n=e.counterAxisSizingMode;return e.primaryAxisSizingMode=n,e.counterAxisSizingMode=t,e}function groupBy$1(e,t){const n=new Map;return e.forEach((e=>{const i=t(e),a=n.get(i);a?a.push(e):n.set(i,[e])})),Array.from(n)}function genRandomId(){return Array(10).fill("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz").map((function(e){return e[Math.floor(Math.random()*e.length)]})).join("")}function clone$1(e){return JSON.parse(JSON.stringify(e))}function getTemplateParts$1(e){let t=["tr","td","th","table"],n={};for(let i=0;i<t.length;i++){let a=t[i],r=e.findOne((e=>{let t=getPluginData_1(e,"elementSemantics");if((null==t?void 0:t.is)===a)return!0}));n[a]=r}return n.table||"table"===getPluginData_1(e,"elementSemantics").is&&(n.table=e),n.container=e,n}function removeChildren(e){for(let t=e.children.length-1;t>=0;t--)e.children[t].remove()}function copyPasteStyle(e,t,n={}){const i=["opacity","blendMode","effects","effectStyleId","backgrounds","backgroundStyleId","fills","strokes","strokeWeight","strokeMiterLimit","strokeAlign","strokeCap","strokeJoin","dashPattern","fillStyleId","strokeStyleId","cornerRadius","cornerSmoothing","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","paddingLeft","paddingRight","paddingTop","paddingBottom","itemSpacing","clipsContent","layoutMode","strokeTopWeight","strokeBottomWeight","strokeRightWeight","strokeLeftWeight"];return n.include?n.include=n.include.concat(i):n.include=i,copyPaste_1(e,t,n)}async function changeText(e,t,n){e.fontName===figma.mixed?await figma.loadFontAsync(e.getRangeFontName(0,1)):await figma.loadFontAsync({family:e.fontName.family,style:n||e.fontName.style}),t&&(e.characters=t)}async function overrideChildrenChars2(e,t,n,i){for(let a=0;a<e.length;a++)n[a]&&i[a]&&(n[a].name===i[a].name&&(t[a].name=e[a].name,t[a].visible=e[a].visible,"INSTANCE"===t[a].type&&t[a].swapComponent(e[a].mainComponent)),t[a].children&&e[a].children?await overrideChildrenChars2(e[a].children,t[a].children,n[a].children,i[a].children):"TEXT"===e[a].type&&await changeText(t[a],e[a].characters,e[a].fontName.style))}async function swapInstance(e,t){e&&t&&await overrideChildrenChars2(e.children,t.children,e.mainComponent.children,t.mainComponent.children)}function sleep$1(e=0){return new Promise((t=>setTimeout(t,e)))}function isTheme(e){return(255*e.r*299+255*e.g*587+255*e.b*114)/1e3>160||"figjam"===figma.editorType?"light":"dark"}async function createTooltip(e,t){let n="light";"dark"===isTheme(t||figma.currentPage.backgrounds[0].color)&&(n="dark"),await async function(){await Promise.all([figma.loadFontAsync({family:"Inter",style:"Regular"})])}();var i=figma.createComponent();i.resize(457,53),i.counterAxisSizingMode="AUTO",i.name=".Tooltip",i.relativeTransform=[[1,0,13222],[0,1,7008]],i.x=13222,i.y=7008,i.fills=[],i.cornerRadius=8,i.primaryAxisSizingMode="FIXED",i.strokeTopWeight=1,i.strokeBottomWeight=1,i.strokeLeftWeight=1,i.strokeRightWeight=1,i.backgrounds=[],i.expanded=!1,i.layoutMode="HORIZONTAL",i.counterAxisSizingMode="AUTO";var a=figma.createFrame();i.appendChild(a),a.resize(457,53),a.primaryAxisSizingMode="AUTO",a.name="Artwork",a.layoutPositioning="ABSOLUTE",a.fills=[],a.strokeTopWeight=1,a.strokeBottomWeight=1,a.strokeLeftWeight=1,a.strokeRightWeight=1,a.backgrounds=[],a.clipsContent=!1,a.expanded=!1,a.constraints={horizontal:"STRETCH",vertical:"STRETCH"};var r=figma.createRectangle();a.appendChild(r),r.resize(15.5563220978,15.5563220978),r.name="Rectangle 1",r.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],r.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],r.relativeTransform=[[.7071068287,-.7071068287,0],[.7071068287,.7071068287,16]],r.y=16,r.rotation=-45,r.constrainProportions=!0,r.strokeTopWeight=1,r.strokeBottomWeight=1,r.strokeLeftWeight=1,r.strokeRightWeight=1;var o=figma.createRectangle();a.appendChild(o),o.resize(457,53),o.name="Rectangle 2",o.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],o.constraints={horizontal:"MIN",vertical:"STRETCH"},o.cornerRadius=8,o.strokeTopWeight=1,o.strokeBottomWeight=1,o.strokeLeftWeight=1,o.strokeRightWeight=1;var l=figma.union([r,o],a);l.name="Union",l.visible=!0,l.locked=!1,l.opacity=1,l.blendMode="PASS_THROUGH",l.isMask=!1,l.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.07000000029802322},offset:{x:0,y:4},radius:12,spread:0,visible:!0,blendMode:"NORMAL",showShadowBehindNode:!1}],l.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],l.strokes=[{type:"SOLID",visible:!0,opacity:.10000000149011612,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],l.strokeWeight=1,l.strokeAlign="INSIDE",l.strokeJoin="MITER",l.dashPattern=[],l.strokeCap="NONE",l.strokeMiterLimit=4,l.layoutAlign="INHERIT",l.constrainProportions=!1,l.layoutGrow=0,l.layoutPositioning="AUTO",l.exportSettings=[],l.cornerRadius=0,l.cornerSmoothing=0,l.expanded=!1,l.reactions=[];var s=figma.createText();i.appendChild(s),s.resize(417,21),s.name="Only layer styles such as: background, color, border radius etc will be used to create tables. You don't have to create tables using the plugin. You can also create tables by creating an instance of this component and detaching them and their rows. If you change the styles used on the table or row components you can update existing tables by going to Plugins > Table Creator > Settings and select Refresh Tables",s.relativeTransform=[[1,0,20],[0,1,16]],s.x=20,s.y=16,s.layoutGrow=1,s.autoRename=!1,s.listSpacing=0,s.characters="Text",s.fontSize=14,s.lineHeight={unit:"PERCENT",value:150},s.fontName={family:"Inter",style:"Regular"},s.textAutoResize="HEIGHT",i.remove();var u=i.createInstance();figma.currentPage.appendChild(u),u.relativeTransform=[[1,0,13222],[0,1,7163]],u.y=7163,u.swapComponent(i);var c=figma.getNodeById("I"+u.id+";"+a.id);c.resize(457,116),c.primaryAxisSizingMode="AUTO";var d=figma.getNodeById("I"+u.id+";"+l.id);figma.getNodeById("I"+u.id+";"+r.id),figma.getNodeById("I"+u.id+";"+o.id).resize(457,116);var p=figma.getNodeById("I"+u.id+";"+s.id);return p.resize(417,84),p.characters=e,i.paddingLeft=20,i.paddingRight=20,i.paddingTop=16,i.paddingBottom=16,"dark"===n&&(p.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],d.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.21250000596046448,g:.21250000596046448,b:.21250000596046448}}],d.strokes=[{type:"SOLID",visible:!0,opacity:.10000000149011612,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],d.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.10000000149011612},offset:{x:0,y:4},radius:12,spread:0,visible:!0,blendMode:"NORMAL",showShadowBehindNode:!1}]),u}async function createTemplateComponents(){let e="light";"dark"===isTheme(figma.currentPage.backgrounds[0].color)&&(e="dark"),await async function(){await Promise.all([figma.loadFontAsync({family:"Inter",style:"Regular"}),figma.loadFontAsync({family:"Inter",style:"Semi Bold"})])}();var t=figma.createComponent();t.resize(120,35),t.name="Type=Default",t.relativeTransform=[[1,0,16],[0,1,16]],t.x=16,t.y=16,t.layoutAlign="STRETCH",t.fills=[{type:"SOLID",visible:!0,opacity:.0020000000949949026,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],t.strokes="dark"===e?[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]:[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}],t.primaryAxisSizingMode="FIXED",t.strokeTopWeight=1,t.strokeBottomWeight=0,t.strokeLeftWeight=1,t.strokeRightWeight=0,t.backgrounds=[{type:"SOLID",visible:!0,opacity:.0020000000949949026,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],t.expanded=!1,t.layoutMode="VERTICAL";var n=figma.createFrame();t.appendChild(n),n.resize(120,35),n.counterAxisSizingMode="AUTO",n.primaryAxisSizingMode="FIXED",n.name="Content",n.layoutAlign="STRETCH",n.fills=[],n.paddingLeft=12,n.paddingRight=12,n.paddingTop=10,n.paddingBottom=10,n.strokeTopWeight=1,n.strokeBottomWeight=1,n.strokeLeftWeight=1,n.strokeRightWeight=1,n.backgrounds=[],n.expanded=!1,n.layoutMode="HORIZONTAL";var i=figma.createText();n.appendChild(i),i.resize(96,15),i.relativeTransform=[[1,0,12],[0,1,10]],i.x=12,i.y=10,i.layoutGrow=1,i.fontName={family:"Inter",style:"Regular"},i.listSpacing=0,i.characters="",i.lineHeight={unit:"PERCENT",value:130},i.fontName={family:"Inter",style:"Regular"},i.textAutoResize="HEIGHT","dark"===e&&(i.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}]);var a=figma.createComponent();a.resize(120,35),a.name="Type=Header",a.relativeTransform=[[1,0,136],[0,1,16]],a.x=136,a.y=16,a.layoutAlign="STRETCH","dark"===e?(a.fills=[{type:"SOLID",visible:!0,opacity:.05,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],a.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]):(a.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],a.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}]),a.primaryAxisSizingMode="FIXED",a.strokeTopWeight=1,a.strokeBottomWeight=0,a.strokeLeftWeight=1,a.strokeRightWeight=0,a.expanded=!1,a.layoutMode="VERTICAL";var r=figma.createFrame();a.appendChild(r),r.resize(120,35),r.counterAxisSizingMode="AUTO",r.primaryAxisSizingMode="FIXED",r.name="Content",r.layoutAlign="STRETCH",r.fills=[],r.paddingLeft=12,r.paddingRight=12,r.paddingTop=10,r.paddingBottom=10,r.strokeTopWeight=1,r.strokeBottomWeight=1,r.strokeLeftWeight=1,r.strokeRightWeight=1,r.backgrounds=[],r.expanded=!1,r.layoutMode="HORIZONTAL";var o=figma.createText();r.appendChild(o),o.resize(96,15),o.relativeTransform=[[1,0,12],[0,1,10]],o.x=12,o.y=10,o.layoutGrow=1,o.fontName={family:"Inter",style:"Semi Bold"},o.listSpacing=0,o.characters="",o.lineHeight={unit:"PERCENT",value:130},o.fontName={family:"Inter",style:"Semi Bold"},o.textAutoResize="HEIGHT","dark"===e&&(o.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}]);var l=figma.combineAsVariants([t,a],figma.currentPage);l.resize(272,67),l.primaryAxisSizingMode="AUTO",l.counterAxisSizingMode="AUTO",l.name="Cell",l.visible=!0,l.locked=!1,l.opacity=1,l.blendMode="PASS_THROUGH",l.isMask=!1,l.effects=[],l.relativeTransform=[[1,0,11673],[0,1,7538]],l.x=11673,l.y=7538,l.rotation=0,l.layoutAlign="INHERIT",l.constrainProportions=!1,l.layoutGrow=0,l.layoutPositioning="AUTO",l.exportSettings=[],l.fills=[],l.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}],l.strokeWeight=1,l.strokeAlign="INSIDE",l.strokeJoin="MITER",l.dashPattern=[10,5],l.strokeCap="NONE",l.strokeMiterLimit=4,l.cornerRadius=5,l.cornerSmoothing=0,l.paddingLeft=16,l.paddingRight=16,l.paddingTop=16,l.paddingBottom=16,l.primaryAxisAlignItems="MIN",l.counterAxisAlignItems="MIN",l.primaryAxisSizingMode="AUTO",l.strokeTopWeight=1,l.strokeBottomWeight=1,l.strokeLeftWeight=1,l.strokeRightWeight=1,l.layoutGrids=[],l.backgrounds=[],l.clipsContent=!0,l.guides=[],l.expanded=!1,l.constraints={horizontal:"MIN",vertical:"MIN"},l.layoutMode="HORIZONTAL",l.counterAxisSizingMode="AUTO",l.itemSpacing=0,l.overflowDirection="NONE",l.numberOfFixedChildren=0,l.itemReverseZIndex=!1,l.strokesIncludedInLayout=!1,l.description="",l.documentationLinks=[];var s=figma.createComponent();figma.currentPage.appendChild(s),s.resize(240,35),s.primaryAxisSizingMode="AUTO",s.counterAxisSizingMode="AUTO",s.name="Row",s.relativeTransform=[[1,0,11689],[0,1,7399]],s.x=11689,s.y=7399,s.fills=[{type:"SOLID",visible:!0,opacity:9999999747378752e-20,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],s.strokeTopWeight=1,s.strokeBottomWeight=1,s.strokeLeftWeight=1,s.strokeRightWeight=1,s.backgrounds=[{type:"SOLID",visible:!0,opacity:9999999747378752e-20,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],s.clipsContent=!0,s.expanded=!1,s.layoutMode="HORIZONTAL",s.counterAxisSizingMode="AUTO",s.layoutAlign="STRETCH",s.primaryAxisSizingMode="FIXED";var u=t.createInstance();s.appendChild(u),u.relativeTransform=[[1,0,0],[0,1,0]],u.layoutAlign="STRETCH",u.swapComponent(t),figma.getNodeById("I"+u.id+";"+n.id),figma.getNodeById("I"+u.id+";"+i.id);var c=t.createInstance();s.appendChild(c),c.relativeTransform=[[1,0,120],[0,1,0]],c.x=120,c.layoutAlign="STRETCH",c.swapComponent(t),figma.getNodeById("I"+c.id+";"+n.id),figma.getNodeById("I"+c.id+";"+i.id);var d=figma.createComponent();figma.currentPage.appendChild(d),d.resize(240,105),d.primaryAxisSizingMode="AUTO",d.counterAxisSizingMode="AUTO",d.name="Table 1",d.relativeTransform=[[1,0,11689],[0,1,7174]],d.x=11689,d.y=7174,d.expanded=!1,d.layoutMode="VERTICAL",d.counterAxisSizingMode="AUTO";var p=figma.createFrame();d.appendChild(p),p.resize(240,105),p.primaryAxisSizingMode="AUTO",p.counterAxisSizingMode="AUTO",p.name="Table","dark"===e?(p.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.21250000596046448,g:.21250000596046448,b:.21250000596046448}}],p.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]):(p.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],p.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}]),p.cornerRadius=4,p.strokeTopWeight=1,p.strokeBottomWeight=1,p.strokeLeftWeight=1,p.strokeRightWeight=1,p.clipsContent=!0,p.expanded=!1,p.layoutMode="VERTICAL",p.counterAxisSizingMode="AUTO";var g=s.createInstance();p.appendChild(g),g.relativeTransform=[[1,0,0],[0,1,0]],g.layoutAlign="STRETCH",g.primaryAxisSizingMode="FIXED",g.swapComponent(s);var m=figma.getNodeById("I"+g.id+";"+u.id);m.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],m.backgrounds=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],m.swapComponent(a),figma.getNodeById(m.id+";"+r.id),figma.getNodeById(m.id+";"+o.id);var f=figma.getNodeById("I"+g.id+";"+c.id);f.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],f.backgrounds=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],f.swapComponent(a),figma.getNodeById(f.id+";"+r.id),figma.getNodeById(f.id+";"+o.id);var h=s.createInstance();p.appendChild(h),h.relativeTransform=[[1,0,0],[0,1,35]],h.y=35,h.layoutAlign="STRETCH",h.primaryAxisSizingMode="FIXED",h.swapComponent(s);var y=figma.getNodeById("I"+h.id+";"+u.id);y.swapComponent(t),figma.getNodeById(y.id+";"+n.id),figma.getNodeById(y.id+";"+i.id);var v=figma.getNodeById("I"+h.id+";"+c.id);v.swapComponent(t),figma.getNodeById(v.id+";"+n.id),figma.getNodeById(v.id+";"+i.id);var b=s.createInstance();p.appendChild(b),b.relativeTransform=[[1,0,0],[0,1,70]],b.y=70,b.layoutAlign="STRETCH",b.primaryAxisSizingMode="FIXED",b.swapComponent(s);var T=figma.getNodeById("I"+b.id+";"+u.id);T.swapComponent(t),figma.getNodeById(T.id+";"+n.id),figma.getNodeById(T.id+";"+i.id);var A=figma.getNodeById("I"+b.id+";"+c.id);return A.swapComponent(t),figma.getNodeById(A.id+";"+n.id),figma.getNodeById(A.id+";"+i.id),setPluginData_1(p,"elementSemantics",{is:"table"}),setPluginData_1(s,"elementSemantics",{is:"tr"}),setPluginData_1(t,"elementSemantics",{is:"td"}),setPluginData_1(a,"elementSemantics",{is:"th"}),t.setRelaunchData({selectColumn:"Select all cells in column",selectRow:"Select all cells in row"}),a.setRelaunchData({selectColumn:"Select all cells in column",selectRow:"Select all cells in row"}),{templateComponent:d,rowComponent:s,cellComponentSet:l}}var VERSION="1.13.4",root="object"==typeof self&&self.self===self&&self||"object"==typeof global$1&&global$1.global===global$1&&global$1||Function("return this")()||{},ArrayProto=Array.prototype,ObjProto=Object.prototype,SymbolProto="undefined"!=typeof Symbol?Symbol.prototype:null,push=ArrayProto.push,slice=ArrayProto.slice,toString=ObjProto.toString,hasOwnProperty=ObjProto.hasOwnProperty,supportsArrayBuffer="undefined"!=typeof ArrayBuffer,supportsDataView="undefined"!=typeof DataView,nativeIsArray=Array.isArray,nativeKeys=Object.keys,nativeCreate=Object.create,nativeIsView=supportsArrayBuffer&&ArrayBuffer.isView,_isNaN=isNaN,_isFinite=isFinite,hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],MAX_ARRAY_INDEX=Math.pow(2,53)-1;function restArguments(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),i=Array(n),a=0;a<n;a++)i[a]=arguments[a+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i)}var r=Array(t+1);for(a=0;a<t;a++)r[a]=arguments[a];return r[t]=i,e.apply(this,r)}}function isObject(e){var t=typeof e;return"function"===t||"object"===t&&!!e}function isNull(e){return null===e}function isUndefined(e){return void 0===e}function isBoolean(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)}function isElement(e){return!(!e||1!==e.nodeType)}function tagTester(e){var t="[object "+e+"]";return function(e){return toString.call(e)===t}}var isString=tagTester("String"),isNumber=tagTester("Number"),isDate=tagTester("Date"),isRegExp=tagTester("RegExp"),isError=tagTester("Error"),isSymbol=tagTester("Symbol"),isArrayBuffer=tagTester("ArrayBuffer"),isFunction=tagTester("Function"),nodelist=root.document&&root.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof nodelist&&(isFunction=function(e){return"function"==typeof e||!1});var isFunction$1=isFunction,hasObjectTag=tagTester("Object"),hasStringTagBug=supportsDataView&&hasObjectTag(new DataView(new ArrayBuffer(8))),isIE11="undefined"!=typeof Map&&hasObjectTag(new Map),isDataView=tagTester("DataView");function ie10IsDataView(e){return null!=e&&isFunction$1(e.getInt8)&&isArrayBuffer(e.buffer)}var isDataView$1=hasStringTagBug?ie10IsDataView:isDataView,isArray=nativeIsArray||tagTester("Array");function has$1(e,t){return null!=e&&hasOwnProperty.call(e,t)}var isArguments=tagTester("Arguments");!function(){isArguments(arguments)||(isArguments=function(e){return has$1(e,"callee")})}();var isArguments$1=isArguments;function isFinite$1(e){return!isSymbol(e)&&_isFinite(e)&&!isNaN(parseFloat(e))}function isNaN$1(e){return isNumber(e)&&_isNaN(e)}function constant(e){return function(){return e}}function createSizePropertyCheck(e){return function(t){var n=e(t);return"number"==typeof n&&n>=0&&n<=MAX_ARRAY_INDEX}}function shallowProperty(e){return function(t){return null==t?void 0:t[e]}}var getByteLength=shallowProperty("byteLength"),isBufferLike=createSizePropertyCheck(getByteLength),typedArrayPattern=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function isTypedArray(e){return nativeIsView?nativeIsView(e)&&!isDataView$1(e):isBufferLike(e)&&typedArrayPattern.test(toString.call(e))}var isTypedArray$1=supportsArrayBuffer?isTypedArray:constant(!1),getLength=shallowProperty("length");function emulatedSet(e){for(var t={},n=e.length,i=0;i<n;++i)t[e[i]]=!0;return{contains:function(e){return!0===t[e]},push:function(n){return t[n]=!0,e.push(n)}}}function collectNonEnumProps(e,t){t=emulatedSet(t);var n=nonEnumerableProps.length,i=e.constructor,a=isFunction$1(i)&&i.prototype||ObjProto,r="constructor";for(has$1(e,r)&&!t.contains(r)&&t.push(r);n--;)(r=nonEnumerableProps[n])in e&&e[r]!==a[r]&&!t.contains(r)&&t.push(r)}function keys(e){if(!isObject(e))return[];if(nativeKeys)return nativeKeys(e);var t=[];for(var n in e)has$1(e,n)&&t.push(n);return hasEnumBug&&collectNonEnumProps(e,t),t}function isEmpty(e){if(null==e)return!0;var t=getLength(e);return"number"==typeof t&&(isArray(e)||isString(e)||isArguments$1(e))?0===t:0===getLength(keys(e))}function isMatch(e,t){var n=keys(t),i=n.length;if(null==e)return!i;for(var a=Object(e),r=0;r<i;r++){var o=n[r];if(t[o]!==a[o]||!(o in a))return!1}return!0}function _$1(e){return e instanceof _$1?e:this instanceof _$1?void(this._wrapped=e):new _$1(e)}function toBufferView(e){return new Uint8Array(e.buffer||e,e.byteOffset||0,getByteLength(e))}_$1.VERSION=VERSION,_$1.prototype.value=function(){return this._wrapped},_$1.prototype.valueOf=_$1.prototype.toJSON=_$1.prototype.value,_$1.prototype.toString=function(){return String(this._wrapped)};var tagDataView="[object DataView]";function eq(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var a=typeof e;return("function"===a||"object"===a||"object"==typeof t)&&deepEq(e,t,n,i)}function deepEq(e,t,n,i){e instanceof _$1&&(e=e._wrapped),t instanceof _$1&&(t=t._wrapped);var a=toString.call(e);if(a!==toString.call(t))return!1;if(hasStringTagBug&&"[object Object]"==a&&isDataView$1(e)){if(!isDataView$1(t))return!1;a=tagDataView}switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return SymbolProto.valueOf.call(e)===SymbolProto.valueOf.call(t);case"[object ArrayBuffer]":case tagDataView:return deepEq(toBufferView(e),toBufferView(t),n,i)}var r="[object Array]"===a;if(!r&&isTypedArray$1(e)){if(getByteLength(e)!==getByteLength(t))return!1;if(e.buffer===t.buffer&&e.byteOffset===t.byteOffset)return!0;r=!0}if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,l=t.constructor;if(o!==l&&!(isFunction$1(o)&&o instanceof o&&isFunction$1(l)&&l instanceof l)&&"constructor"in e&&"constructor"in t)return!1}i=i||[];for(var s=(n=n||[]).length;s--;)if(n[s]===e)return i[s]===t;if(n.push(e),i.push(t),r){if((s=e.length)!==t.length)return!1;for(;s--;)if(!eq(e[s],t[s],n,i))return!1}else{var u,c=keys(e);if(s=c.length,keys(t).length!==s)return!1;for(;s--;)if(!has$1(t,u=c[s])||!eq(e[u],t[u],n,i))return!1}return n.pop(),i.pop(),!0}function isEqual(e,t){return eq(e,t)}function allKeys(e){if(!isObject(e))return[];var t=[];for(var n in e)t.push(n);return hasEnumBug&&collectNonEnumProps(e,t),t}function ie11fingerprint(e){var t=getLength(e);return function(n){if(null==n)return!1;var i=allKeys(n);if(getLength(i))return!1;for(var a=0;a<t;a++)if(!isFunction$1(n[e[a]]))return!1;return e!==weakMapMethods||!isFunction$1(n[forEachName])}}var forEachName="forEach",hasName="has",commonInit=["clear","delete"],mapTail=["get",hasName,"set"],mapMethods=commonInit.concat(forEachName,mapTail),weakMapMethods=commonInit.concat(mapTail),setMethods=["add"].concat(commonInit,forEachName,hasName),isMap=isIE11?ie11fingerprint(mapMethods):tagTester("Map"),isWeakMap=isIE11?ie11fingerprint(weakMapMethods):tagTester("WeakMap"),isSet=isIE11?ie11fingerprint(setMethods):tagTester("Set"),isWeakSet=tagTester("WeakSet");function values(e){for(var t=keys(e),n=t.length,i=Array(n),a=0;a<n;a++)i[a]=e[t[a]];return i}function pairs(e){for(var t=keys(e),n=t.length,i=Array(n),a=0;a<n;a++)i[a]=[t[a],e[t[a]]];return i}function invert(e){for(var t={},n=keys(e),i=0,a=n.length;i<a;i++)t[e[n[i]]]=n[i];return t}function functions(e){var t=[];for(var n in e)isFunction$1(e[n])&&t.push(n);return t.sort()}function createAssigner(e,t){return function(n){var i=arguments.length;if(t&&(n=Object(n)),i<2||null==n)return n;for(var a=1;a<i;a++)for(var r=arguments[a],o=e(r),l=o.length,s=0;s<l;s++){var u=o[s];t&&void 0!==n[u]||(n[u]=r[u])}return n}}var extend=createAssigner(allKeys),extendOwn=createAssigner(keys),defaults=createAssigner(allKeys,!0);function ctor(){return function(){}}function baseCreate(e){if(!isObject(e))return{};if(nativeCreate)return nativeCreate(e);var t=ctor();t.prototype=e;var n=new t;return t.prototype=null,n}function create(e,t){var n=baseCreate(e);return t&&extendOwn(n,t),n}function clone(e){return isObject(e)?isArray(e)?e.slice():extend({},e):e}function tap(e,t){return t(e),e}function toPath$1(e){return isArray(e)?e:[e]}function toPath(e){return _$1.toPath(e)}function deepGet(e,t){for(var n=t.length,i=0;i<n;i++){if(null==e)return;e=e[t[i]]}return n?e:void 0}function get(e,t,n){var i=deepGet(e,toPath(t));return isUndefined(i)?n:i}function has(e,t){for(var n=(t=toPath(t)).length,i=0;i<n;i++){var a=t[i];if(!has$1(e,a))return!1;e=e[a]}return!!n}function identity(e){return e}function matcher(e){return e=extendOwn({},e),function(t){return isMatch(t,e)}}function property(e){return e=toPath(e),function(t){return deepGet(t,e)}}function optimizeCb(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,i,a){return e.call(t,n,i,a)};case 4:return function(n,i,a,r){return e.call(t,n,i,a,r)}}return function(){return e.apply(t,arguments)}}function baseIteratee(e,t,n){return null==e?identity:isFunction$1(e)?optimizeCb(e,t,n):isObject(e)&&!isArray(e)?matcher(e):property(e)}function iteratee(e,t){return baseIteratee(e,t,1/0)}function cb(e,t,n){return _$1.iteratee!==iteratee?_$1.iteratee(e,t):baseIteratee(e,t,n)}function mapObject(e,t,n){t=cb(t,n);for(var i=keys(e),a=i.length,r={},o=0;o<a;o++){var l=i[o];r[l]=t(e[l],l,e)}return r}function noop(){}function propertyOf(e){return null==e?noop:function(t){return get(e,t)}}function times(e,t,n){var i=Array(Math.max(0,e));t=optimizeCb(t,n,1);for(var a=0;a<e;a++)i[a]=t(a);return i}function random(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))}_$1.toPath=toPath$1,_$1.iteratee=iteratee;var now=Date.now||function(){return(new Date).getTime()};function createEscaper(e){var t=function(t){return e[t]},n="(?:"+keys(e).join("|")+")",i=RegExp(n),a=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(a,t):e}}var escapeMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_escape=createEscaper(escapeMap),unescapeMap=invert(escapeMap),_unescape=createEscaper(unescapeMap),templateSettings=_$1.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},noMatch=/(.)^/,escapes={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},escapeRegExp=/\\|'|\r|\n|\u2028|\u2029/g;function escapeChar(e){return"\\"+escapes[e]}var bareIdentifier=/^\s*(\w|\$)+\s*$/;function template(e,t,n){!t&&n&&(t=n),t=defaults({},t,_$1.templateSettings);var i=RegExp([(t.escape||noMatch).source,(t.interpolate||noMatch).source,(t.evaluate||noMatch).source].join("|")+"|$","g"),a=0,r="__p+='";e.replace(i,(function(t,n,i,o,l){return r+=e.slice(a,l).replace(escapeRegExp,escapeChar),a=l+t.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),t})),r+="';\n";var o,l=t.variable;if(l){if(!bareIdentifier.test(l))throw new Error("variable is not a bare identifier: "+l)}else r="with(obj||{}){\n"+r+"}\n",l="obj";r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{o=new Function(l,"_",r)}catch(e){throw e.source=r,e}var s=function(e){return o.call(this,e,_$1)};return s.source="function("+l+"){\n"+r+"}",s}function result(e,t,n){var i=(t=toPath(t)).length;if(!i)return isFunction$1(n)?n.call(e):n;for(var a=0;a<i;a++){var r=null==e?void 0:e[t[a]];void 0===r&&(r=n,a=i),e=isFunction$1(r)?r.call(e):r}return e}var idCounter=0;function uniqueId(e){var t=++idCounter+"";return e?e+t:t}function chain(e){var t=_$1(e);return t._chain=!0,t}function executeBound(e,t,n,i,a){if(!(i instanceof t))return e.apply(n,a);var r=baseCreate(e.prototype),o=e.apply(r,a);return isObject(o)?o:r}var partial=restArguments((function(e,t){var n=partial.placeholder,i=function(){for(var a=0,r=t.length,o=Array(r),l=0;l<r;l++)o[l]=t[l]===n?arguments[a++]:t[l];for(;a<arguments.length;)o.push(arguments[a++]);return executeBound(e,i,this,this,o)};return i}));partial.placeholder=_$1;var bind=restArguments((function(e,t,n){if(!isFunction$1(e))throw new TypeError("Bind must be called on a function");var i=restArguments((function(a){return executeBound(e,i,t,this,n.concat(a))}));return i})),isArrayLike=createSizePropertyCheck(getLength);function flatten$1(e,t,n,i){if(i=i||[],t||0===t){if(t<=0)return i.concat(e)}else t=1/0;for(var a=i.length,r=0,o=getLength(e);r<o;r++){var l=e[r];if(isArrayLike(l)&&(isArray(l)||isArguments$1(l)))if(t>1)flatten$1(l,t-1,n,i),a=i.length;else for(var s=0,u=l.length;s<u;)i[a++]=l[s++];else n||(i[a++]=l)}return i}var bindAll=restArguments((function(e,t){var n=(t=flatten$1(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var i=t[n];e[i]=bind(e[i],e)}return e}));function memoize(e,t){var n=function(i){var a=n.cache,r=""+(t?t.apply(this,arguments):i);return has$1(a,r)||(a[r]=e.apply(this,arguments)),a[r]};return n.cache={},n}var delay=restArguments((function(e,t,n){return setTimeout((function(){return e.apply(null,n)}),t)})),defer=partial(delay,_$1,1);function throttle(e,t,n){var i,a,r,o,l=0;n||(n={});var s=function(){l=!1===n.leading?0:now(),i=null,o=e.apply(a,r),i||(a=r=null)},u=function(){var u=now();l||!1!==n.leading||(l=u);var c=t-(u-l);return a=this,r=arguments,c<=0||c>t?(i&&(clearTimeout(i),i=null),l=u,o=e.apply(a,r),i||(a=r=null)):i||!1===n.trailing||(i=setTimeout(s,c)),o};return u.cancel=function(){clearTimeout(i),l=0,i=a=r=null},u}function debounce(e,t,n){var i,a,r,o,l,s=function(){var u=now()-a;t>u?i=setTimeout(s,t-u):(i=null,n||(o=e.apply(l,r)),i||(r=l=null))},u=restArguments((function(u){return l=this,r=u,a=now(),i||(i=setTimeout(s,t),n&&(o=e.apply(l,r))),o}));return u.cancel=function(){clearTimeout(i),i=r=l=null},u}function wrap(e,t){return partial(t,e)}function negate(e){return function(){return!e.apply(this,arguments)}}function compose(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}}function after(e,t){return function(){if(--e<1)return t.apply(this,arguments)}}function before(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}}var once=partial(before,2);function findKey(e,t,n){t=cb(t,n);for(var i,a=keys(e),r=0,o=a.length;r<o;r++)if(t(e[i=a[r]],i,e))return i}function createPredicateIndexFinder(e){return function(t,n,i){n=cb(n,i);for(var a=getLength(t),r=e>0?0:a-1;r>=0&&r<a;r+=e)if(n(t[r],r,t))return r;return-1}}var findIndex=createPredicateIndexFinder(1),findLastIndex=createPredicateIndexFinder(-1);function sortedIndex(e,t,n,i){for(var a=(n=cb(n,i,1))(t),r=0,o=getLength(e);r<o;){var l=Math.floor((r+o)/2);n(e[l])<a?r=l+1:o=l}return r}function createIndexFinder(e,t,n){return function(i,a,r){var o=0,l=getLength(i);if("number"==typeof r)e>0?o=r>=0?r:Math.max(r+l,o):l=r>=0?Math.min(r+1,l):r+l+1;else if(n&&r&&l)return i[r=n(i,a)]===a?r:-1;if(a!=a)return(r=t(slice.call(i,o,l),isNaN$1))>=0?r+o:-1;for(r=e>0?o:l-1;r>=0&&r<l;r+=e)if(i[r]===a)return r;return-1}}var indexOf=createIndexFinder(1,findIndex,sortedIndex),lastIndexOf=createIndexFinder(-1,findLastIndex);function find(e,t,n){var i=(isArrayLike(e)?findIndex:findKey)(e,t,n);if(void 0!==i&&-1!==i)return e[i]}function findWhere(e,t){return find(e,matcher(t))}function each(e,t,n){var i,a;if(t=optimizeCb(t,n),isArrayLike(e))for(i=0,a=e.length;i<a;i++)t(e[i],i,e);else{var r=keys(e);for(i=0,a=r.length;i<a;i++)t(e[r[i]],r[i],e)}return e}function map(e,t,n){t=cb(t,n);for(var i=!isArrayLike(e)&&keys(e),a=(i||e).length,r=Array(a),o=0;o<a;o++){var l=i?i[o]:o;r[o]=t(e[l],l,e)}return r}function createReduce(e){var t=function(t,n,i,a){var r=!isArrayLike(t)&&keys(t),o=(r||t).length,l=e>0?0:o-1;for(a||(i=t[r?r[l]:l],l+=e);l>=0&&l<o;l+=e){var s=r?r[l]:l;i=n(i,t[s],s,t)}return i};return function(e,n,i,a){var r=arguments.length>=3;return t(e,optimizeCb(n,a,4),i,r)}}var reduce=createReduce(1),reduceRight=createReduce(-1);function filter(e,t,n){var i=[];return t=cb(t,n),each(e,(function(e,n,a){t(e,n,a)&&i.push(e)})),i}function reject(e,t,n){return filter(e,negate(cb(t)),n)}function every(e,t,n){t=cb(t,n);for(var i=!isArrayLike(e)&&keys(e),a=(i||e).length,r=0;r<a;r++){var o=i?i[r]:r;if(!t(e[o],o,e))return!1}return!0}function some(e,t,n){t=cb(t,n);for(var i=!isArrayLike(e)&&keys(e),a=(i||e).length,r=0;r<a;r++){var o=i?i[r]:r;if(t(e[o],o,e))return!0}return!1}function contains(e,t,n,i){return isArrayLike(e)||(e=values(e)),("number"!=typeof n||i)&&(n=0),indexOf(e,t,n)>=0}var invoke=restArguments((function(e,t,n){var i,a;return isFunction$1(t)?a=t:(t=toPath(t),i=t.slice(0,-1),t=t[t.length-1]),map(e,(function(e){var r=a;if(!r){if(i&&i.length&&(e=deepGet(e,i)),null==e)return;r=e[t]}return null==r?r:r.apply(e,n)}))}));function pluck(e,t){return map(e,property(t))}function where(e,t){return filter(e,matcher(t))}function max(e,t,n){var i,a,r=-1/0,o=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var l=0,s=(e=isArrayLike(e)?e:values(e)).length;l<s;l++)null!=(i=e[l])&&i>r&&(r=i);else t=cb(t,n),each(e,(function(e,n,i){((a=t(e,n,i))>o||a===-1/0&&r===-1/0)&&(r=e,o=a)}));return r}function min(e,t,n){var i,a,r=1/0,o=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var l=0,s=(e=isArrayLike(e)?e:values(e)).length;l<s;l++)null!=(i=e[l])&&i<r&&(r=i);else t=cb(t,n),each(e,(function(e,n,i){((a=t(e,n,i))<o||a===1/0&&r===1/0)&&(r=e,o=a)}));return r}var reStrSymbol=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function toArray(e){return e?isArray(e)?slice.call(e):isString(e)?e.match(reStrSymbol):isArrayLike(e)?map(e,identity):values(e):[]}function sample(e,t,n){if(null==t||n)return isArrayLike(e)||(e=values(e)),e[random(e.length-1)];var i=toArray(e),a=getLength(i);t=Math.max(Math.min(t,a),0);for(var r=a-1,o=0;o<t;o++){var l=random(o,r),s=i[o];i[o]=i[l],i[l]=s}return i.slice(0,t)}function shuffle(e){return sample(e,1/0)}function sortBy(e,t,n){var i=0;return t=cb(t,n),pluck(map(e,(function(e,n,a){return{value:e,index:i++,criteria:t(e,n,a)}})).sort((function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index})),"value")}function group(e,t){return function(n,i,a){var r=t?[[],[]]:{};return i=cb(i,a),each(n,(function(t,a){var o=i(t,a,n);e(r,t,o)})),r}}var groupBy=group((function(e,t,n){has$1(e,n)?e[n].push(t):e[n]=[t]})),indexBy=group((function(e,t,n){e[n]=t})),countBy=group((function(e,t,n){has$1(e,n)?e[n]++:e[n]=1})),partition=group((function(e,t,n){e[n?0:1].push(t)}),!0);function size(e){return null==e?0:isArrayLike(e)?e.length:keys(e).length}function keyInObj(e,t,n){return t in n}var pick=restArguments((function(e,t){var n={},i=t[0];if(null==e)return n;isFunction$1(i)?(t.length>1&&(i=optimizeCb(i,t[1])),t=allKeys(e)):(i=keyInObj,t=flatten$1(t,!1,!1),e=Object(e));for(var a=0,r=t.length;a<r;a++){var o=t[a],l=e[o];i(l,o,e)&&(n[o]=l)}return n})),omit=restArguments((function(e,t){var n,i=t[0];return isFunction$1(i)?(i=negate(i),t.length>1&&(n=t[1])):(t=map(flatten$1(t,!1,!1),String),i=function(e,n){return!contains(t,n)}),pick(e,i,n)}));function initial(e,t,n){return slice.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))}function first(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[0]:initial(e,e.length-t)}function rest(e,t,n){return slice.call(e,null==t||n?1:t)}function last(e,t,n){return null==e||e.length<1?null==t||n?void 0:[]:null==t||n?e[e.length-1]:rest(e,Math.max(0,e.length-t))}function compact(e){return filter(e,Boolean)}function flatten(e,t){return flatten$1(e,t,!1)}var difference=restArguments((function(e,t){return t=flatten$1(t,!0,!0),filter(e,(function(e){return!contains(t,e)}))})),without=restArguments((function(e,t){return difference(e,t)}));function uniq(e,t,n,i){isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=cb(n,i));for(var a=[],r=[],o=0,l=getLength(e);o<l;o++){var s=e[o],u=n?n(s,o,e):s;t&&!n?(o&&r===u||a.push(s),r=u):n?contains(r,u)||(r.push(u),a.push(s)):contains(a,s)||a.push(s)}return a}var union=restArguments((function(e){return uniq(flatten$1(e,!0,!0))}));function intersection(e){for(var t=[],n=arguments.length,i=0,a=getLength(e);i<a;i++){var r=e[i];if(!contains(t,r)){var o;for(o=1;o<n&&contains(arguments[o],r);o++);o===n&&t.push(r)}}return t}function unzip(e){for(var t=e&&max(e,getLength).length||0,n=Array(t),i=0;i<t;i++)n[i]=pluck(e,i);return n}var zip=restArguments(unzip);function object(e,t){for(var n={},i=0,a=getLength(e);i<a;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n}function range(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=Math.max(Math.ceil((t-e)/n),0),a=Array(i),r=0;r<i;r++,e+=n)a[r]=e;return a}function chunk(e,t){if(null==t||t<1)return[];for(var n=[],i=0,a=e.length;i<a;)n.push(slice.call(e,i,i+=t));return n}function chainResult(e,t){return e._chain?_$1(t).chain():t}function mixin(e){return each(functions(e),(function(t){var n=_$1[t]=e[t];_$1.prototype[t]=function(){var e=[this._wrapped];return push.apply(e,arguments),chainResult(this,n.apply(_$1,e))}})),_$1}each(["pop","push","reverse","shift","sort","splice","unshift"],(function(e){var t=ArrayProto[e];_$1.prototype[e]=function(){var n=this._wrapped;return null!=n&&(t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0]),chainResult(this,n)}})),each(["concat","join","slice"],(function(e){var t=ArrayProto[e];_$1.prototype[e]=function(){var e=this._wrapped;return null!=e&&(e=t.apply(e,arguments)),chainResult(this,e)}}));var allExports=Object.freeze({__proto__:null,VERSION:VERSION,restArguments:restArguments,isObject:isObject,isNull:isNull,isUndefined:isUndefined,isBoolean:isBoolean,isElement:isElement,isString:isString,isNumber:isNumber,isDate:isDate,isRegExp:isRegExp,isError:isError,isSymbol:isSymbol,isArrayBuffer:isArrayBuffer,isDataView:isDataView$1,isArray:isArray,isFunction:isFunction$1,isArguments:isArguments$1,isFinite:isFinite$1,isNaN:isNaN$1,isTypedArray:isTypedArray$1,isEmpty:isEmpty,isMatch:isMatch,isEqual:isEqual,isMap:isMap,isWeakMap:isWeakMap,isSet:isSet,isWeakSet:isWeakSet,keys:keys,allKeys:allKeys,values:values,pairs:pairs,invert:invert,functions:functions,methods:functions,extend:extend,extendOwn:extendOwn,assign:extendOwn,defaults:defaults,create:create,clone:clone,tap:tap,get:get,has:has,mapObject:mapObject,identity:identity,constant:constant,noop:noop,toPath:toPath$1,property:property,propertyOf:propertyOf,matcher:matcher,matches:matcher,times:times,random:random,now:now,escape:_escape,unescape:_unescape,templateSettings:templateSettings,template:template,result:result,uniqueId:uniqueId,chain:chain,iteratee:iteratee,partial:partial,bind:bind,bindAll:bindAll,memoize:memoize,delay:delay,defer:defer,throttle:throttle,debounce:debounce,wrap:wrap,negate:negate,compose:compose,after:after,before:before,once:once,findKey:findKey,findIndex:findIndex,findLastIndex:findLastIndex,sortedIndex:sortedIndex,indexOf:indexOf,lastIndexOf:lastIndexOf,find:find,detect:find,findWhere:findWhere,each:each,forEach:each,map:map,collect:map,reduce:reduce,foldl:reduce,inject:reduce,reduceRight:reduceRight,foldr:reduceRight,filter:filter,select:filter,reject:reject,every:every,all:every,some:some,any:some,contains:contains,includes:contains,include:contains,invoke:invoke,pluck:pluck,where:where,max:max,min:min,shuffle:shuffle,sample:sample,sortBy:sortBy,groupBy:groupBy,indexBy:indexBy,countBy:countBy,partition:partition,toArray:toArray,size:size,pick:pick,omit:omit,first:first,head:first,take:first,initial:initial,last:last,rest:rest,tail:rest,drop:rest,compact:compact,flatten:flatten,without:without,uniq:uniq,unique:uniq,union:union,intersection:intersection,difference:difference,unzip:unzip,transpose:unzip,zip:zip,object:object,range:range,chunk:chunk,mixin:mixin,default:_$1}),_=mixin(allExports);_._=_;let defaultRelaunchData={detachTable:"Detaches table and rows",toggleColumnResizing:"Apply or remove component to first row or column",switchColumnsOrRows:"Switch between using columns or rows",updateTables:"Refresh tables already created"},selectTableCellsRelaunchData={selectColumn:"Select all cells in column",selectRow:"Select all cells in row"};function getTemplate(e){return"PAGE"!==e.type&&(getPluginData_1(e,"template")?e:getTemplate(e.parent))}async function applyTableSettings(e,t){return t.template&&(await setDefaultTemplate(t.template),e.template=t.template),t.matrix&&(e.matrix=upsert(e.matrix,(e=>_.isEqual(e,t.matrix)),t.matrix),e.matrix=e.matrix.slice(0,4)),t.size&&(e.size=upsert(e.size,(e=>_.isEqual(e,t.size)),t.size),e.size=e.size.slice(0,4)),t.cell&&(e.cell=upsert(e.cell,(e=>_.isEqual(e,t.cell)),t.cell),e.cell=e.cell.slice(0,4)),t.alignment&&(e.alignment=t.alignment),e.resizing=t.resizing,e.detachedCells=t.detachedCells,!1!==t.header&&!0!==t.header||(e.header=t.header),e}function isTemplateNode(e){if("COMPONENT"===e.type&&getPluginData_1(e,"template"))return e}async function updatePluginVersion(e){return updateClientStorageAsync_1("pluginVersion",(t=>(figma.root.getPluginData("pluginVersion")&&figma.root.setPluginData("pluginVersion",""),e||t)))}function extractValues(e){return Object.entries(e).reduce((function(e,t){let n,[i,a]=t;return n={[i]:a.value},Object.assign(Object.assign({},e),n)}),{})}async function copyTemplatePart(e,t,n,i,a,r){"$"!==i.matrix[0]&&n>i.matrix[0]-1&&(n=i.matrix[0]-1);let o=e.children[n];if(a&&o){if(a){let e;e="$"===a.cell[0]?o.width:a.cell[0],e&&"FILL"!==e&&"HUG"!==e&&t.resizeWithoutConstraints(e,t.height),1===o.layoutGrow&&"$"===a.cell[0]&&(t.layoutGrow=1),0===o.layoutGrow&&"AUTO"===o.counterAxisSizingMode&&"$"===a.cell[0]&&(t.layoutGrow=0,t.counterAxisSizingMode="AUTO"),a.size[0]&&"HUG"!==a.size[0]&&"$"!==a.cell[0]&&(t.layoutGrow=1,t.counterAxisSizingMode="AUTO")}o.componentProperties&&t.setProperties(extractValues(o.componentProperties)),o.mainComponent&&t.swapComponent(o.mainComponent)}}async function createTable(e,t,n){let i,a=getTemplateParts$1(e);t.matrix[0]=convertToNumber(t.matrix[0]),t.matrix[1]=convertToNumber(t.matrix[1]),t.size[0]=convertToNumber(t.size[0]),t.size[1]=convertToNumber(t.size[1]),t.cell[0]=convertToNumber(t.cell[0]),t.cell[1]=convertToNumber(t.cell[1]);let r={matrix:[t.matrix[0],t.matrix[1]],size:[t.size[0],t.size[1]],cell:[t.cell[0],t.cell[1]]};if(a.table&&a.tr&&a.td&&(a.th||!t.header)){let h=getTableSettings(a.table);var o;"$"===t.matrix[0]&&(r.matrix[0]=h.matrix[0]),"$"===t.matrix[1]&&(r.matrix[1]=h.matrix[1]),"$"===t.size[0]&&(r.size[0]=h.size[0]),"$"===t.size[1]&&(r.size[1]=h.size[1]),"$"===t.cell[1]&&(r.cell[1]=h.cell[0][1]),i=convertToFrame_1(e.clone());var l,s=a.table.id===e.id;if(s)"COMPONENT"===n?i=o=convertToComponent_1(i):o=i;else{o=a.table.clone();let e=getNodeLocation_1(a.table,a.container);e.shift();let t=i;for(let n=0;n<e.length;n++){let i=e[n];t.children&&(t=t.children[i])}replace_1(t,o)}o.type,o.layoutMode="VERTICAL";var u=o.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)})).parent;let y;removeChildren(o),t.resizing&&"COMPONENT"!==n?((l=convertToComponent_1(a.tr.clone())).layoutAlign=a.tr.layoutAlign,l.primaryAxisSizingMode=a.tr.primaryAxisSizingMode,l.name.startsWith(".")||l.name.startsWith("_")||(l.name="."+l.name),setPluginData_1(l,"elementSemantics",{is:"tr"})):(l=convertToFrame_1(a.tr.clone()),setPluginData_1(l,"elementSemantics",{is:"tr"})),u.appendChild(l),removeChildren(l),r.size[1]&&"HUG"!==r.size[1]&&(l.layoutGrow=1),y="$"===r.cell[1]?templateCell.height:r.cell[1],y&&"FILL"!==y&&"HUG"!==y&&(l.resizeWithoutConstraints(l.width,y),l.layoutGrow=0,l.counterAxisSizingMode="FIXED"),l.layoutAlign="STRETCH";for(let e=0;e<r.matrix[0];e++){var c;"COMPONENT"===a.td.type&&(c=a.td.clone()),"INSTANCE"===a.td.type&&(c=a.td.mainComponent.createInstance()),setPluginData_1(c,"elementSemantics",{is:"td"}),l.appendChild(c),copyTemplatePart(a.table.children[1],c,e,h,r),c.primaryAxisAlignItems=t.alignment[0],c.layoutAlign="STRETCH",c.primaryAxisSizingMode="FIXED"}for(var d=r.matrix[1]-2;d>=0;d--){var p;if("COMPONENT"===l.type?(p=l.createInstance()).layoutAlign=l.layoutAlign:p=l.clone(),r.size[1]&&"HUG"!==r.size[1]&&(p.layoutGrow=1),t.resizing&&t.header)for(let e=0;e<p.children.length;e++){var g=p.children[e];g.mainComponent=a.td.mainComponent,setPluginData_1(g,"elementSemantics",{is:"td"}),copyTemplatePart(a.table.children[1],g,e,h,r),g.primaryAxisSizingMode="FIXED",g.primaryAxisAlignItems=t.alignment[0]}u.appendChild(p)}if(t.header&&a.th)for(var m=0;m<l.children.length;m++){var f=l.children[m];f.swapComponent(a.th.mainComponent),setPluginData_1(f,"elementSemantics",{is:"th"}),copyTemplatePart(a.table.children[0],f,m,h,r),f.primaryAxisAlignItems=t.alignment[0]}if(i.setRelaunchData(defaultRelaunchData),r.size[0]&&"string"!=typeof r.size[0]&&i.resize(convertToNumber(r.size[0]),i.height),r.size[1]&&"string"!=typeof r.size[1]&&i.resize(i.width,convertToNumber(r.size[1])),"$"===r.size[0]&&i.resize(convertToNumber(h.size[0]),i.height),"$"===r.size[1]&&i.resize(i.width,convertToNumber(h.size[1])),"HUG"===r.size[0]&&(i.counterAxisSizingMode="AUTO"),"HUG"===r.size[1]&&(i.primaryAxisSizingMode="AUTO"),s||("HUG"===r.size[0]?o.counterAxisSizingMode="AUTO":(o.layoutAlign="STRETCH",o.primaryAxisSizingMode="FIXED"),"HUG"===r.size[1]?(o.layoutGrow=0,o.primaryAxisSizingMode="AUTO"):(o.layoutGrow=1,o.counterAxisSizingMode="FIXED")),t.detachedCells&&!t.resizing){let e=i.findAll((e=>{var t,n;return"td"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)||"th"===(null===(n=getPluginData_1(e,"elementSemantics"))||void 0===n?void 0:n.is)}));for(let t=0;t<e.length;t++){e[t].detachInstance()}}return i}{let e=[];!a.table&&e.push("table"),!a.tr&&e.push("row"),!a.th&&t.header&&e.push("header"),!a.td&&e.push("cell"),e.length>1?figma.notify(`Template parts "${e.join(", ")}" not configured`):figma.notify(`Template part "${e.join(", ")}" not configured`),i=!1}}class File{constructor(e){this.id=getDocumentData_1("fileId")||setDocumentData_1("fileId",genRandomId()),this.name=figma.root.name,e&&(this.data=e)}}class Template{constructor(e){this.name=e.name,this.component={id:e.id,key:e.key},this.file={id:getDocumentData_1("fileId")||setDocumentData_1("fileId",genRandomId()),name:figma.root.name},this.created=(new Date).toISOString()}}function updateTemplateData(e,t){t.id=e.id,t.name=e.name,t.component.id=e.id,t.component.key=e.key;let n=getDocumentData_1("fileId")||genUID_1();return t.file.id=n,t}function getLocalTemplatesWithoutUpdating(){figma.skipInvisibleInstanceChildren=!0;var e=[],t=figma.root.findAllWithCriteria({types:["COMPONENT"]});for(let i=0;i<t.length;i++){let a=t[i];var n=getPluginData_1(a,"template");n&&"COMPONENT"===a.type&&(updateTemplateData(a,n),e.push(n))}return e}function getLocalTemplates(){figma.skipInvisibleInstanceChildren=!0;var e=getDocumentData_1("fileId"),t=[],n=figma.root.findAllWithCriteria({types:["COMPONENT"]});for(let a=0;a<n.length;a++){let r=n[a];var i=getPluginData_1(r,"template");if(i&&"COMPONENT"===r.type){i.id!==r.id&&i.file.id!==e&&(setPluginData_1(r,"prevTemplate",i),i.created=(new Date).toISOString()),i=updateTemplateData(r,i),setPluginData_1(r,"template",i),t.push(i),r.findAll((e=>{if(getPluginData_1(e,"template"))return e.setPluginData("template",""),e.setRelaunchData({}),!0})),new Date(i.created).valueOf()<(new Date).valueOf()-daysToMilliseconds(35)&&setPluginData_1(r,"prevTemplate","")}}return t}async function setDefaultTemplate(e){await getRemoteFilesAsync_1(),await getRecentFilesAsync_1(getLocalTemplates());let t=getDocumentData_1("fileId");e&&await updateClientStorageAsync_1("recentTables",(n=>{let i=(n=(n=upsert(n=n||[],(n=>{var i;return(null===(i=n.template)||void 0===i?void 0:i.component.key)===e.component.key&&n.file.id===t}),{template:e,file:{id:t}})).slice(0,10))[0].template;try{figma.ui.postMessage({type:"post-default-template",defaultTemplate:i,localTemplates:getLocalTemplates()})}catch(e){console.log(e)}return n}))}async function getDefaultTemplate(){let e,t=await getClientStorageAsync_1("recentTables")||[],n=getDocumentData_1("fileId");if((null==t?void 0:t.length)>0){let i=t.find((e=>e.file.id===n));i&&(e=i.template)}let i=getLocalTemplatesWithoutUpdating(),a=getDocumentData_1("remoteFiles");if(e&&!isEmpty$1(e))if(e.file.id===n){let t=getComponentByIdAndKey(e.component.id,e.component.key);t?e=updateTemplateData(t,e):i.length>0?e=i[0]:a.length>0&&(e=a[0].data[0])}else{await lookForComponent(e)||(e=(null==a?void 0:a.length)>0?a[0].data[0]:(null==i?void 0:i.length)>0?i[0]:null)}else(null==i?void 0:i.length)>0?e=i[0]:(null==a?void 0:a.length)>0&&(e=a[0].data[0]);return e}async function updateTables(e){var t=await lookForComponent(e);let n,i,a=getPluginData_1(t,"prevTemplate"),r=getTemplateParts$1(t),o=figma.root.children;figma.notify(`Updating tables on page 1 of ${o.length}...`),await sleep$1();let l={};for(let g=0;g<o.length;g++){let m=o[g];(null==l?void 0:l.cancel)&&l.cancel(),l=figma.notify(`Updating tables on page ${g+1} of ${o.length}...`,{timeout:1}),await sleep$1();var s=[],u=m.findAll((t=>{var n;return(null===(n=getPluginData_1(t,"template"))||void 0===n?void 0:n.component.id)===e.component.id&&"FRAME"===t.type}));if((null==u?void 0:u.length)>0&&(n=!0),s=u,a){var c=m.findAll((e=>{var t;return(null===(t=getPluginData_1(e,"template"))||void 0===t?void 0:t.component.id)===a.component.id&&"FRAME"===e.type}));(null==c?void 0:c.length)>0&&(i=!0),s=[...u,...c]}if(t&&s){var d=t.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}));for(let t=0;t<s.length;t++){let n=s[t],i=getTemplateParts$1(n);setPluginData_1(n,"template",e);let a=i.container;var p=i.table;"INSTANCE"!==p.type&&(r.table&&copyPasteStyle(r.table,p,{exclude:["name","layoutMode"]}),r.container&&copyPasteStyle(r.container,a,{exclude:["name","layoutMode"]}),p.findAll((e=>{var t;"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)==!0&&"INSTANCE"!==e.type&&copyPasteStyle(d,e,{exclude:["name","layoutMode"]})})))}}}return{tablesUpdated:n,tablesRelinked:i}}function getTableSettings(e){var t,n,i;let a=0,r=0,o=null,l={matrix:[0,0],size:[0,0],cell:["FILL","FILL"],alignment:["MIN","MIN"],resizing:!0,header:!0,axis:"COLUMNS"},s=getTemplateParts$1(e).table;for(let e=0;e<s.children.length;e++){var u=s.children[e];"tr"===(null===(t=getPluginData_1(u,"elementSemantics"))||void 0===t?void 0:t.is)&&a++}let c=s.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)})),d=c.findOne((e=>{var t,n;return"td"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)||"th"===(null===(n=getPluginData_1(e,"elementSemantics"))||void 0===n?void 0:n.is)}));"VERTICAL"===c.parent.layoutMode&&(o="ROWS"),"HORIZONTAL"===c.parent.layoutMode&&(o="COLUMNS");for(let e=0;e<c.children.length;e++){u=c.children[e];var p=null===(n=getPluginData_1(u,"elementSemantics"))||void 0===n?void 0:n.is;"td"!==p&&"th"!==p||r++}return l.matrix=[r,a],l.alignment=[d.primaryAxisAlignItems,d.counterAxisAlignItems],l.size=["AUTO"===s.counterAxisSizingMode?"HUG":s.width,"AUTO"===s.primaryAxisSizingMode?"HUG":s.height],l.axis=o,l.header="th"===(null===(i=getPluginData_1(d,"elementSemantics"))||void 0===i?void 0:i.is),l.resizing="COMPONENT"===c.type,Object.assign({},l)}function sleep(e=0){return new Promise((t=>setTimeout(t,e)))}function cleanupOldPluginData(){let e=figma.notify("Cleaning up old plugin data...");["cellComponentID","cellHeaderComponentID","rowComponentID","tableComponentID"].forEach((e=>{figma.root.setPluginData(e,"")})),e.cancel()}function cleanUpOldTooltips(e){e.findOne((e=>{"Customise the following components to create bespoke tables. Or to link using your own components go to Plugins > Table Creator > Settings. You can move and rename the components as you wish. The only component which must exist for the plugin to work is the Cell component."===e.characters&&e.remove()})),e.findOne((e=>{"The Cell component is the only component required for Table Creator to create tables from. You can cutomise this component, or link the plugin to a different Cell component by running Plugins > Table Creator > Settings."===e.characters&&e.remove()})),e.findOne((e=>{"Only layer styles such as: background, color, border radius etc will be used for rows when creating tables."===e.characters&&e.remove()})),e.findOne((e=>{"Only layer styles such as: background, color, border radius etc will be used to create tables. You don't have to create tables using the plugin. You can also create tables by creating an instance of this component and detaching them and their rows. If you change the styles used on the table or row components you can update existing tables by going to Plugins > Table Creator > Settings and select Refresh Tables"===e.characters&&e.remove()}))}function createTemplateComponent(){let e=getComponentById(figma.root.getPluginData("cellComponentID"));setPluginData_1(e,"elementSemantics",{is:"td"});let t=getComponentById(figma.root.getPluginData("cellHeaderComponentID"));t&&setPluginData_1(t,"elementSemantics",{is:"th"});let n=getComponentById(figma.root.getPluginData("rowComponentID"))||figma.createComponent();setPluginData_1(n,"elementSemantics",{is:"tr"}),removeChildren(n),n.name=getComponentById(figma.root.getPluginData("rowComponentID")).name||"_Row",n.layoutMode="HORIZONTAL",n.primaryAxisSizingMode="AUTO",n.counterAxisSizingMode="AUTO",n.clipsContent=!0;let i=e.createInstance(),a=e.createInstance();n.appendChild(i),n.appendChild(a);let r,o=getComponentById(figma.root.getPluginData("tableComponentID"));o?r=o:(r=figma.createComponent(),getComponentById(figma.root.getPluginData("rowComponentID"))?(r.y=n.y+n.height+120,r.x=n.x):(r.y=e.parent.y+e.height+120,r.x=e.x)),setPluginData_1(r,"elementSemantics",{is:"table"}),removeChildren(r),r.name=getComponentById(figma.root.getPluginData("tableComponentID")).name||"Table 1",r.layoutMode="VERTICAL",r.primaryAxisSizingMode="AUTO",r.counterAxisSizingMode="AUTO";let l=n.createInstance(),s=n.createInstance(),u=n.createInstance();return l.layoutAlign="STRETCH",s.layoutAlign="STRETCH",u.layoutAlign="STRETCH",l.primaryAxisSizingMode="FIXED",s.primaryAxisSizingMode="FIXED",u.primaryAxisSizingMode="FIXED",r.appendChild(l),r.appendChild(s),r.appendChild(u),t&&(l.children[0].swapComponent(t),l.children[1].swapComponent(t)),getComponentById(figma.root.getPluginData("rowComponentID"))||n.remove(),r}async function upgradeOldTablesToNewTables(e){let t=figma.root.children,n={};for(let r=0;r<t.length;r++){let o=t[r];console.log(`Scanning page ${r+1} of ${t.length}`),(null==n?void 0:n.cancel)&&n.cancel(),n=figma.notify(`Scanning page ${r+1} of ${t.length} for tables...`,{timeout:1}),await sleep();let l=o.findAll((e=>"true"===e.getPluginData("isTable")&&"COMPONENT"!==e.type));for(let t=0;t<l.length;t++){let o=l[t];console.log(`Updating table ${t+1} of ${l.length} on page ${r+1}`),(null==n?void 0:n.cancel)&&n.cancel(),o.setPluginData("isTable",""),setPluginData_1(o,"template",e),setPluginData_1(o,"elementSemantics",{is:"table"});let s=o.findAll((e=>"true"===e.getPluginData("isRow")));for(let e=0;e<s.length;e++){let t=s[e];t.setPluginData("isRow",""),setPluginData_1(t,"elementSemantics",{is:"tr"});let n=t.findAll((e=>"true"===e.getPluginData("isCell"))),r=t.findAll((e=>"true"===e.getPluginData("isHeaderCell")));for(let e=0;e<n.length;e++){var i=n[e];i.setPluginData("isCell",""),setPluginData_1(i,"elementSemantics",{is:"td"})}for(let e=0;e<r.length;e++){var a=r[e];a.setPluginData("isCellHeader",""),setPluginData_1(a,"elementSemantics",{is:"th"})}}}}}async function upgradeOldComponentsToTemplate(){if(getComponentById(figma.root.getPluginData("cellComponentID"))){const e=createTemplateComponent();let t=new Template(e);await upgradeOldTablesToNewTables(t),figma.currentPage=getPageNode_1(e),setPluginData_1(e,"template",t),e.setRelaunchData(defaultRelaunchData),setDefaultTemplate(t);let n=await createTooltip("Your table components have been converted into a template. A template is a single component used by Table Creator to create tables from.",figma.currentPage.backgrounds[0].color);n.x=e.x+e.width+80,n.y=e.y-10;let i=getPageNode_1(e);i.appendChild(n),figma.currentPage.selection=[e,n],figma.viewport.scrollAndZoomIntoView([e,n]),cleanUpOldTooltips(i),cleanupOldPluginData()}}function addUniqueToArray(e,t){return-1===t.findIndex((t=>t.id===e.id))&&t.push(e),t}function addTemplateToRemoteFiles(e){updatePluginData_1(figma.root,"remoteFiles",(t=>{t=t||[],addUniqueToArray(new File,t);for(var n=0;n<t.length;n++){var i=t[n];i.id===getPluginData_1(figma.currentPage.selection[0],"template").file.id&&(i.templates=addUniqueToArray(new Template(e),i.templates))}return t})),figma.notify(`Imported ${e.name}`)}function addElement(e){let t=figma.currentPage.selection[0];"INSTANCE"===t.type?(setPluginData_1(t.mainComponent,"elementSemantics",{is:e}),t.mainComponent.setRelaunchData(selectTableCellsRelaunchData)):(setPluginData_1(t,"elementSemantics",{is:e}),t.setRelaunchData(selectTableCellsRelaunchData))}function removeElement(e,t){let n=figma.getNodeById(e),i="COMPONENT"===n.type?n:getParentComponent(n);i.findAll((e=>{var n;(null===(n=getPluginData_1(e,"elementSemantics"))||void 0===n?void 0:n.is)===t&&("INSTANCE"===e.type?setPluginData_1(e.mainComponent,"elementSemantics",""):setPluginData_1(e,"elementSemantics",""))})),"td"!==t&&"th"!==t||("INSTANCE"===n.type?n.mainComponent.setRelaunchData({}):n.setRelaunchData({})),"table"===t&&setPluginData_1(i,"elementSemantics","")}function importTemplate(e){var t,n=getPluginData_1(e,"template"),i=n,a=(null===(t=null==n?void 0:n.file)||void 0===t?void 0:t.id)===getDocumentData_1("fileId");i?("COMPONENT"===e.type?a?figma.notify("Template already imported"):(addTemplateToRemoteFiles(e),figma.notify("Imported remote template")):(e=convertToComponent_1(e),figma.notify("Imported template")),setDocumentData_1("defaultTemplate",getPluginData_1(e,"template"))):figma.notify("No template found")}function getTemplateParts(e){let t=["tr","td","th","table"],n={};for(let i=0;i<t.length;i++){let a=t[i],r=e.findOne((e=>{let t=getPluginData_1(e,"elementSemantics");if((null==t?void 0:t.is)===a)return!0}));n[a]=r}return n.table||"table"===getPluginData_1(e,"elementSemantics").is&&(n.table=e),n}function postCurrentSelection(e){let t;function n(n){var i;if(1===n.length&&(function(t){let n="COMPONENT"===t.type?t:getParentComponent(t);if(isInsideComponent(t)&&getPluginData_1(n,"template")&&n.id===e)return!0}(n[0])||isTemplateNode(n[0])&&n[0].id===e)){if(function(e){return"FRAME"===e[0].type||"INSTANCE"===e[0].type}(n)||isTemplateNode(n[0])){let e=null===(i=getPluginData_1(n[0],"elementSemantics"))||void 0===i?void 0:i.is,a=[];(isTemplateNode(n[0])||isTemplateNode(n[0].parent))&&a.push("table"),isTemplateNode(n[0])||a.push("tr");let r=getParentComponent(n[0]);getNodeDepth_1(n[0],r)>=2&&(a.push("td"),a.push("th")),t={element:e,name:getSelectionName(n[0]),longName:"table"===e?"Table":"tr"===e?"Row":"td"===e?"Cell":"th"===e?"H. Cell":void 0,allow:a}}else t=null;figma.ui.postMessage({type:"current-selection",selection:t})}else figma.ui.postMessage({type:"current-selection",selection:void 0})}n(figma.currentPage.selection),figma.on("selectionchange",(()=>{n(figma.currentPage.selection)}))}function selectTableCells(e){var t,n=RegExp(/\[ignore\]/,"g"),i=figma.currentPage.selection,a=[];for(let c=0;c<i.length;c++){var r=null===(t=i[c].parent)||void 0===t?void 0:t.parent,o=null==r?void 0:r.children,l=o.findIndex((e=>e.id===i[c].parent.id)),s=o[l].children.findIndex((e=>e.id===i[c].id));for(let t=0;t<o.length;t++)if("parallel"===e&&o[t].children&&o[t].children[s]&&!n.test(o[t].children[s].parent.name)&&a.push(clone$1(o[t].children[s])),"adjacent"===e){var u=o[l];for(let e=0;e<u.children.length;e++)u.children&&u.children[e]&&!n.test(u.children[e].parent.name)&&a.push(clone$1(u.children[e]))}}figma.currentPage.selection=a}function detachTable(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n],{table:a}=getTemplateParts(i);"INSTANCE"===a.type&&(a=a.detachInstance(),t.push(a)),"COMPONENT"!==a.type&&(a.findAll((e=>{var t;if("tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&("INSTANCE"===e.type&&e.detachInstance(),"COMPONENT"===e.type)){let t=e.layoutAlign;(e=replace_1(e,convertToFrame_1)).layoutAlign=t}})),t.push(a)),a.findAll((e=>{var t;"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&(e.name=e.name.replace(/^\./,""))}))}return figma.currentPage.selection=t,t}async function toggleColumnResizing(e){var t,n,i,a;let r,o=[],l=[],s=!1;for(let c=0;c<e.length;c++){var u=e[c];let{table:d}=getTemplateParts(u),p=d;if("COMPONENT"!==p.type){let e=getTableSettings(p);if(console.log(e),0===c&&(r=e.resizing),r||"COMPONENT"!==p.children[0].type&&"INSTANCE"===p.children[0].type)console.log("detach oldTable"),detachTable([p]),s="removed",o.push(u);else{s="applied",e.resizing=!r;let c=p.primaryAxisSizingMode;p.primaryAxisSizingMode="FIXED";let d=await createTable(p,e),g=p.children.length;for(let e=0;e<g;e++){let a=p.children[e];if("tr"===(null===(t=getPluginData_1(a,"elementSemantics"))||void 0===t?void 0:t.is)){let t=a.children.length;for(let r=0;r<t;r++){let t=a.children[r];if("td"===(null===(n=getPluginData_1(t,"elementSemantics"))||void 0===n?void 0:n.is)||"th"===(null===(i=getPluginData_1(t,"elementSemantics"))||void 0===i?void 0:i.is)){let n=d.children[e].children[r],i=t;n.swapComponent(i.mainComponent),await swapInstance(i,n),resize_1(n,i.width,i.height),n.layoutAlign=i.layoutAlign}}}}d.primaryAxisSizingMode=c,getPluginData_1(p.parent,"template")&&p.parent.appendChild(d),"table"===(null===(a=getPluginData_1(u,"elementSemantics"))||void 0===a?void 0:a.is)&&(u=d),o.push(u),l.push(p)}}}figma.currentPage.selection=o;for(let e=0;e<l.length;e++)l[e].remove();return s}function switchColumnsOrRows(e){var t;let n,i,a;function r(e){var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}for(let s=0;s<e.length;s++){var o=e[s];if(getPluginData_1(o,"template")||"table"===(null===(t=getPluginData_1(o,"elementSemantics"))||void 0===t?void 0:t.is)){let e=getTemplateParts(o);if("COMPONENT"!==e.table.type){let t=e.table.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}));function l(){var n,a=t.parent.children.length,o=t.parent,l=nodeToObject_1(o);if("ROWS"===i.axis&&(o.layoutMode="HORIZONTAL"),"COMPONENT"!==t.type){function s(e,t){for(var n=e.parent,i=-1,a=-1;i<t;){i++,a++;var o=n.children[a];o&&!r(o)&&i--}return a}for(let n=0;n<t.parent.children.length;n++){var u=o.children[n];if(r(u)){u.width,u.height;var c=u.children;if("COLUMNS"===i.axis&&(u.name=u.name.replace("Col","Row"),u.layoutMode="HORIZONTAL",u.layoutGrow=0,u.counterAxisSizingMode="AUTO"),n<a)for(let a=0;a<i.matrix[0];a++){(h=c[a]).width;var d=s(u,a);if(h){if(h.primaryAxisSizingMode="AUTO",u.id===t.id&&!u.parent.children[d]){var p=u.clone();removeChildren_1(p),e.table.appendChild(p)}u.parent.children[d]&&("ROWS"===i.axis?(u.parent.children[d].appendChild(h),u.parent.children[d].resize(l.children[n].children[a].width,u.height),u.parent.children[d].layoutGrow=l.children[n].children[a].layoutGrow,u.parent.children[d].layoutAlign="STRETCH"):(u.parent.children[d].appendChild(h),h.resize(u.width,h.height),1===l.children[n].layoutGrow?h.layoutGrow=1:h.layoutGrow=0))}}}else u.resize(l.children[n].height,l.children[n].width);"ROWS"===i.axis&&r(u)&&(u.name=u.name.replace("Row","Col"),u.layoutMode="VERTICAL")}"COLUMNS"===i.axis&&(o.layoutMode="VERTICAL"),swapAxises(o),resize_1(o,l.width,l.height);var g=o.children.length;let y=[];for(let e=0;e<g;e++){var m=o.children[e];if((null===(n=l.children[e])||void 0===n?void 0:n.layoutAlign)&&(m.layoutAlign=l.children[e].layoutAlign),r(m)){if("COLUMNS"===i.axis){m.counterAxisSizingMode="AUTO",m.layoutAlign="STRETCH";c=m.children;var f="COLUMNS"===i.axis?t.parent.children.length:t.children.length;for(let e=0;e<f;e++){(h=c[e])&&m.parent.children[getNodeIndex_1(t)+e]&&(h.primaryAxisSizingMode="FIXED",h.layoutAlign="STRETCH")}"HUG"!==i.size[1]&&(m.layoutGrow=1)}else{c=m.children,f="ROWS"===i.axis?t.parent.children.length:t.children.length;for(let e=0;e<f;e++){var h;(h=c[e])&&m.parent.children[getNodeIndex_1(t)+e]&&("HUG"===i.size[0]?(h.layoutGrow=0,h.primaryAxisSizingMode="AUTO"):(h.layoutGrow=1,h.primaryAxisSizingMode="FIXED"),"HUG"===i.size[1]?(h.layoutGrow=0,h.primaryAxisSizingMode="AUTO"):(h.layoutGrow=1,h.primaryAxisSizingMode="FIXED"))}m.layoutAlign="STRETCH"}0===m.children.length&&y.push(m)}}o.layoutGrow=l.layoutGrow,o.layoutAlign=l.layoutAlign,o.primaryAxisSizingMode=l.counterAxisSizingMode,o.counterAxisSizingMode=l.primaryAxisSizingMode;for(let e=0;e<y.length;e++)y[e].remove()}}"INSTANCE"!==e.table.type&&"INSTANCE"!==t.type&&"COMPONENT"!==t.type||(e.table=detachTable(figma.currentPage.selection)[0],t=e.table.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}))),i=getTableSettings(e.table),0===s&&(n=i.axis,"ROWS"===n&&(a="VERTICAL"),"COLUMNS"===n&&(a="HORIZONTAL")),a===e.table.layoutMode&&l()}}else figma.closePlugin("Please select a table")}return{vectorType:n}}function selectTableVector(e){var t,n;figma.currentPage.selection.length>0?((null===(t=figma.currentPage.selection[0].parent)||void 0===t?void 0:t.parent.layoutMode)===("column"===e?"VERTICAL":"HORIZONTAL")&&selectTableCells("parallel"),(null===(n=figma.currentPage.selection[0].parent)||void 0===n?void 0:n.parent.layoutMode)===("column"===e?"HORIZONTAL":"VERTICAL")&&selectTableCells("adjacent")):figma.notify("One or more table cells must be selected")}async function createTableUI(){figma.root.setRelaunchData({createTable:""});const e=getLocalTemplates();var t=await getRecentFilesAsync_1(e,{limit:8}),n=await getRemoteFilesAsync_1();let i=await getClientStorageAsync_1("pluginVersion"),a=await getClientStorageAsync_1("userPreferences"),r=await getDocumentData_1("usingRemoteTemplate"),o=!!getComponentById(figma.root.getPluginData("cellComponentID")),l=a.table;const s=getDocumentData_1("fileId");let u=await getDefaultTemplate();figma.showUI(__uiFiles__.main,{width:240,height:490,themeColors:!0}),figma.ui.postMessage(Object.assign(Object.assign({type:"show-create-table-ui"},l),{remoteFiles:n,recentFiles:t,localTemplates:e,defaultTemplate:u,fileId:s,usingRemoteTemplate:r,pluginVersion:i,pluginUsingOldComponents:o})),updatePluginVersion("7.0.0")}async function createTableInstance(e){const t=await lookForComponent(e.template);if(t){let n=await createTable(t,e);if(n){positionInCenterOfViewport(n),figma.currentPage.selection=[n],await setDefaultTemplate(e.template);let t=await getClientStorageAsync_1("userPreferences"),i=await applyTableSettings(t.table,e);figma.clientStorage.setAsync("userPreferences",{table:i}).then((()=>{figma.closePlugin("Table created")}))}}}async function main(){await updateClientStorageAsync_1("userPreferences",(e=>{let t={table:{matrix:[[(null==e?void 0:e.columnCount)||4,(null==e?void 0:e.rowCount)||4]],size:[[(null==e?void 0:e.tableWidth)||"HUG",(null==e?void 0:e.tableHeight)||"HUG"]],cell:[[(null==e?void 0:e.cellWidth)||120,(null==e?void 0:e.cellHeight)||"FILL"]],alignment:[(null==e?void 0:e.cellAlignment)||"MIN","MIN"],header:(null==e?void 0:e.includeHeader)||!0,resizing:(null==e?void 0:e.columnResizing)||!0,detachedCells:(null==e?void 0:e.detachedCells)||!1}};return(null==e?void 0:e.table)||(e=t),e=Object.assign(t,e||{})})),dist((e=>{async function t(e){let{newPage:t,tooltips:n,subComponents:i}=e;t&&createPage("Table Creator");let a=[],r=await createTemplateComponents(),{templateComponent:o,rowComponent:l,cellComponentSet:s}=r,u=new Template(o),c=getLocalTemplates();if(c=c.filter((e=>e.name.startsWith("Table"))),o.name=incrementName_1(o.name,c),u.name=o.name,setPluginData_1(o,"template",u),o.setRelaunchData(defaultRelaunchData),setDefaultTemplate(u),!1!==n){let e=await createTooltip("This component is a template used by Table Creator to create tables from. You can customise the appearance of your tables by customising this template. Its made up of the components below.");e.x=o.x+o.width+80,e.y=o.y-10;let t=await createTooltip("Customise rows by changing this component.");t.x=l.x+l.width+80,t.y=l.y-10;let n=await createTooltip("Customise cell borders by changing these components. Create variants for different types of cells, icons, dropdowns, ratings etc.");n.x=s.x+s.width+80-16,n.y=s.y-10+16,a.push(e,t,n)}!1===i?(l.remove(),s.remove()):a.push(l,s),a.push(o);let d=figma.group(a,figma.currentPage);return positionInCenterOfViewport(d),ungroup_1(d,figma.currentPage),figma.currentPage.selection=a,figma.notify("Template created"),o}e.ui={html:__uiFiles__.main,width:240,height:504},e.command("insertColumn",(async({ui:e})=>{figma.parameters.on("input",(({query:e,result:t,key:n})=>{if("position"===n&&t.setSuggestions(["After","Before"]),"number"===n){let n=convertToNumber(e.toUpperCase().toString().trim());(Number(n)<1||!Number(n))&&(n=!1),n?t.setSuggestions([n.toString()]):t.setSuggestions(["1","2","3","4"])}})),figma.on("run",(async({parameters:e})=>{var t;if(1===figma.currentPage.selection.length&&function(e){var t,n,i;return"table"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)||getPluginData_1(e,"template")||"table"===(null===(i=getPluginData_1(null===(n=e.parent)||void 0===n?void 0:n.parent,"elementSemantics"))||void 0===i?void 0:i.is)}(figma.currentPage.selection[0])){let i,a,r,o,l=!1,s=figma.currentPage.selection,u=[];if("table"===(null===(t=getPluginData_1(s[0],"elementSemantics"))||void 0===t?void 0:t.is)||getPluginData_1(s[0],"template")){let{table:t}=getTemplateParts(s[0]);"Before"===e.position&&(i=t.children[0].children[0]),"After"===e.position&&(i=t.children[0].children[t.children[0].children.length-1]),a=getNodeIndex_1(i)}else i=s[0],a=getNodeIndex_1(i);r=getTemplate(i),o="FRAME"===i.type;let c=getPluginData_1(r,"template"),d=await lookForComponent(c);if(d){let{td:t,th:c}=getTemplateParts(d),{table:p}=getTemplateParts(r);function n(e,n){let a,r=[];for(let a=0;a<convertToNumber(e.number);a++){let e;"th"===getPluginData_1(n,"elementSemantics").is&&(e=c),"td"===getPluginData_1(n,"elementSemantics").is&&(e=t);let a=e.mainComponent.parent.defaultVariant.createInstance();a.resize(n.width,n.height),a.layoutGrow=n.layoutGrow,a.layoutAlign=n.layoutAlign,a.primaryAxisSizingMode=n.primaryAxisSizingMode,a.counterAxisSizingMode=n.counterAxisSizingMode,a.primaryAxisAlignItems=n.primaryAxisAlignItems,a.counterAxisAlignItems=n.counterAxisAlignItems,"th"===getPluginData_1(n,"elementSemantics").is&&a.swapComponent(i.mainComponent),o?r.push(a.detachInstance()):r.push(a)}if("After"===e.position&&(a=1),"Before"===e.position&&(a=0),r.length>0)for(let e=0;e<r.length;e++){let t=r[e];n.parent.insertChild(getNodeIndex_1(n)+a,t)}u.push(...r)}if(p&&1===s.length&&"VERTICAL"===p.layoutMode){let i;for(let r=0;r<p.children.length;r++){let o=p.children[r];if(0===r&&"INSTANCE"===o.type&&figma.closePlugin("Table must not be a duplicate"),"COMPONENT"===o.type&&(i=!0,n(e,o.children[a])),"FRAME"===o.type&&n(e,o.children[a]),"INSTANCE"===o.type&&i&&!l)for(let n=0;n<e.number;n++){let e=o.children[a];if("td"===getPluginData_1(e,"elementSemantics").is){let e=t.mainComponent.parent.defaultVariant;o.children[a+n+1].swapComponent(e)}}}figma.currentPage.selection=u,figma.closePlugin("Column inserted")}else"HORIZONTAL"===p.layoutMode&&figma.closePlugin("Table must be row based")}else figma.closePlugin("Can't find template associated with this table")}else figma.closePlugin("Please select a cell or table")}))})),e.command("createTable",(async({ui:e})=>{let t=await getClientStorageAsync_1("userPreferences"),n=t.table,i=getLocalTemplatesWithoutUpdating(),a=getDocumentData_1("remoteFiles")||[],r=[],o=await getDefaultTemplate();for(let e=0;e<a.length;e++){let t=a[e];for(let e=0;e<t.data.length;e++){let n=t.data[e];r.push({name:n.name,data:n,icon:'<svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd" d="M1.9223 7.04535L7.42828 1.53783L6.72107 0.830826L1.21509 6.33834C0.678222 6.87536 0.678314 7.74592 1.2153 8.28282L6.10292 13.1697C6.6399 13.7066 7.51045 13.7066 8.04739 13.1696L13.5528 7.66416L12.8457 6.95706L7.34028 12.4625C7.19384 12.609 6.95642 12.609 6.80997 12.4625L1.92235 7.57566C1.7759 7.42923 1.77588 7.19181 1.9223 7.04535ZM11.8886 1.99731H8.82607V2.99731H10.6815L7.16001 6.51876L7.86712 7.22586L11.3886 3.70442V5.55981H12.3886V2.49731V1.99731H11.8886Z" fill="#818181" fill-opacity="0.5"/>\n\t\t\t\t\t\t</svg>'})}}i=i.map((e=>({name:e.name,data:e}))),figma.parameters.on("input",(({query:e,result:t,key:l})=>{function s(e,t){let i=[];if(t){let[a,r]=t.split("x");a&&(a=convertToNumber(a.toUpperCase().toString().trim())),r&&(r=convertToNumber(r.toUpperCase().toString().trim())),a&&a!==n[e][0][0]?Number(a)?Number(a)<1&&(a=!1):("matrix"===e&&"$"!==a&&(a=!1),"size"===e&&"HUG"!==a&&"$"!==a&&(a=!1),"cell"===e&&"FILL"!==a&&"$"!==a&&(a=!1)):a="",r&&r!==n[e][0][1]?Number(r)?Number(r)<1&&(r=!1):("matrix"===e&&"$"!==r&&(r=!1),"size"===e&&"HUG"!==r&&"$"!==r&&(r=!1),"cell"===e&&"FILL"!==r&&"$"!==r&&(r=!1)):r="",a&&!r&&!1!==r&&i.push({name:`${a} x ${r||n[e][0][1]}`,data:[a,r||n[e][0][1]]}),!a&&!1!==a&&r&&i.push({name:`${a||n[e][0][0]} x ${r}`,data:[a||n[e][0][1],r]}),a&&r&&i.push({name:`${a} x ${r}`,data:[a,r]})}for(let t=0;t<n[e].length;t++){let a=n[e][t],r={name:`${a[0].toString().toUpperCase()} x ${a[1].toString().toUpperCase()}`,data:a};i.push(r)}return i}if(i.length>0||a.length>0){if("template"===l){let n=[...i,...r],a=n.findIndex((e=>e.data.component.key===o.component.key));n=move(n,a,0),n.length>0&&(n=n.filter((t=>t.name.toUpperCase().includes(e.toUpperCase()))),t.setSuggestions(n))}if("matrix"===l&&t.setSuggestions(s("matrix",e)),"size"===l&&t.setSuggestions(s("size",e)),"cell"===l){let n=s("cell",e);t.setSuggestions(n)}if("alignment"===l){let i=[{name:"Top",data:["MIN","MIN"]},{name:"Center",data:["CENTER","MIN"]},{name:"Bottom",data:["MAX","MIN"]}],a=i.findIndex((e=>e.data[0]===n.alignment[0]));move(i,a,0),i=i.filter((t=>t.name.toUpperCase().includes(e.toUpperCase()))),t.setSuggestions(i)}if("header"===l){let i,a,r=[];n.header?(i={name:"True",data:!0},a={name:"False",data:!1}):(i={name:"False",data:!1},a={name:"True",data:!0}),r=[i,a].filter((t=>t.name.toUpperCase().includes(e.toUpperCase()))),t.setSuggestions(r)}}else t.setError("No templates found. Run plugin without parameters.")})),figma.on("run",(async({parameters:e})=>{let n=t.table;if(e){let t=getLocalTemplatesWithoutUpdating().findIndex((t=>t.component.key===e.template.component.key)),i=getLocalTemplates();t>-1&&(e.template=i[t]);let a=Object.assign(n,e);e.cell||(a.cell=n.cell[0]),createTableInstance(a)}else createTableUI()}))})),e.command("detachTable",(()=>{detachTable(figma.currentPage.selection).length>0?figma.closePlugin("Table and rows detached"):figma.closePlugin("Can't detach template")})),e.command("toggleColumnResizing",(()=>{toggleColumnResizing(figma.currentPage.selection).then((e=>{e?figma.closePlugin(`Column resizing ${e}`):figma.closePlugin("Can't apply to templates")}))})),e.command("switchColumnsOrRows",(()=>{let{vectorType:e}=switchColumnsOrRows(figma.currentPage.selection);e?figma.closePlugin("Switched to "+("ROWS"===e?"columns":"rows")):0===figma.currentPage.selection.length?figma.closePlugin("Please select a table"):figma.closePlugin("Can't apply to templates")})),e.command("selectColumn",(()=>{selectTableVector("column"),figma.closePlugin()})),e.command("selectRow",(()=>{selectTableVector("row"),figma.closePlugin()})),e.command("newTemplate",t),e.command("importTemplate",importTemplate),e.on("new-template",(async e=>{let n=await t(e.options);setDefaultTemplate(getPluginData_1(n,"template"))})),e.on("remove-template",(async e=>{let t=await getDefaultTemplate();if(getDocumentData_1("previousTemplate"),e.file){let t=getDocumentData_1("remoteFiles"),n=t.findIndex((t=>t.id===e.file.id)),i=t[n],a=i.data.findIndex((t=>t.id===e.template.id));i.data.splice(a,1),0===i.data.length&&t.splice(n,1),setDocumentData_1("remoteFiles",t),figma.ui.postMessage({type:"remote-files",remoteFiles:t})}else{getComponentByIdAndKey(e.template.id,e.template.component.key).remove();let t=getLocalTemplates();figma.ui.postMessage({type:"local-templates",localTemplates:t})}if(t.component.id===e.template.id){let e=getLocalTemplates();setDefaultTemplate(e[e.length-1])}})),e.on("edit-template",(e=>{!async function(e){lookForComponent(e.template).then((e=>{var t,n,i,a;animateNodeIntoView([e]),figma.currentPage.selection=[e];let r=getTemplateParts(e),o={table:{name:getSelectionName(null==r?void 0:r.table),element:"table",id:null===(t=null==r?void 0:r.table)||void 0===t?void 0:t.id,longName:"Table"},tr:{name:getSelectionName(null==r?void 0:r.tr),element:"tr",id:null===(n=null==r?void 0:r.tr)||void 0===n?void 0:n.id,longName:"Row"},td:{name:getSelectionName(null==r?void 0:r.td),element:"td",id:null===(i=null==r?void 0:r.td)||void 0===i?void 0:i.id,longName:"Cell"},th:{name:getSelectionName(null==r?void 0:r.th),element:"th",id:null===(a=null==r?void 0:r.th)||void 0===a?void 0:a.id,longName:"H. Cell"}};postCurrentSelection(e.id),figma.ui.postMessage({type:"template-parts",parts:o})}))}(e)})),e.on("set-default-template",(e=>{setDefaultTemplate(e.template)})),e.on("add-remote-file",(async e=>{const t=await getRemoteFilesAsync_1(e.file.id);figma.ui.postMessage({type:"remote-files",remoteFiles:t})})),e.on("remove-remote-file",(async e=>{removeRemoteFile_1(e.file.id);const t=await getRemoteFilesAsync_1(),n=getLocalTemplates();t.length>0?setDefaultTemplate(t[0].data[0]):n.length>0?setDefaultTemplate(n[0]):(setDefaultTemplate(null),figma.ui.postMessage({type:"post-default-template",defaultTemplate:null})),figma.ui.postMessage({type:"remote-files",remoteFiles:t})})),e.on("remove-element",(e=>{removeElement(e.id,e.element)})),e.on("add-element",(e=>{addElement(e.element)})),e.on("create-table-instance",(async e=>{createTableInstance(e.data)})),e.command("updateTables",(()=>{updateTables(getPluginData_1(figma.currentPage.selection[0],"template")).then((e=>{e.tablesRelinked?figma.closePlugin("Tables updated and relinked"):e.tablesUpdated?figma.closePlugin("Tables updated"):figma.closePlugin()}))})),e.on("update-tables",(e=>{updateTables(e.template).then((e=>{e.tablesRelinked?figma.notify("Tables updated and relinked"):e.tablesUpdated&&figma.notify("Tables updated")}))})),e.on("save-user-preferences",(()=>{})),e.on("fetch-current-selection",(e=>{e.template&&lookForComponent(e.template).then((e=>{postCurrentSelection(e.id)}))})),e.on("fetch-template-parts",(e=>{lookForComponent(e.template).then((e=>{!function(e){var t,n,i,a;let r=getTemplateParts(e),o={table:{name:getSelectionName(null==r?void 0:r.table),element:"table",id:null===(t=null==r?void 0:r.table)||void 0===t?void 0:t.id,longName:"Table"},tr:{name:getSelectionName(null==r?void 0:r.tr),element:"tr",id:null===(n=null==r?void 0:r.tr)||void 0===n?void 0:n.id,longName:"Row"},td:{name:getSelectionName(null==r?void 0:r.td),element:"td",id:null===(i=null==r?void 0:r.td)||void 0===i?void 0:i.id,longName:"Cell"},th:{name:getSelectionName(null==r?void 0:r.th),element:"th",id:null===(a=null==r?void 0:r.th)||void 0===a?void 0:a.id,longName:"H. Cell"}};figma.ui.postMessage({type:"template-parts",parts:o})}(e)}))})),e.on("upgrade-to-template",(async()=>{await upgradeOldComponentsToTemplate(),figma.notify("Template created"),createTableUI(),figma.ui.postMessage({type:"post-default-template",defaultTemplate:getDefaultTemplate(),localTemplates:getLocalTemplates()})})),e.on("using-remote-template",(async e=>{const t=await getRemoteFilesAsync_1();setDocumentData_1("usingRemoteTemplate",e.usingRemoteTemplate),figma.ui.postMessage({type:"remote-files",remoteFiles:t})})),e.on("listen-for-template",(async e=>{async function t(){var e,t;let n=groupBy$1(function(){let e=figma.currentPage.findAllWithCriteria({types:["INSTANCE"]}),t=[];for(let n=0;n<e.length;n++){let i=e[n],a=getPluginData_1(i,"template");a&&(t=upsert(t,(e=>e.id===a.id),a))}return t}(),(e=>e.file.id));for(let i=0;i<n.length;i++){let a=n[i],r=a[1],o={id:null===(e=a[1][0])||void 0===e?void 0:e.file.id,name:null===(t=a[1][0])||void 0===t?void 0:t.file.name,data:r};await addRecentFileAsync_1(o)}let i=await getRecentFilesAsync_1();figma.ui.postMessage({type:"recent-files",recentFiles:i})}await t(),figma.on("selectionchange",(async()=>{await t()}))}))}))}console.clear(),main();
