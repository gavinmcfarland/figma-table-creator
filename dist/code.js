"use strict";var name="svelte-app",version="1.0.2",scripts={build:"rollup -c",dev:"rollup -c -w",start:"sirv public"},devDependencies={"@figma/plugin-typings":"^1.37.0","@fignite/helpers":"^0.0.0-alpha.10","@rollup/plugin-commonjs":"^17.0.0","@rollup/plugin-image":"^2.0.6","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^11.2.1","@rollup/plugin-replace":"^2.4.2","@rollup/plugin-strip":"^2.1.0",cssnano:"^4.1.10","figma-plugin-ds-svelte":"^1.0.7","flex-gap-polyfill":"^2.2.1",nanoid:"^3.1.22",plugma:"0.0.0-alpha0.7",postcss:"^8.2.4","postcss-nested":"^4.2.3",rollup:"^2.36.2","rollup-plugin-html-bundle":"0.0.3","rollup-plugin-livereload":"^2.0.0","rollup-plugin-node-polyfills":"^0.2.1","rollup-plugin-postcss":"^4.0.0","rollup-plugin-svelte":"^7.0.0","rollup-plugin-svg":"^2.0.0","rollup-plugin-terser":"^7.0.2","rollup-plugin-typescript":"^1.0.1",svelte:"^3.31.2","svelte-preprocess":"^4.6.9",tslib:"^2.1.0",typescript:"^4.1.3"},dependencies={autoprefixer:"^10.2.1","common-tags":"^1.8.0","fs-extra":"^9.1.0","postcss-logical":"^4.0.2","sirv-cli":"^1.0.10",stylup:"0.0.0-alpha.3",tweeno:"^1.1.3",uniqid:"^5.3.0",uuid:"^8.3.2"},require$$0={name:name,version:version,scripts:scripts,devDependencies:devDependencies,dependencies:dependencies},pkg;function plugma(e){var t={updateAvailable:!1,ui:{}};(null==pkg?void 0:pkg.version)&&(t.version=pkg.version);var n=[],i=[];t.on=(e,t)=>{n.push({type:e,callback:t})},t.command=(e,t)=>{i.push({type:e,callback:t})};var a=!1;t.setStartPage=e=>{t.ui.page=e,a=!0};var o=e(t);if(Object.assign({},t,{commands:o}),o)for(let[e,n]of Object.entries(o))figma.command===e&&(a||(t.ui.page=e),n(t),t.ui.open&&figma.showUI(t.ui.html));figma.ui.onmessage=e=>{for(let t of n)e.type===t.type&&t.callback(e)},t.ui.show=e=>{figma.showUI(t.ui.html,{width:t.ui.width,height:t.ui.height}),figma.ui.postMessage(e)};for(let e of i)figma.command===e.type&&e.callback(t)}pkg=require$$0;var dist=plugma;async function getClientStorageAsync(e){return await figma.clientStorage.getAsync(e)}async function updateClientStorageAsync$1(e,t){var n=await figma.clientStorage.getAsync(e);if(n=t(n))return figma.clientStorage.setAsync(e,n),n;n=null}const eventListeners=[];figma.ui.onmessage=e=>{for(let t of eventListeners)e.action===t.action&&t.callback(e.data)};const nodeProps=["id","parent","name","removed","visible","locked","children","constraints","absoluteTransform","relativeTransform","x","y","rotation","width","height","constrainProportions","layoutAlign","layoutGrow","opacity","blendMode","isMask","effects","effectStyleId","expanded","backgrounds","backgroundStyleId","fills","strokes","strokeWeight","strokeMiterLimit","strokeAlign","strokeCap","strokeJoin","dashPattern","fillStyleId","strokeStyleId","cornerRadius","cornerSmoothing","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","exportSettings","overflowDirection","numberOfFixedChildren","overlayPositionType","overlayBackground","overlayBackgroundInteraction","reactions","description","remote","key","layoutMode","primaryAxisSizingMode","counterAxisSizingMode","primaryAxisAlignItems","counterAxisAlignItems","paddingLeft","paddingRight","paddingTop","paddingBottom","itemSpacing","layoutGrids","gridStyleId","clipsContent","guides","type","strokeTopWeight","strokeBottomWeight","strokeRightWeight","strokeLeftWeight"],readOnly=["id","parent","removed","children","absoluteTransform","width","height","overlayPositionType","overlayBackground","overlayBackgroundInteraction","reactions","remote","key","type","masterComponent","mainComponent"];function copyPaste(e,t,...n){var i,a;t&&0===Object.keys(t).length&&t.constructor===Object&&(i=!0),n[0],n[1],"object"==typeof n[0]&&"function"!=typeof n[0]&&(a=n[0]),"object"==typeof n[0]&&"function"!=typeof n[0]&&(a=n[0]),a||(a={});const{include:o,exclude:r,withoutRelations:l,removeConflicts:s}=a;let d=nodeProps.filter((function(e){return!readOnly.includes(e)}));o&&(d=o.filter((function(e){return!readOnly.includes(e)}))),r&&(d=d.filter((function(e){return!r.concat(readOnly).includes(e)}))),t&&!i&&(d=d.filter((function(e){return!["id","type"].includes(e)})));var c={};i&&(void 0===c.id&&(c.id=e.id),void 0===c.type&&(c.type=e.type),e.key&&(c.key=e.key));const g=Object.entries(Object.getOwnPropertyDescriptors(e.__proto__));for(const[t,n]of g)if(d.includes(t))try{"symbol"==typeof c[t]?c[t]="Mixed":c[t]=n.get.call(e)}catch(e){c[t]=void 0}return s||(!c.fillStyleId&&c.fills?delete c.fillStyleId:delete c.fills,!c.strokeStyleId&&c.strokes?delete c.strokeStyleId:delete c.strokes,!c.backgroundStyleId&&c.backgrounds?delete c.backgroundStyleId:delete c.backgrounds,!c.effectStyleId&&c.effects?delete c.effectStyleId:delete c.effects,!c.gridStyleId&&c.layoutGrids?delete c.gridStyleId:delete c.layoutGrids,c.textStyleId?(delete c.fontName,delete c.fontSize,delete c.letterSpacing,delete c.lineHeight,delete c.paragraphIndent,delete c.paragraphSpacing,delete c.textCase,delete c.textDecoration):delete c.textStyleId,c.cornerRadius!==figma.mixed?(delete c.topLeftRadius,delete c.topRightRadius,delete c.bottomLeftRadius,delete c.bottomRightRadius):delete c.cornerRadius),i&&e.parent&&!l&&(c.parent={id:e.parent.id,type:e.parent.type}),i&&("FRAME"!==e.type&&"COMPONENT"!==e.type&&"COMPONENT_SET"!==e.type&&"PAGE"!==e.type&&"GROUP"!==e.type&&"INSTANCE"!==e.type&&"DOCUMENT"!==e.type&&"BOOLEAN_OPERATION"!==e.type||e.children&&!l&&(c.children=e.children.map((e=>copyPaste(e,{},{withoutRelations:l})))),"INSTANCE"===e.type&&e.mainComponent&&!l&&(c.masterComponent=copyPaste(e.mainComponent,{},{withoutRelations:l}))),Object.assign(t,c),c}function convertToFrame(e){if("INSTANCE"===e.type)return e.detachInstance();if("COMPONENT"===e.type){let t=e.parent,n=e.createInstance().detachInstance();return t.appendChild(n),copyPaste(e,n,{include:["x","y"]}),figma.currentPage.appendChild(n),e.remove(),n}if("RECTANGLE"===e.type||"GROUP"===e.type){let t=figma.createFrame();return t.resizeWithoutConstraints(e.width,e.height),copyPaste(e,t),e.remove(),t}return"FRAME"===e.type?e:void 0}function moveChildren(e,t){let n=e.children,i=n.length;for(let e=0;e<i;e++){let i=n[e];t.appendChild(i)}return t}function convertToComponent(e){const t=figma.createComponent();return e=convertToFrame(e),t.resizeWithoutConstraints(e.width,e.height),copyPaste(e,t),moveChildren(e,t),e.remove(),t}function getPluginData(node,key,opts){var data;if(data=node.getPluginData(key),data=data?"string"==typeof data&&data.startsWith(">>>")?data:JSON.parse(data):void 0,"string"==typeof data&&data.startsWith(">>>")){data=data.slice(3);var string="(() => {\n            return "+data+"\n            })()";data=eval(string)}return data}function setPluginData(e,t,n){return"string"==typeof n&&n.startsWith(">>>")?(e.setPluginData(t,n),n):(e.setPluginData(t,JSON.stringify(n)),JSON.stringify(n))}function updatePluginData(e,t,n){var i;return(i=n(i=e.getPluginData(t)?JSON.parse(e.getPluginData(t)):null))||(i=null),e.setPluginData(t,JSON.stringify(i)),i}function removeChildren$1(e){for(let t=e.children.length-1;t>=0;t--)e.children[t].remove()}function resize(e,t,n){0===t&&(t=1/Number.MAX_SAFE_INTEGER),0===n&&(n=1/Number.MAX_SAFE_INTEGER);let i=e.parent;if(e.resize(t<.01?1:t,n<.01?1:n),t<.01||n<.01){let a=figma.createRectangle();a.resize(t<.01?1/t:t,n<.01?1/n:n);let o=figma.group([e,a],figma.currentPage);o.resize(t<.01?1:t,n<.01?1:n),i.appendChild(e),o.remove()}return e}function ungroup(e,t){let n=[],i=e.children;for(let e=0;e<i.length;e++)t.appendChild(i[e]),n.push(i[e]);return"GROUP"!==e.type&&e.remove(),n}function getNodeIndex(e){return e.parent.children.indexOf(e)}const nodeToObject=(e,t,n)=>{const i=Object.entries(Object.getOwnPropertyDescriptors(e.__proto__)),a=["parent","children","removed","masterComponent","horizontalPadding","verticalPadding"],o={id:e.id,type:e.type};for(const[t,n]of i)if(n.get&&!a.includes(t))try{"symbol"==typeof o[t]?o[t]="Mixed":o[t]=n.get.call(e)}catch(e){o[t]=void 0}return e.parent&&!t&&(o.parent={id:e.parent.id,type:e.parent.type}),e.children&&!t&&(o.children=e.children.map((e=>nodeToObject(e,t)))),e.masterComponent&&!t&&(o.masterComponent=nodeToObject(e.masterComponent,t)),n||(!o.fillStyleId&&o.fills?delete o.fillStyleId:delete o.fills,!o.strokeStyleId&&o.strokes?delete o.strokeStyleId:delete o.strokes,!o.backgroundStyleId&&o.backgrounds?delete o.backgroundStyleId:delete o.backgrounds,!o.effectStyleId&&o.effects?delete o.effectStyleId:delete o.effects,!o.gridStyleId&&o.layoutGrids?delete o.gridStyleId:delete o.layoutGrids,o.textStyleId?(delete o.fontName,delete o.fontSize,delete o.letterSpacing,delete o.lineHeight,delete o.paragraphIndent,delete o.paragraphSpacing,delete o.textCase,delete o.textDecoration):delete o.textStyleId,o.cornerRadius!==figma.mixed?(delete o.topLeftRadius,delete o.topRightRadius,delete o.bottomLeftRadius,delete o.bottomRightRadius):delete o.cornerRadius),o};function getPageNode(e){return"PAGE"===e.parent.type?e.parent:getPageNode(e.parent)}function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}function replace(e,t){let n,i,a,o=!1,r=[];if(Array.isArray(e)){i=getNodeIndex(e[0]),a=e[0].parent;for(let t=0;t<e.length;t++){let n=e[t].clone();r.push(n)}n=figma.group(r,a,i),n.x=e[0].x,n.y=e[0].y,o=!0,i=getNodeIndex(n),a=n.parent}else n=nodeToObject(e),i=getNodeIndex(e),a=e.parent;let l,s=n.width,d=n.height;if(l=isFunction(t)?t(e):t,l)return l.resizeWithoutConstraints(s,d),copyPaste(n,l,{include:["x","y","constraints"]}),l.x=n.x,l.y=n.y,console.log(a),a.insertChild(i,l),o&&n.remove(),figma.getNodeById(e.id)&&e.remove(),l}function setDocumentData(e,t){return setPluginData(figma.root,e,t)}function getDocumentData(e){return getPluginData(figma.root,e)}function genUID(){return""+(figma.currentUser.id+"-"+figma.currentUser.sessionId+"-"+(new Date).valueOf())}function addUniqueToArray$1(e,t){return-1===e.findIndex((e=>e.id===t.id))&&e.push(t),e}function isUnique(e,t){return-1===e.findIndex((e=>e.id===t.id))}function File$1(e){this.id=getDocumentData("fileId")||setDocumentData("fileId",genUID()).replace(/['"]+/g,""),this.name=figma.root.name,this.firstVisited=(new Date).toISOString(),this.lastVisited=(new Date).toISOString(),e?(this.data=e,setDocumentData("fileData",e)):this.data=getDocumentData("fileData")}async function getRecentFilesAsync(e,t){t=t||{},e=e||getDocumentData("fileData");let n=await updateClientStorageAsync$1("recentFiles",(n=>{n=n||[];const i=new File$1(e);if(0===n.length)e.length>0&&n.push(i);else{if(!isUnique(n,i)){let[e,t,n]=i.id.split("-");e===figma.currentUser.id&&t!==figma.currentUser.sessionId.toString()&&figma.root.name.endsWith("(Copy)")&&!getDocumentData("duplicateResolved")&&(i.id=setDocumentData("fileId",genUID()).replace(/['"]+/g,""),setDocumentData("duplicateResolved",!0))}figma.root.name.endsWith("(Copy)")||setDocumentData("duplicateResolved",""),addUniqueToArray$1(n,i),n.length>0&&(n.filter(((t,a)=>{t.id===i.id&&(t.name=i.name,t.lastVisited=(new Date).toISOString(),t.data=i.data,setDocumentData("fileData",e),(!e||Array.isArray(e)&&0===e.length)&&n.splice(a,1))})),n.sort(((e,t)=>e.lastVisited===t.lastVisited?0:e.lastVisited>t.lastVisited?-1:1)),t.expire&&n.map((e=>{if(new Date(e.lastVisited).valueOf()<(new Date).valueOf()-t.expire){let t=n.indexOf(e);-1!==t&&n.splice(t,1)}})))}return n}));return n.length>0&&(n=n.filter((e=>!(e.id===getPluginData(figma.root,"fileId"))))),n}async function getRemoteFilesAsync(e){var t=await getClientStorageAsync("recentFiles");return updatePluginData(figma.root,"remoteFiles",(n=>{if(n=n||[],e){let i=n.find((t=>t.id===e)),a=t.find((t=>t.id===e));i||n.push(a)}if(t.length>0){for(let e=0;e<n.length;e++){var i=n[e];for(let o=0;o<t.length;o++){var a=t[o];a.id===i.id&&(n[e]=a)}}n=n.filter((e=>!(e.id===getPluginData(figma.root,"fileId"))))}if(n.length>0)for(var o=0;o<n.length;o++){var r=n[o];r.data[0]&&figma.importComponentByKeyAsync(r.data[0].component.key).then((e=>{var t=getPluginData(e,"template");updatePluginData(figma.root,"remoteFiles",(e=>(e.map((e=>{e.id===t.file.id&&(e.name=t.file.name)})),e)))})).catch((e=>{console.log(e)}))}return n}))}function removeRemoteFile(e){return updatePluginData(figma.root,"remoteFiles",(t=>{let n=t.findIndex((t=>t.id===e));return-1!==n&&t.splice(n,1),t}))}function incrementName(e,t){let n=e;t&&t.length>1&&(t.sort(((e,t)=>e.name===t.name?0:e.name>t.name?-1:1)),n=t[0].name);let i=n.match(/^(.*\S)(\s*)(\d+)$/);return!i||t&&0===t.length||(e=`${i[1]}${i[2]}${parseInt(i[3],10)+1}`),e}var convertToComponent_1=convertToComponent,convertToFrame_1=convertToFrame,copyPaste_1=copyPaste,genUID_1=genUID,getClientStorageAsync_1=getClientStorageAsync,getDocumentData_1=getDocumentData,getNodeIndex_1=getNodeIndex,getPageNode_1=getPageNode,getPluginData_1=getPluginData,getRecentFilesAsync_1=getRecentFilesAsync,getRemoteFilesAsync_1=getRemoteFilesAsync,incrementName_1=incrementName,nodeToObject_1=nodeToObject,removeChildren_1=removeChildren$1,removeRemoteFile_1=removeRemoteFile,replace_1=replace,resize_1=resize,setDocumentData_1=setDocumentData,setPluginData_1=setPluginData,ungroup_1=ungroup,updateClientStorageAsync_1=updateClientStorageAsync$1,updatePluginData_1=updatePluginData,Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},Out:function(e){var t,n=.1;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t,n=.1,i=.4;return 0===e?0:1===e?1:(!n||n<1?(n=1,t=.1):t=i*Math.asin(1/n)/(2*Math.PI),(e*=2)<1?n*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*-.5:n*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/i)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Easing.Bounce.In(2*e):.5*Easing.Bounce.Out(2*e-1)+.5}}},easing=Easing,Utils={Linear:function(e,t,n){return(t-e)*n+e},Bernstein:function(e,t){var n=Utils.Factorial;return n(e)/n(t)/n(e-t)},Factorial:(a=[1],function(e){var t,n=1;if(a[e])return a[e];for(t=e;t>1;t--)n*=t;return a[e]=n,a[e]}),CatmullRom:function(e,t,n,i,a){var o=.5*(n-e),r=.5*(i-t),l=a*a;return(2*t-2*n+o+r)*(a*l)+(-3*t+3*n-2*o-r)*l+o*a+t}},a,interpolation={Linear:function(e,t){var n=e.length-1,i=n*t,a=Math.floor(i),o=Utils.Linear;return t<0?o(e[0],e[1],i):t>1?o(e[n],e[n-1],n-i):o(e[a],e[a+1>n?n:a+1],i-a)},Bezier:function(e,t){var n,i=0,a=e.length-1,o=Math.pow,r=Utils.Bernstein;for(n=0;n<=a;n++)i+=o(1-t,a-n)*o(t,n)*e[n]*r(a,n);return i},CatmullRom:function(e,t){var n=e.length-1,i=n*t,a=Math.floor(i),o=Utils.CatmullRom;return e[0]===e[n]?(t<0&&(a=Math.floor(i=n*(1+t))),o(e[(a-1+n)%n],e[a],e[(a+1)%n],e[(a+2)%n],i-a)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-i)-e[0]):t>1?e[n]-(o(e[n],e[n],e[n-1],e[n-1],i-n)-e[n]):o(e[a?a-1:0],e[a],e[n<a+1?n:a+1],e[n<a+2?n:a+2],i-a)}},Tween=function(e,t){t=t||{},this._object=e,this._valuesStart={},this._valuesStartRepeat={},this._startTime=null,this._onStartCallbackFired=!1,this._onCompleteCallbackFired=!1,this.remove=!1,this._isPlaying=!1,this._reversed=!1,this.filters=t.filters||{},this.duration=t.duration||1e3,this.repeat=t.repeat||0,this.repeatDelay=t.repeatDelay||0,this.delay=t.delay||0,this.from=t.from||!1,this.to=t.to||{},this.yoyo=t.yoyo||!1,this.easing=t.easing||easing.Linear.None,this.interpolation=t.interpolation||interpolation.Linear,this.chained=t.chained||[],this.onStart=t.onStart||!1,this.onUpdate=t.onUpdate||!1,this.onComplete=t.onComplete||!1,this.onRepeat=t.onRepeat||!1,this.onYoYo=t.onYoYo||!1,this.window=!1};Tween.prototype.start=function(e){var t;for(var n in this._isPlaying=!0,this._object)this.from&&void 0!==this.from[n]&&(this._object[n]=this.from[n]);if(this._onStartCallbackFired=!1,this._onCompleteCallbackFired=!1,void 0!==e)this._startTime=e;else{var i=this.window||i;void 0!==i&&void 0!==i.performance&&void 0!==i.performance.now?this._startTime=i.performance.now():this._startTime=Date.now()}for(t in this._startTime+=this.delay,this.to){var a=this.to[t],o=this.filters[t];if(a instanceof Array){if(0===a.length)continue;a=[this._object[t]].concat(a)}o&&o.start(this._object[t],a),this.to[t]=a,this._valuesStart[t]=this._object[t],this._valuesStartRepeat[t]=this._valuesStart[t]||0}return this},Tween.prototype.update=function(e){if(!this._isPlaying)return!0;var t;if(e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this.onStart&&this.onStart(this._object,this,0,0),this._onStartCallbackFired=!0);var n=(e-this._startTime)/this.duration;n=n>1?1:n;var i=this.easing(n);for(t in this.to){var a,o=this._valuesStart[t]||0,r=this.to[t],l=void 0!==this.filters[t]&&this.filters[t];"number"==typeof r?a=o+(r-o)*i:l?a=l.getUpdatedValue(i,this.interpolation):r instanceof Array&&(a=this.interpolation(r,i)),void 0!==a&&(this._object[t]=a)}if(this.onUpdate&&this.onUpdate(this._object,this,i,n),1==n){if(this.repeat>0){for(t in isFinite(this.repeat)&&this.repeat--,this._valuesStartRepeat){if(this.yoyo){var s=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this.to[t],this.to[t]=s,this._reversed=!this._reversed,this.onYoYo&&this.onYoYo(this._object,this,1,1)}this._valuesStart[t]=this._valuesStartRepeat[t],this.filters[t]&&this.filters[t].start(this._valuesStart[t],this.to[t])}return this._startTime=e+this.repeatDelay,this.onRepeat&&this.onRepeat(this._object,this,1,1),!0}return!1===this._onCompleteCallbackFired&&(this.onComplete&&this.onComplete(this._object,this,1,1),this._onCompleteCallbackFired=!0),!1}return!0},Tween.prototype.getDuration=function(){var e=0;return this.repeat&&(e=this.repeatDelay),this.delay+(e+this.duration)*(this.repeat||1)};var tween=Tween,Filter=function(e){e=e||{},this.format=e.format||this.format,this.placeholder=e.placeholder||this.placeholder,this.placeholderTypes=e.placeholderTypes||[].concat(this.placeholderTypes),this._formatArray=this.format.split(this.placeholder)};Filter.prototype._formatArray=null,Filter.prototype.format="rgba(%,%,%,%)",Filter.prototype.placeholder="%",Filter.prototype.placeholderTypes=["int","int","int","float"],Filter.prototype.to=null,Filter.prototype.from=null,Filter.prototype.stringToArray=function(e){return e.match(/[+-]?[\d]+(\.[\d]+)?/g).map(parseFloat)},Filter.prototype.validateArrayLength=function(e,t,n){(n=n||"")&&(n=' set to the "'+n+'" param'),(t=t||"")&&(t=' of string "'+t+'"');var i=this._formatArray.length-1;if(e<i)throw new Error("value array length ( "+e+" )"+t+n+" is less than the number of format placeholders ( "+i+" ) in "+this.format);if(e>i)throw new Error("value array length ( "+e+" )"+t+n+" is greater than the number of format placeholders ( "+i+" ) in "+this.format)},Filter.prototype.arrayToString=function(e){var t,n=this._formatArray,i=n.length,a=[];for(t=0;t<i;t++)"int"===this.placeholderTypes[t]&&(e[t]=Math.round(e[t])),a.push(n[t]),a.push(e[t]);return a.join("")},Filter.prototype.start=function(e,t){var n;if(this.from=e,this.to=t,this.arrayFrom=this.stringToArray(e),this.validateArrayLength(this.arrayFrom.length,e,"arrayFrom"),t instanceof Array){n=[];var i,a=(t=[e].concat(t)).length;for(i=0;i<a;i++){var o=this.stringToArray(t[i]);this.validateArrayLength(o.length,t[i],"arrayTo"),n[i]=o}this.arrayToIndexedInterpolated=this.getIndexedInterpolationData(n)}else n=this.stringToArray(t),this.validateArrayLength(n.length,t,"arrayTo");this.arrayTo=n},Filter.prototype.getIndexedInterpolationData=function(e){var t,n,i=[],a=e.length;for(t=0;t<a;t++){var o=e[t],r=o.length;for(n=0;n<r;n++)void 0===i[n]&&(i[n]=[]),i[n].push(o[n])}return i},Filter.prototype.getUpdatedValue=function(e,t){var n,i,a=this.arrayTo,o=[];if(a[0]instanceof Array){var r=this.arrayToIndexedInterpolated;for(i=r.length,n=0;n<i;n++)o[n]=t(r[n],e);return this.arrayToString(o)}var l=[];for(i=a.length,n=0;n<i;n++){var s=this.arrayFrom[n],d=a[n];l.push(s+(d-s)*e)}return this.arrayToString(l)};var filter=Filter,Queue=function(e){this.tweens=e||[],this.window=!1};Queue.prototype.window=null,Queue.prototype.tweens=null,Queue.prototype.add=function(e){return this.tweens.push(e),this},Queue.prototype.remove=function(e){var t=this.tweens.indexOf(e);return-1!==t&&this.tweens.splice(t,1),this},Queue.prototype.update=function(e){if(0===this.tweens.length)return!1;var t=0;if(void 0===e){var n=this.window||n;e=void 0!==n&&void 0!==n.performance&&void 0!==n.performance.now?n.performance.now():Date.now()}for(;t<this.tweens.length;){var i=this.tweens[t],a=i.update(e);if(i.remove||!a){if(this.tweens.splice(t,1),!i.remove&&i.chained){var o=i.chained.length;for(t=0;t<o;t++){var r=i.chained[t];this.add(r),r.start(e)}}}else t++}return!0},Queue.prototype.start=function(e){for(var t=this.tweens.length-1;t>=0;t--)this.tweens[t].start(e);return this};var queue=Queue,tweeno={Tween:tween,Filter:filter,Queue:queue,Interpolation:interpolation,Easing:easing};async function lookForComponent(e){var t,n=getComponentById(e.component.id);try{if(!n)throw"error";t=n}catch(n){try{t=await figma.importComponentByKeyAsync(e.component.key)}catch(t){t.startsWith("Could not find a published component with the key")&&(console.log("Template: ",e),figma.notify("Check component is published",{error:!0}))}}return t}function getComponentById(e){var t=figma.getNodeById(e);if(t&&"COMPONENT"===t.type)return t?null===t.parent||null===t.parent.parent?(figma.root.setPluginData("cellComponentState","exists"),!1):(figma.root.setPluginData("cellComponentState","removed"),t):(figma.root.setPluginData("cellComponentState","deleted"),null)}function createPage(e){var t=figma.createPage();return t.name=e,figma.currentPage=t,t}function isVariant(e){var t;if("INSTANCE"===e.type)return"COMPONENT_SET"===(null===(t=e.mainComponent.parent)||void 0===t?void 0:t.type)}function getVariantName(e){var t,n;if(isVariant(e)){let i=(null===(t=e.variantProperties)||void 0===t?void 0:t.Type)||(null===(n=e.variantProperties)||void 0===n?void 0:n.type);return i?e.name+"/"+i:e.name+"/"+e.mainComponent.name}return e.name}function getSelectionName(e){return e?isVariant(e)?getVariantName(e):e.name:void 0}function isInsideComponent(e){const t=e.parent;return!!t&&(!(!t||"COMPONENT"!==t.type)||(!t||"PAGE"!==t.type)&&isInsideComponent(t))}function getParentComponent(e){const t=e.parent;return!!t&&(t&&"COMPONENT"===t.type?t:(!t||"PAGE"!==t.type)&&getParentComponent(t))}function animateNodeIntoView(e,t,n){let i=getPageNode_1(e[0]);figma.currentPage=i;let a=Object.assign(Object.assign({},figma.viewport.center),{z:figma.viewport.zoom});figma.viewport.scrollAndZoomIntoView(e);let o=Object.assign(Object.assign({},Object.assign({},figma.viewport.center)),{z:figma.viewport.zoom});figma.viewport.center={x:a.x,y:a.y},figma.viewport.zoom=a.z;var r={from:a,to:o,duration:t||1e3,repeat:0,easing:n||tweeno.Easing.Cubic.Out},l=Object.assign(Object.assign({},a),{update:function(){figma.viewport.center={x:this.x,y:this.y},figma.viewport.zoom=this.z}}),s=new tweeno.Queue,d=new tweeno.Tween(l,r);s.add(d),s.start();let c=setInterval((()=>{0===s.tweens.length?clearInterval(c):(s.update(),l.update())}),1)}function positionInCenterOfViewport(e){e.x=figma.viewport.center.x-e.width/2,e.y=figma.viewport.center.y-e.height/2}function swapAxises(e){let t=e.primaryAxisSizingMode,n=e.counterAxisSizingMode;return e.primaryAxisSizingMode=n,e.counterAxisSizingMode=t,e}function genRandomId(){return Array(10).fill("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz").map((function(e){return e[Math.floor(Math.random()*e.length)]})).join("")}function clone(e){return JSON.parse(JSON.stringify(e))}function getTemplateParts$1(e){let t=["tr","td","th","table"],n={};for(let i=0;i<t.length;i++){let a=t[i],o=e.findOne((e=>{let t=getPluginData_1(e,"elementSemantics");if((null==t?void 0:t.is)===a)return!0}));n[a]=o}return n.table||"table"===getPluginData_1(e,"elementSemantics").is&&(n.table=e),n}function removeChildren(e){for(let t=e.children.length-1;t>=0;t--)e.children[t].remove()}function copyPasteStyle(e,t,n={}){const i=["opacity","blendMode","effects","effectStyleId","backgrounds","backgroundStyleId","fills","strokes","strokeWeight","strokeMiterLimit","strokeAlign","strokeCap","strokeJoin","dashPattern","fillStyleId","strokeStyleId","cornerRadius","cornerSmoothing","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","paddingLeft","paddingRight","paddingTop","paddingBottom","itemSpacing","clipsContent","layoutMode","strokeTopWeight","strokeBottomWeight","strokeRightWeight","strokeLeftWeight"];return n.include?n.include=n.include.concat(i):n.include=i,copyPaste_1(e,t,n)}async function changeText(e,t,n){e.fontName===figma.mixed?await figma.loadFontAsync(e.getRangeFontName(0,1)):await figma.loadFontAsync({family:e.fontName.family,style:n||e.fontName.style}),n&&(e.fontName={family:e.fontName.family,style:n}),t&&(e.characters=t)}async function overrideChildrenChars2(e,t,n,i){for(let a=0;a<e.length;a++)n[a]&&i[a]&&(n[a].name===i[a].name&&(t[a].name=e[a].name,t[a].visible=e[a].visible,"INSTANCE"===t[a].type&&t[a].swapComponent(e[a].mainComponent)),t[a].children&&e[a].children?await overrideChildrenChars2(e[a].children,t[a].children,n[a].children,i[a].children):"TEXT"===e[a].type&&await changeText(t[a],e[a].characters,e[a].fontName.style))}async function swapInstance(e,t){e&&t&&await overrideChildrenChars2(e.children,t.children,e.mainComponent.children,t.mainComponent.children)}function isTheme(e){return(255*e.r*299+255*e.g*587+255*e.b*114)/1e3>160||"figjam"===figma.editorType?"light":"dark"}async function createTooltip(e,t){let n="light";"dark"===isTheme(t||figma.currentPage.backgrounds[0].color)&&(n="dark"),await async function(){await Promise.all([figma.loadFontAsync({family:"Inter",style:"Regular"})])}();var i=figma.createComponent();i.resize(457,53),i.counterAxisSizingMode="AUTO",i.name=".Tooltip",i.relativeTransform=[[1,0,13222],[0,1,7008]],i.x=13222,i.y=7008,i.fills=[],i.cornerRadius=8,i.primaryAxisSizingMode="FIXED",i.strokeTopWeight=1,i.strokeBottomWeight=1,i.strokeLeftWeight=1,i.strokeRightWeight=1,i.backgrounds=[],i.expanded=!1,i.layoutMode="HORIZONTAL",i.counterAxisSizingMode="AUTO";var a=figma.createFrame();i.appendChild(a),a.resize(457,53),a.primaryAxisSizingMode="AUTO",a.name="Artwork",a.layoutPositioning="ABSOLUTE",a.fills=[],a.strokeTopWeight=1,a.strokeBottomWeight=1,a.strokeLeftWeight=1,a.strokeRightWeight=1,a.backgrounds=[],a.clipsContent=!1,a.expanded=!1,a.constraints={horizontal:"STRETCH",vertical:"STRETCH"};var o=figma.createRectangle();a.appendChild(o),o.resize(15.5563220978,15.5563220978),o.name="Rectangle 1",o.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],o.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],o.relativeTransform=[[.7071068287,-.7071068287,0],[.7071068287,.7071068287,16]],o.y=16,o.rotation=-45,o.constrainProportions=!0,o.strokeTopWeight=1,o.strokeBottomWeight=1,o.strokeLeftWeight=1,o.strokeRightWeight=1;var r=figma.createRectangle();a.appendChild(r),r.resize(457,53),r.name="Rectangle 2",r.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],r.constraints={horizontal:"MIN",vertical:"STRETCH"},r.cornerRadius=8,r.strokeTopWeight=1,r.strokeBottomWeight=1,r.strokeLeftWeight=1,r.strokeRightWeight=1;var l=figma.union([o,r],a);l.name="Union",l.visible=!0,l.locked=!1,l.opacity=1,l.blendMode="PASS_THROUGH",l.isMask=!1,l.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.07000000029802322},offset:{x:0,y:4},radius:12,spread:0,visible:!0,blendMode:"NORMAL",showShadowBehindNode:!1}],l.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],l.strokes=[{type:"SOLID",visible:!0,opacity:.10000000149011612,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],l.strokeWeight=1,l.strokeAlign="INSIDE",l.strokeJoin="MITER",l.dashPattern=[],l.strokeCap="NONE",l.strokeMiterLimit=4,l.layoutAlign="INHERIT",l.constrainProportions=!1,l.layoutGrow=0,l.layoutPositioning="AUTO",l.exportSettings=[],l.cornerRadius=0,l.cornerSmoothing=0,l.expanded=!1,l.reactions=[];var s=figma.createText();i.appendChild(s),s.resize(417,21),s.name="Only layer styles such as: background, color, border radius etc will be used to create tables. You don't have to create tables using the plugin. You can also create tables by creating an instance of this component and detaching them and their rows. If you change the styles used on the table or row components you can update existing tables by going to Plugins > Table Creator > Settings and select Refresh Tables",s.relativeTransform=[[1,0,20],[0,1,16]],s.x=20,s.y=16,s.layoutGrow=1,s.autoRename=!1,s.listSpacing=0,s.characters="Text",s.fontSize=14,s.lineHeight={unit:"PERCENT",value:150},s.fontName={family:"Inter",style:"Regular"},s.textAutoResize="HEIGHT",i.remove();var d=i.createInstance();figma.currentPage.appendChild(d),d.relativeTransform=[[1,0,13222],[0,1,7163]],d.y=7163,d.swapComponent(i);var c=figma.getNodeById("I"+d.id+";"+a.id);c.resize(457,116),c.primaryAxisSizingMode="AUTO";var g=figma.getNodeById("I"+d.id+";"+l.id);figma.getNodeById("I"+d.id+";"+o.id),figma.getNodeById("I"+d.id+";"+r.id).resize(457,116);var u=figma.getNodeById("I"+d.id+";"+s.id);return u.resize(417,84),u.characters=e,i.paddingLeft=20,i.paddingRight=20,i.paddingTop=16,i.paddingBottom=16,"dark"===n&&(u.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],g.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.21250000596046448,g:.21250000596046448,b:.21250000596046448}}],g.strokes=[{type:"SOLID",visible:!0,opacity:.10000000149011612,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],g.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.10000000149011612},offset:{x:0,y:4},radius:12,spread:0,visible:!0,blendMode:"NORMAL",showShadowBehindNode:!1}]),d}async function createTemplateComponents(){let e="light";"dark"===isTheme(figma.currentPage.backgrounds[0].color)&&(e="dark"),await async function(){await Promise.all([figma.loadFontAsync({family:"Inter",style:"Regular"}),figma.loadFontAsync({family:"Inter",style:"Semi Bold"})])}();var t=figma.createComponent();t.resize(120,35),t.name="Type=Default",t.relativeTransform=[[1,0,16],[0,1,16]],t.x=16,t.y=16,t.layoutAlign="STRETCH",t.fills=[{type:"SOLID",visible:!0,opacity:.0020000000949949026,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],t.strokes="dark"===e?[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]:[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}],t.primaryAxisSizingMode="FIXED",t.strokeTopWeight=1,t.strokeBottomWeight=0,t.strokeLeftWeight=1,t.strokeRightWeight=0,t.backgrounds=[{type:"SOLID",visible:!0,opacity:.0020000000949949026,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],t.expanded=!1,t.layoutMode="VERTICAL";var n=figma.createFrame();t.appendChild(n),n.resize(120,35),n.counterAxisSizingMode="AUTO",n.primaryAxisSizingMode="FIXED",n.name="Content",n.layoutAlign="STRETCH",n.fills=[],n.paddingLeft=12,n.paddingRight=12,n.paddingTop=10,n.paddingBottom=10,n.strokeTopWeight=1,n.strokeBottomWeight=1,n.strokeLeftWeight=1,n.strokeRightWeight=1,n.backgrounds=[],n.expanded=!1,n.layoutMode="HORIZONTAL";var i=figma.createText();n.appendChild(i),i.resize(96,15),i.relativeTransform=[[1,0,12],[0,1,10]],i.x=12,i.y=10,i.layoutGrow=1,i.fontName={family:"Inter",style:"Regular"},i.listSpacing=0,i.characters="",i.lineHeight={unit:"PERCENT",value:130},i.fontName={family:"Inter",style:"Regular"},i.textAutoResize="HEIGHT","dark"===e&&(i.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}]);var a=figma.createComponent();a.resize(120,35),a.name="Type=Header",a.relativeTransform=[[1,0,136],[0,1,16]],a.x=136,a.y=16,a.layoutAlign="STRETCH","dark"===e?(a.fills=[{type:"SOLID",visible:!0,opacity:.05,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],a.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]):(a.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],a.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}]),a.primaryAxisSizingMode="FIXED",a.strokeTopWeight=1,a.strokeBottomWeight=0,a.strokeLeftWeight=1,a.strokeRightWeight=0,a.expanded=!1,a.layoutMode="VERTICAL";var o=figma.createFrame();a.appendChild(o),o.resize(120,35),o.counterAxisSizingMode="AUTO",o.primaryAxisSizingMode="FIXED",o.name="Content",o.layoutAlign="STRETCH",o.fills=[],o.paddingLeft=12,o.paddingRight=12,o.paddingTop=10,o.paddingBottom=10,o.strokeTopWeight=1,o.strokeBottomWeight=1,o.strokeLeftWeight=1,o.strokeRightWeight=1,o.backgrounds=[],o.expanded=!1,o.layoutMode="HORIZONTAL";var r=figma.createText();o.appendChild(r),r.resize(96,15),r.relativeTransform=[[1,0,12],[0,1,10]],r.x=12,r.y=10,r.layoutGrow=1,r.fontName={family:"Inter",style:"Semi Bold"},r.listSpacing=0,r.characters="",r.lineHeight={unit:"PERCENT",value:130},r.fontName={family:"Inter",style:"Semi Bold"},r.textAutoResize="HEIGHT","dark"===e&&(r.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}]);var l=figma.combineAsVariants([t,a],figma.currentPage);l.resize(272,67),l.primaryAxisSizingMode="AUTO",l.counterAxisSizingMode="AUTO",l.name="Cell",l.visible=!0,l.locked=!1,l.opacity=1,l.blendMode="PASS_THROUGH",l.isMask=!1,l.effects=[],l.relativeTransform=[[1,0,11673],[0,1,7538]],l.x=11673,l.y=7538,l.rotation=0,l.layoutAlign="INHERIT",l.constrainProportions=!1,l.layoutGrow=0,l.layoutPositioning="AUTO",l.exportSettings=[],l.fills=[],l.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}],l.strokeWeight=1,l.strokeAlign="INSIDE",l.strokeJoin="MITER",l.dashPattern=[10,5],l.strokeCap="NONE",l.strokeMiterLimit=4,l.cornerRadius=5,l.cornerSmoothing=0,l.paddingLeft=16,l.paddingRight=16,l.paddingTop=16,l.paddingBottom=16,l.primaryAxisAlignItems="MIN",l.counterAxisAlignItems="MIN",l.primaryAxisSizingMode="AUTO",l.strokeTopWeight=1,l.strokeBottomWeight=1,l.strokeLeftWeight=1,l.strokeRightWeight=1,l.layoutGrids=[],l.backgrounds=[],l.clipsContent=!0,l.guides=[],l.expanded=!1,l.constraints={horizontal:"MIN",vertical:"MIN"},l.layoutMode="HORIZONTAL",l.counterAxisSizingMode="AUTO",l.itemSpacing=0,l.overflowDirection="NONE",l.numberOfFixedChildren=0,l.itemReverseZIndex=!1,l.strokesIncludedInLayout=!1,l.description="",l.documentationLinks=[];var s=figma.createComponent();figma.currentPage.appendChild(s),s.resize(240,35),s.primaryAxisSizingMode="AUTO",s.counterAxisSizingMode="AUTO",s.name="Row",s.relativeTransform=[[1,0,11689],[0,1,7399]],s.x=11689,s.y=7399,s.fills=[{type:"SOLID",visible:!0,opacity:9999999747378752e-20,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],s.strokeTopWeight=1,s.strokeBottomWeight=1,s.strokeLeftWeight=1,s.strokeRightWeight=1,s.backgrounds=[{type:"SOLID",visible:!0,opacity:9999999747378752e-20,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],s.clipsContent=!0,s.expanded=!1,s.layoutMode="HORIZONTAL",s.counterAxisSizingMode="AUTO",s.layoutAlign="STRETCH",s.primaryAxisSizingMode="FIXED";var d=t.createInstance();s.appendChild(d),d.relativeTransform=[[1,0,0],[0,1,0]],d.layoutAlign="STRETCH",d.swapComponent(t),figma.getNodeById("I"+d.id+";"+n.id),figma.getNodeById("I"+d.id+";"+i.id);var c=t.createInstance();s.appendChild(c),c.relativeTransform=[[1,0,120],[0,1,0]],c.x=120,c.layoutAlign="STRETCH",c.swapComponent(t),figma.getNodeById("I"+c.id+";"+n.id),figma.getNodeById("I"+c.id+";"+i.id);var g=figma.createComponent();figma.currentPage.appendChild(g),g.resize(240,105),g.primaryAxisSizingMode="AUTO",g.counterAxisSizingMode="AUTO",g.name="Table 1",g.relativeTransform=[[1,0,11689],[0,1,7174]],g.x=11689,g.y=7174,"dark"===e?(g.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.21250000596046448,g:.21250000596046448,b:.21250000596046448}}],g.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]):(g.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],g.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}]),g.cornerRadius=4,g.strokeTopWeight=1,g.strokeBottomWeight=1,g.strokeLeftWeight=1,g.strokeRightWeight=1,g.clipsContent=!0,g.expanded=!1,g.layoutMode="VERTICAL",g.counterAxisSizingMode="AUTO";var u=s.createInstance();g.appendChild(u),u.relativeTransform=[[1,0,0],[0,1,0]],u.layoutAlign="STRETCH",u.primaryAxisSizingMode="FIXED",u.swapComponent(s);var m=figma.getNodeById("I"+u.id+";"+d.id);m.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],m.backgrounds=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],m.swapComponent(a),figma.getNodeById(m.id+";"+o.id),figma.getNodeById(m.id+";"+r.id);var p=figma.getNodeById("I"+u.id+";"+c.id);p.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],p.backgrounds=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],p.swapComponent(a),figma.getNodeById(p.id+";"+o.id),figma.getNodeById(p.id+";"+r.id);var f=s.createInstance();g.appendChild(f),f.relativeTransform=[[1,0,0],[0,1,35]],f.y=35,f.layoutAlign="STRETCH",f.primaryAxisSizingMode="FIXED",f.swapComponent(s);var h=figma.getNodeById("I"+f.id+";"+d.id);h.swapComponent(t),figma.getNodeById(h.id+";"+n.id),figma.getNodeById(h.id+";"+i.id);var y=figma.getNodeById("I"+f.id+";"+c.id);y.swapComponent(t),figma.getNodeById(y.id+";"+n.id),figma.getNodeById(y.id+";"+i.id);var v=s.createInstance();g.appendChild(v),v.relativeTransform=[[1,0,0],[0,1,70]],v.y=70,v.layoutAlign="STRETCH",v.primaryAxisSizingMode="FIXED",v.swapComponent(s);var T=figma.getNodeById("I"+v.id+";"+d.id);T.swapComponent(t),figma.getNodeById(T.id+";"+n.id),figma.getNodeById(T.id+";"+i.id);var b=figma.getNodeById("I"+v.id+";"+c.id);return b.swapComponent(t),figma.getNodeById(b.id+";"+n.id),figma.getNodeById(b.id+";"+i.id),setPluginData_1(g,"elementSemantics",{is:"table"}),setPluginData_1(s,"elementSemantics",{is:"tr"}),setPluginData_1(t,"elementSemantics",{is:"td"}),setPluginData_1(a,"elementSemantics",{is:"th"}),t.setRelaunchData({selectColumn:"Select all cells in column",selectRow:"Select all cells in row"}),a.setRelaunchData({selectColumn:"Select all cells in column",selectRow:"Select all cells in row"}),{templateComponent:g,rowComponent:s,cellComponentSet:l}}async function updateClientStorageAsync(e,t){var n=await figma.clientStorage.getAsync(e);return n=t(n),await figma.clientStorage.setAsync(e,n),n||(n=null),n}let defaultRelaunchData={detachTable:"Detaches table and rows",toggleColumnResizing:"Turn column resizing on or off",switchColumnsOrRows:"Switch between using columns or rows",updateTables:"Refresh tables already created"};function convertToNumber(e){return Number(e)?Number(e):e}async function updatePluginVersion(e){return updateClientStorageAsync("pluginVersion",(t=>(figma.root.getPluginData("pluginVersion")&&figma.root.setPluginData("pluginVersion",""),e||t)))}function createTable(e,t,n){let i,a=getTemplateParts$1(e);if(a.table&&a.tr&&a.td&&(a.th||!t.includeHeader)){var o,r;if(i=convertToFrame_1(e.clone()),a.table.id===e.id)"COMPONENT"===n?i=o=convertToComponent_1(i):o=i;else{i.findAll((e=>{var t;"table"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&e.remove()}));var l=getNodeIndex_1(a.table);i.insertChild(l,o)}var s=getNodeIndex_1(a.tr);var d=o.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)})).parent;o.findAll((e=>{var t;"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&e.remove()})),t.columnResizing&&"COMPONENT"!==n?((r=convertToComponent_1(a.tr.clone())).layoutAlign=a.tr.layoutAlign,r.primaryAxisSizingMode=a.tr.primaryAxisSizingMode,r.name.startsWith(".")||r.name.startsWith("_")||(r.name="."+r.name),setPluginData_1(r,"elementSemantics",{is:"tr"})):(r=convertToFrame_1(a.tr.clone()),setPluginData_1(r,"elementSemantics",{is:"tr"})),d.insertChild(s,r),removeChildren(r),t.tableHeight&&"HUG"!==t.tableHeight&&(r.layoutGrow=1),r.layoutAlign="STRETCH";for(let e=0;e<t.columnCount;e++){var c;"COMPONENT"===a.td.type&&(c=a.td.clone()),"INSTANCE"===a.td.type&&(c=a.td.mainComponent.createInstance()),t.cellWidth&&"FILL"!==t.cellWidth&&c.resizeWithoutConstraints(t.cellWidth,c.height),t.tableWidth&&"HUG"!==t.tableWidth&&(c.layoutGrow=1),setPluginData_1(c,"elementSemantics",{is:"td"}),c.primaryAxisAlignItems=t.cellAlignment,r.appendChild(c),c.layoutAlign="STRETCH",c.primaryAxisSizingMode="FIXED"}for(var g=1;g<t.rowCount;g++){var u;if("COMPONENT"===r.type?(u=r.createInstance()).layoutAlign=r.layoutAlign:u=r.clone(),t.tableHeight&&"HUG"!==t.tableHeight&&(u.layoutGrow=1),t.columnResizing&&"COMPONENT"!==n&&t.includeHeader)for(let e=0;e<u.children.length;e++){var m=u.children[e];m.mainComponent=a.td.mainComponent,setPluginData_1(m,"elementSemantics",{is:"td"}),m.primaryAxisSizingMode="FIXED"}d.insertChild(s+1,u)}if(t.includeHeader&&a.th)for(g=0;g<r.children.length;g++){var p=r.children[g];p.swapComponent(a.th.mainComponent),setPluginData_1(p,"elementSemantics",{is:"th"})}return i.setRelaunchData(defaultRelaunchData),t.tableWidth&&"HUG"!==t.tableWidth&&i.resize(convertToNumber(t.tableWidth),i.height),t.tableHeight&&"HUG"!==t.tableHeight&&i.resize(i.width,convertToNumber(t.tableHeight)),i}{let e=[];!a.table&&e.push("table"),!a.tr&&e.push("row"),!a.th&&t.includeHeader&&e.push("header"),!a.td&&e.push("cell"),e.length>1?figma.notify(`Template parts "${e.join(", ")}" not configured`):figma.notify(`Template part "${e.join(", ")}" not configured`),i=!1}}function File(e){this.id=getDocumentData_1("fileId")||setDocumentData_1("fileId",genRandomId()),this.name=figma.root.name,e&&(this.data=e)}function Template(e){this.id=e.id,this.name=e.name,this.component={id:e.id,key:e.key},this.file={id:getDocumentData_1("fileId")||setDocumentData_1("fileId",genRandomId()),name:figma.root.name}}function getLocalTemplates(){figma.skipInvisibleInstanceChildren=!0;var e=[],t=figma.root.findAllWithCriteria({types:["COMPONENT"]});for(let i=0;i<t.length;i++){let a=t[i];var n=getPluginData_1(a,"template");if(n&&"COMPONENT"===a.type){n.id=a.id,n.name=a.name,n.component.id=a.id,n.component.key=a.key;let t=getDocumentData_1("fileId")||genUID_1();n.file.id=t,setPluginData_1(a,"template",n),e.push(n)}}return e}async function setDefaultTemplate(e){await getRemoteFilesAsync_1(),await getRecentFilesAsync_1(getLocalTemplates()),setDocumentData_1("defaultTemplate",e),figma.ui.postMessage({type:"post-default-template",defaultTemplate:e,localTemplates:getLocalTemplates()})}async function updateTables(e){var t=figma.root.findAll((t=>{var n;return(null===(n=getPluginData_1(t,"template"))||void 0===n?void 0:n.id)===e.id})),n=await lookForComponent(e);if(n&&t){var i=n.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}));for(let e=0;e<t.length;e++){var a=t[e];"INSTANCE"!==a.type&&(copyPasteStyle(n,a,{exclude:["name","layoutMode"]}),a.findAll((e=>{var t;"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)==!0&&"INSTANCE"!==e.type&&copyPasteStyle(i,e,{exclude:["name","layoutMode"]})})))}}}function getTableSettings(e){var t,n,i;let a=0,o=0,r="rows";for(let n=0;n<e.children.length;n++){var l=e.children[n];"tr"===(null===(t=getPluginData_1(l,"elementSemantics"))||void 0===t?void 0:t.is)&&a++}let s=e.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)})),d=s.findOne((e=>{var t,n;return"td"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)||"th"===(null===(n=getPluginData_1(e,"elementSemantics"))||void 0===n?void 0:n.is)}));"VERTICAL"===s.parent.layoutMode&&(r="rows"),"HORIZONTAL"===s.parent.layoutMode&&(r="columns");for(let e=0;e<s.children.length;e++){l=s.children[e];var c=null===(n=getPluginData_1(l,"elementSemantics"))||void 0===n?void 0:n.is;"td"!==c&&"th"!==c||o++}return{tableWidth:"AUTO"===e.counterAxisSizingMode?"HUG":e.width,tableHeight:"AUTO"===e.primaryAxisSizingMode?"HUG":e.height,columnCount:o,rowCount:a,columnResizing:"COMPONENT"===s.type,includeHeader:"th"===(null===(i=getPluginData_1(d,"elementSemantics"))||void 0===i?void 0:i.is),cellAlignment:"MIN",usingColumnsOrRows:r,cellWidth:d.width}}function upgradeOldTablesToNewTables(e){for(var t=figma.root.findAll((e=>"true"===e.getPluginData("isTable")&&"COMPONENT"!==e.type)),n=figma.root.findAll((e=>"true"===e.getPluginData("isRow"))),i=figma.root.findAll((e=>"true"===e.getPluginData("isCell"))),a=figma.root.findAll((e=>"true"===e.getPluginData("isHeaderCell"))),o=0;o<t.length;o++){(r=t[o]).setPluginData("isTable",""),setPluginData_1(r,"template",e),setPluginData_1(r,"elementSemantics",{is:"table"})}for(o=0;o<n.length;o++){(r=n[o]).setPluginData("isRow",""),setPluginData_1(r,"elementSemantics",{is:"tr"})}for(o=0;o<i.length;o++){(r=i[o]).setPluginData("isCell",""),setPluginData_1(r,"elementSemantics",{is:"td"})}for(o=0;o<a.length;o++){var r;(r=a[o]).setPluginData("isCellHeader",""),setPluginData_1(r,"elementSemantics",{is:"th"})}}async function upgradeOldComponentsToTemplate(){if(getComponentById(figma.root.getPluginData("cellComponentID"))){const e=function(){let e=getComponentById(figma.root.getPluginData("cellComponentID"));setPluginData_1(e,"elementSemantics",{is:"td"});let t=getComponentById(figma.root.getPluginData("cellHeaderComponentID"));t&&setPluginData_1(t,"elementSemantics",{is:"th"});let n=getComponentById(figma.root.getPluginData("rowComponentID"))||figma.createComponent();setPluginData_1(n,"elementSemantics",{is:"tr"}),removeChildren(n),n.name=getComponentById(figma.root.getPluginData("rowComponentID")).name||"_Row",n.layoutMode="HORIZONTAL",n.primaryAxisSizingMode="AUTO",n.counterAxisSizingMode="AUTO",n.clipsContent=!0;let i=e.createInstance(),a=e.createInstance();n.appendChild(i),n.appendChild(a);let o,r=getComponentById(figma.root.getPluginData("tableComponentID"));r?o=r:(o=figma.createComponent(),getComponentById(figma.root.getPluginData("rowComponentID"))?(o.y=n.y+n.height+120,o.x=n.x):(o.y=e.parent.y+e.height+120,o.x=e.x)),setPluginData_1(o,"elementSemantics",{is:"table"}),removeChildren(o),o.name=getComponentById(figma.root.getPluginData("tableComponentID")).name||"Table 1",o.layoutMode="VERTICAL",o.primaryAxisSizingMode="AUTO",o.counterAxisSizingMode="AUTO";let l=n.createInstance(),s=n.createInstance(),d=n.createInstance();return l.layoutAlign="STRETCH",s.layoutAlign="STRETCH",d.layoutAlign="STRETCH",l.primaryAxisSizingMode="FIXED",s.primaryAxisSizingMode="FIXED",d.primaryAxisSizingMode="FIXED",o.appendChild(l),o.appendChild(s),o.appendChild(d),t&&(l.children[0].swapComponent(t),l.children[1].swapComponent(t)),getComponentById(figma.root.getPluginData("rowComponentID"))||n.remove(),o}();figma.currentPage=getPageNode_1(e);let t=new Template(e);setPluginData_1(e,"template",t),e.setRelaunchData(defaultRelaunchData),setDefaultTemplate(t);let n=await createTooltip("Your table components have been converted into a template. A template is a single component used by Table Creator to create tables from.",figma.currentPage.backgrounds[0].color);n.x=e.x+e.width+80,n.y=e.y-10,getPageNode_1(e).appendChild(n),figma.currentPage.selection=[e,n],figma.viewport.scrollAndZoomIntoView([e,n]),["cellComponentID","cellHeaderComponentID","rowComponentID","tableComponentID"].forEach((e=>{figma.root.setPluginData(e,"")})),figma.root.findOne((e=>{"Customise the following components to create bespoke tables. Or to link using your own components go to Plugins > Table Creator > Settings. You can move and rename the components as you wish. The only component which must exist for the plugin to work is the Cell component."===e.characters&&e.remove()})),figma.root.findOne((e=>{"The Cell component is the only component required for Table Creator to create tables from. You can cutomise this component, or link the plugin to a different Cell component by running Plugins > Table Creator > Settings."===e.characters&&e.remove()})),figma.root.findOne((e=>{"Only layer styles such as: background, color, border radius etc will be used for rows when creating tables."===e.characters&&e.remove()})),figma.root.findOne((e=>{"Only layer styles such as: background, color, border radius etc will be used to create tables. You don't have to create tables using the plugin. You can also create tables by creating an instance of this component and detaching them and their rows. If you change the styles used on the table or row components you can update existing tables by going to Plugins > Table Creator > Settings and select Refresh Tables"===e.characters&&e.remove()})),upgradeOldTablesToNewTables(t)}}function daysToMilliseconds(e){return 24*e*60*60*1e3}function addUniqueToArray(e,t){return-1===t.findIndex((t=>t.id===e.id))&&t.push(e),t}function addTemplateToRemoteFiles(e){updatePluginData_1(figma.root,"remoteFiles",(t=>{t=t||[],addUniqueToArray(new File,t);for(var n=0;n<t.length;n++){var i=t[n];i.id===getPluginData_1(figma.currentPage.selection[0],"template").file.id&&(i.templates=addUniqueToArray(new Template(e),i.templates))}return t})),figma.notify(`Imported ${e.name}`)}function addElement(e){let t=figma.currentPage.selection[0];"INSTANCE"===t.type?setPluginData_1(t.mainComponent,"elementSemantics",{is:e}):setPluginData_1(t,"elementSemantics",{is:e})}function removeElement(e,t){let n=figma.getNodeById(e),i="COMPONENT"===n.type?n:getParentComponent(n);i.findAll((e=>{var n;(null===(n=getPluginData_1(e,"elementSemantics"))||void 0===n?void 0:n.is)===t&&("INSTANCE"===e.type?setPluginData_1(e.mainComponent,"elementSemantics",""):setPluginData_1(e,"elementSemantics",""))})),"table"===t&&setPluginData_1(i,"elementSemantics","")}function importTemplate(e){var t,n=getPluginData_1(e,"template"),i=n,a=(null===(t=null==n?void 0:n.file)||void 0===t?void 0:t.id)===getDocumentData_1("fileId");i?("COMPONENT"===e.type?a?figma.notify("Template already imported"):(addTemplateToRemoteFiles(e),figma.notify("Imported remote template")):(e=convertToComponent_1(e),figma.notify("Imported template")),setDocumentData_1("defaultTemplate",getPluginData_1(e,"template"))):figma.notify("No template found")}function getDefaultTemplate(){var e,t=getDocumentData_1("usingRemoteTemplate"),n=getDocumentData_1("defaultTemplate");return t||getComponentById(null===(e=null==n?void 0:n.component)||void 0===e?void 0:e.id)?n:void 0}function getTemplateParts(e){let t=["tr","td","th","table"],n={};for(let i=0;i<t.length;i++){let a=t[i],o=e.findOne((e=>{let t=getPluginData_1(e,"elementSemantics");if((null==t?void 0:t.is)===a)return!0}));n[a]=o}return n.table||"table"===getPluginData_1(e,"elementSemantics").is&&(n.table=e),n}function postCurrentSelection(e){let t;function n(){var n;let i=figma.currentPage.selection[0];if(1!==figma.currentPage.selection.length||!function(t){let n="COMPONENT"===t.type?t:getParentComponent(t);if((isInsideComponent(t)||"COMPONENT"===t.type)&&n&&getPluginData_1(n,"template")&&n.id===e)return!0}(figma.currentPage.selection[0])||"COMPONENT"!==i.type&&"FRAME"!==i.type&&"INSTANCE"!==i.type)figma.ui.postMessage({type:"current-selection",selection:void 0});else{let e=null===(n=getPluginData_1(figma.currentPage.selection[0],"elementSemantics"))||void 0===n?void 0:n.is;t={element:e,name:getSelectionName(figma.currentPage.selection[0]),longName:"table"===e?"Table":"tr"===e?"Row":"td"===e?"Cell":"th"===e?"Header Cell":void 0},figma.ui.postMessage({type:"current-selection",selection:t})}}n(),figma.on("selectionchange",(()=>{n()}))}function selectTableCells(e){var t,n=RegExp(/\[ignore\]/,"g"),i=figma.currentPage.selection,a=[];for(let c=0;c<i.length;c++){var o=null===(t=i[c].parent)||void 0===t?void 0:t.parent,r=null==o?void 0:o.children,l=r.findIndex((e=>e.id===i[c].parent.id)),s=r[l].children.findIndex((e=>e.id===i[c].id));for(let t=0;t<r.length;t++)if("parallel"===e&&r[t].children&&r[t].children[s]&&!n.test(r[t].children[s].parent.name)&&a.push(clone(r[t].children[s])),"adjacent"===e){var d=r[l];for(let e=0;e<d.children.length;e++)d.children&&d.children[e]&&!n.test(d.children[e].parent.name)&&a.push(clone(d.children[e]))}}figma.currentPage.selection=a}function detachTable(e){let t=[];for(let n=0;n<e.length;n++){let i=e[n];"INSTANCE"===i.type&&(i=i.detachInstance(),t.push(i)),"COMPONENT"!==i.type&&(i.findAll((e=>{var t;if("tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&("INSTANCE"===e.type&&e.detachInstance(),"COMPONENT"===e.type)){let t=e.layoutAlign;(e=replace_1(e,convertToFrame_1)).layoutAlign=t}})),t.push(i)),i.findAll((e=>{var t;"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&(e.name=e.name.replace(/^./,""))}))}return figma.currentPage.selection=t,t}function spawnTable(){}async function toggleColumnResizing(e){var t,n,i;let a=!1;for(let r=0;r<e.length;r++){var o=e[r];if("COMPONENT"!==o.type){let r=getTableSettings(o);if(r.columnResizing)detachTable(e),a="removed";else{a="added",r.columnResizing=!r.columnResizing;let e=await createTable(o,r),l=o.children.length;for(let a=0;a<l;a++){let r=o.children[a];if("tr"===(null===(t=getPluginData_1(r,"elementSemantics"))||void 0===t?void 0:t.is)){let t=r.children.length;for(let o=0;o<t;o++){let t=r.children[o];if("td"===(null===(n=getPluginData_1(t,"elementSemantics"))||void 0===n?void 0:n.is)||"th"===(null===(i=getPluginData_1(t,"elementSemantics"))||void 0===i?void 0:i.is)){let n=e.children[a].children[o],i=t;n.swapComponent(i.mainComponent),await swapInstance(i,n),resize_1(n,i.width,i.height),n.layoutAlign=i.layoutAlign}}}}figma.currentPage.selection=[e],o.remove()}}}return a}function switchColumnsOrRows(e){let t;function n(e){var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}for(let o=0;o<e.length;o++){var i=e[o];if(getPluginData_1(i,"template")){if("COMPONENT"!==i.type){let e=i.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}));"INSTANCE"!==i.type&&"INSTANCE"!==e.type&&"COMPONENT"!==e.type||(i=detachTable(figma.currentPage.selection)[0],e=i.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)})));let o=getTableSettings(i);function a(){var t,a=e.parent.children.length,r=e.parent,l=nodeToObject_1(r);if("rows"===o.usingColumnsOrRows&&(r.layoutMode="HORIZONTAL"),"COMPONENT"!==e.type){function s(e,t){for(var i=e.parent,a=-1,o=-1;a<t;){a++,o++;var r=i.children[o];r&&!n(r)&&a--}return o}for(let t=0;t<e.parent.children.length;t++){if(n(m=r.children[t])){m.width,m.height;var d=m.children;if("columns"===o.usingColumnsOrRows&&(m.name=m.name.replace("Col","Row"),m.layoutMode="HORIZONTAL",m.layoutGrow=0,m.counterAxisSizingMode="AUTO"),t<a)for(let n=0;n<o.columnCount;n++){(f=d[n]).width;var c=s(m,n);if(f){if(f.primaryAxisSizingMode="AUTO",m.id===e.id&&!m.parent.children[c]){var g=m.clone();removeChildren_1(g),i.appendChild(g)}m.parent.children[c]&&("rows"===o.usingColumnsOrRows?(m.parent.children[c].appendChild(f),m.parent.children[c].resize(l.children[t].children[n].width,m.height),m.parent.children[c].layoutGrow=l.children[t].children[n].layoutGrow,m.parent.children[c].layoutAlign="STRETCH"):(m.parent.children[c].appendChild(f),f.resize(m.width,f.height),1===l.children[t].layoutGrow?f.layoutGrow=1:f.layoutGrow=0))}}}else m.resize(l.children[t].height,l.children[t].width);"rows"===o.usingColumnsOrRows&&n(m)&&(m.name=m.name.replace("Row","Col"),m.layoutMode="VERTICAL")}"columns"===o.usingColumnsOrRows&&(r.layoutMode="VERTICAL"),swapAxises(r),resize_1(r,l.width,l.height),r.primaryAxisSizingMode="AUTO";var u=r.children.length;let h=[];for(let i=0;i<u;i++){var m=r.children[i];if((null===(t=l.children[i])||void 0===t?void 0:t.layoutAlign)&&(m.layoutAlign=l.children[i].layoutAlign),n(m)){if("columns"===o.usingColumnsOrRows){m.counterAxisSizingMode="AUTO",m.layoutAlign="STRETCH";d=m.children;var p="columns"===o.usingColumnsOrRows?e.parent.children.length:e.children.length;for(let t=0;t<p;t++){(f=d[t])&&m.parent.children[getNodeIndex_1(e)+t]&&(f.primaryAxisSizingMode="FIXED",f.layoutAlign="STRETCH")}}else{d=m.children,p="rows"===o.usingColumnsOrRows?e.parent.children.length:e.children.length;for(let t=0;t<p;t++){var f;(f=d[t])&&m.parent.children[getNodeIndex_1(e)+t]&&("HUG"===o.tableHeight?(f.layoutGrow=0,f.primaryAxisSizingMode="AUTO"):(f.layoutGrow=1,f.primaryAxisSizingMode="FIXED"))}m.layoutAlign="STRETCH"}0===m.children.length&&h.push(m)}}for(let e=0;e<h.length;e++)h[e].remove()}}t=o.usingColumnsOrRows,a()}}else figma.closePlugin("Please select a table")}return{vectorType:t}}function selectTableVector(e){var t,n;figma.currentPage.selection.length>0?((null===(t=figma.currentPage.selection[0].parent)||void 0===t?void 0:t.parent.layoutMode)===("column"===e?"VERTICAL":"HORIZONTAL")&&selectTableCells("parallel"),(null===(n=figma.currentPage.selection[0].parent)||void 0===n?void 0:n.parent.layoutMode)===("column"===e?"HORIZONTAL":"VERTICAL")&&selectTableCells("adjacent")):figma.notify("One or more table cells must be selected")}async function createTableUI(){figma.root.setRelaunchData({createTable:""});const e=getLocalTemplates();var t=await getRecentFilesAsync_1(e,{expire:daysToMilliseconds(7)}),n=await getRemoteFilesAsync_1();let i=await getClientStorageAsync_1("pluginVersion"),a=await getClientStorageAsync_1("userPreferences"),o=await getDocumentData_1("usingRemoteTemplate"),r=!!getComponentById(figma.root.getPluginData("cellComponentID"));const l=getDocumentData_1("fileId");let s=getDefaultTemplate();if(s)if(s.file.id===l){getComponentById(s.id)||(e.length>0?(s=e[0],console.log("local",s),setDocumentData_1("defaultTemplate",s)):n.length>0&&(s=n[0].data[0],setDocumentData_1("defaultTemplate",s)))}else{await lookForComponent(s)||(n.length>0?(s=n[0].data[0],setDocumentData_1("defaultTemplate",s)):e.length>0&&(s=e[0],setDocumentData_1("defaultTemplate",s)))}else e.length>0?(s=e[0],setDocumentData_1("defaultTemplate",s)):n.length>0&&(s=n[0].data[0],setDocumentData_1("defaultTemplate",s));console.log({defaultTemplate:s}),figma.showUI(__uiFiles__.main,{width:240,height:490,themeColors:!0}),figma.ui.postMessage(Object.assign(Object.assign({type:"show-create-table-ui"},a),{remoteFiles:n,recentFiles:t,localTemplates:e,defaultTemplate:s,fileId:l,usingRemoteTemplate:o,pluginVersion:i,pluginUsingOldComponents:r})),updatePluginVersion("7.0.0")}async function main(){await updateClientStorageAsync_1("userPreferences",(e=>e=Object.assign({columnCount:4,rowCount:4,cellWidth:120,remember:!0,includeHeader:!0,columnResizing:!0,cellAlignment:"MIN",tableWidth:"HUG",tableHeight:"HUG",prevCellWidth:120},e||{}))),dist((e=>{async function t(e){let{newPage:t,tooltips:n,subComponents:i}=e;t&&createPage("Table Creator");let a=[],o=await createTemplateComponents(),{templateComponent:r,rowComponent:l,cellComponentSet:s}=o,d=new Template(r),c=getLocalTemplates();if(c=c.filter((e=>e.name.startsWith("Table"))),r.name=incrementName_1(r.name,c),d.name=r.name,setPluginData_1(r,"template",d),r.setRelaunchData(defaultRelaunchData),setDefaultTemplate(d),!1!==n){let e=await createTooltip("This component is a template used by Table Creator to create tables from. You can customise the appearance of your tables by customising this template. It’s made up of the components below.");e.x=r.x+r.width+80,e.y=r.y-10;let t=await createTooltip("Customise rows by changing this component.");t.x=l.x+l.width+80,t.y=l.y-10;let n=await createTooltip("Customise cell borders by changing these components. Create variants for different types of cells, icons, dropdowns, ratings etc.");n.x=s.x+s.width+80-16,n.y=s.y-10+16,a.push(e,t,n)}!1===i?(l.remove(),s.remove()):a.push(l,s),a.push(r);let g=figma.group(a,figma.currentPage);return positionInCenterOfViewport(g),ungroup_1(g,figma.currentPage),figma.currentPage.selection=a,figma.notify("Template created"),r}e.ui={html:__uiFiles__.main,width:240,height:504},e.command("createTable",(async({ui:e})=>{createTableUI()})),e.command("detachTable",(()=>{detachTable(figma.currentPage.selection).length>0?figma.closePlugin("Table and rows detached"):figma.closePlugin("Can't detach template")})),e.command("spawnTable",spawnTable),e.command("toggleColumnResizing",(()=>{toggleColumnResizing(figma.currentPage.selection).then((e=>{e?figma.closePlugin(`Column resizing ${e}`):figma.closePlugin("Can't apply to templates")}))})),e.command("switchColumnsOrRows",(()=>{let{vectorType:e}=switchColumnsOrRows(figma.currentPage.selection);e?figma.closePlugin("Switched to "+("rows"===e?"columns":"rows")):0===figma.currentPage.selection.length?figma.closePlugin("Please select a table"):figma.closePlugin("Can't apply to templates")})),e.command("selectColumn",(()=>{selectTableVector("column"),figma.closePlugin()})),e.command("selectRow",(()=>{selectTableVector("row"),figma.closePlugin()})),e.command("newTemplate",t),e.command("importTemplate",importTemplate),e.on("new-template",(async e=>{let n=await t(e.options);setDefaultTemplate(getPluginData_1(n,"template"))})),e.on("remove-template",(e=>{let t=getDefaultTemplate();if(getDocumentData_1("previousTemplate"),e.file){let t=getDocumentData_1("remoteFiles"),n=t.findIndex((t=>t.id===e.file.id)),i=t[n],a=i.data.findIndex((t=>t.id===e.template.id));i.data.splice(a,1),0===i.data.length&&t.splice(n,1),setDocumentData_1("remoteFiles",t),figma.ui.postMessage({type:"remote-files",remoteFiles:t})}else{getComponentById(e.template.id).remove();let t=getLocalTemplates();figma.ui.postMessage({type:"local-templates",localTemplates:t})}if(t.id===e.template.id){let e=getLocalTemplates();setDefaultTemplate(e[e.length-1])}})),e.on("edit-template",(e=>{!async function(e){lookForComponent(e.template).then((e=>{var t,n,i,a;animateNodeIntoView([e]),figma.currentPage.selection=[e];let o=getTemplateParts(e),r={table:{name:getSelectionName(null==o?void 0:o.table),element:"table",id:null===(t=null==o?void 0:o.table)||void 0===t?void 0:t.id,longName:"Table"},tr:{name:getSelectionName(null==o?void 0:o.tr),element:"tr",id:null===(n=null==o?void 0:o.tr)||void 0===n?void 0:n.id,longName:"Row"},td:{name:getSelectionName(null==o?void 0:o.td),element:"td",id:null===(i=null==o?void 0:o.td)||void 0===i?void 0:i.id,longName:"Cell"},th:{name:getSelectionName(null==o?void 0:o.th),element:"th",id:null===(a=null==o?void 0:o.th)||void 0===a?void 0:a.id,longName:"Cell Header"}};postCurrentSelection(e.id),figma.ui.postMessage({type:"template-parts",parts:r})}))}(e)})),e.on("set-default-template",(e=>{setDefaultTemplate(e.template)})),e.on("add-remote-file",(async e=>{const t=await getRemoteFilesAsync_1(e.file.id);figma.ui.postMessage({type:"remote-files",remoteFiles:t})})),e.on("remove-remote-file",(async e=>{removeRemoteFile_1(e.file.id);const t=await getRemoteFilesAsync_1(),n=getLocalTemplates();t.length>0?setDefaultTemplate(t[0].data[0]):n.length>0?setDefaultTemplate(n[0]):(setDefaultTemplate(null),figma.ui.postMessage({type:"post-default-template",defaultTemplate:null})),figma.ui.postMessage({type:"remote-files",remoteFiles:t})})),e.on("remove-element",(e=>{removeElement(e.id,e.element)})),e.on("add-element",(e=>{addElement(e.element)})),e.on("create-table-instance",(async e=>{await getRemoteFilesAsync_1();const t=await lookForComponent(getDocumentData_1("defaultTemplate"));if(t){("string"==typeof e.data.tableWidth||e.data.tableWidth instanceof String)&&(e.data.tableWidth=e.data.tableWidth.toUpperCase(),e.data.tableWidth=convertToNumber(e.data.tableWidth)),("string"==typeof e.data.tableHeight||e.data.tableHeight instanceof String)&&(e.data.tableHeight=e.data.tableHeight.toUpperCase(),e.data.tableHeight=convertToNumber(e.data.tableHeight)),("string"==typeof e.data.cellWidth||e.data.cellWidth instanceof String)&&(e.data.cellWidth=e.data.cellWidth.toUpperCase(),e.data.cellWidth=convertToNumber(e.data.cellWidth)),("string"==typeof e.data.cellHeight||e.data.cellHeight instanceof String)&&(e.data.cellHeight=e.data.tableHeight.toUpperCase(),e.data.cellHeight=convertToNumber(e.data.cellHeight));let n=createTable(t,e.data);n&&(positionInCenterOfViewport(n),figma.currentPage.selection=[n],updateClientStorageAsync_1("userPreferences",(t=>Object.assign(t,e.data))).then((()=>{figma.closePlugin("Table created")})))}})),e.command("updateTables",(()=>{updateTables(getPluginData_1(figma.currentPage.selection[0],"template")).then((()=>{figma.notify("Tables updated",{timeout:1500}),figma.closePlugin()}))})),e.on("update-tables",(e=>{updateTables(e.template).then((()=>{figma.notify("Tables updated",{timeout:1500})}))})),e.on("save-user-preferences",(()=>{})),e.on("fetch-template-part",(()=>{})),e.on("fetch-current-selection",(e=>{e.template&&lookForComponent(e.template).then((e=>{postCurrentSelection(e.id)}))})),e.on("fetch-template-parts",(e=>{lookForComponent(e.template).then((e=>{var t,n,i,a;let o=getTemplateParts(e),r={table:{name:getSelectionName(null==o?void 0:o.table),element:"table",id:null===(t=null==o?void 0:o.table)||void 0===t?void 0:t.id},tr:{name:getSelectionName(null==o?void 0:o.tr),element:"tr",id:null===(n=null==o?void 0:o.tr)||void 0===n?void 0:n.id},td:{name:getSelectionName(null==o?void 0:o.td),element:"td",id:null===(i=null==o?void 0:o.td)||void 0===i?void 0:i.id},th:{name:getSelectionName(null==o?void 0:o.th),element:"th",id:null===(a=null==o?void 0:o.th)||void 0===a?void 0:a.id}};figma.ui.postMessage({type:"template-parts",parts:r})}))})),e.on("upgrade-to-template",(()=>{upgradeOldComponentsToTemplate(),figma.notify("Template created"),createTableUI(),figma.ui.postMessage({type:"post-default-template",defaultTemplate:getDefaultTemplate(),localTemplates:getLocalTemplates()})})),e.on("using-remote-template",(async e=>{const t=await getRemoteFilesAsync_1();setDocumentData_1("usingRemoteTemplate",e.usingRemoteTemplate),figma.ui.postMessage({type:"remote-files",remoteFiles:t})}))}))}console.clear(),main();
