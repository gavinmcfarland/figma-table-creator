"use strict";var name="svelte-app",version="1.0.2",scripts={build:"rollup -c",dev:"rollup -c -w",start:"sirv public"},devDependencies={"@figma/plugin-typings":"^1.37.0","@fignite/helpers":"^0.0.0-alpha.10","@rollup/plugin-commonjs":"^17.0.0","@rollup/plugin-image":"^2.0.6","@rollup/plugin-json":"^4.1.0","@rollup/plugin-node-resolve":"^11.2.1","@rollup/plugin-replace":"^2.4.2","@rollup/plugin-strip":"^2.1.0",cssnano:"^4.1.10","figma-plugin-ds-svelte":"^1.0.7","flex-gap-polyfill":"^2.2.1",nanoid:"^3.1.22",plugma:"0.0.0-alpha0.7",postcss:"^8.2.4","postcss-nested":"^4.2.3",rollup:"^2.36.2","rollup-plugin-html-bundle":"0.0.3","rollup-plugin-livereload":"^2.0.0","rollup-plugin-node-polyfills":"^0.2.1","rollup-plugin-postcss":"^4.0.0","rollup-plugin-svelte":"^7.0.0","rollup-plugin-svg":"^2.0.0","rollup-plugin-terser":"^7.0.2","rollup-plugin-typescript":"^1.0.1",svelte:"^3.31.2","svelte-preprocess":"^4.6.9",tslib:"^2.1.0",typescript:"^4.1.3"},dependencies={autoprefixer:"^10.2.1","common-tags":"^1.8.0","fs-extra":"^9.1.0","postcss-logical":"^4.0.2","sirv-cli":"^1.0.10",stylup:"0.0.0-alpha.3",tweeno:"^1.1.3",uniqid:"^5.3.0",uuid:"^8.3.2"},require$$0={name:name,version:version,scripts:scripts,devDependencies:devDependencies,dependencies:dependencies},pkg;function plugma(e){var t={updateAvailable:!1,ui:{}};(null==pkg?void 0:pkg.version)&&(t.version=pkg.version);var i=[],n=[];t.on=(e,t)=>{i.push({type:e,callback:t})},t.command=(e,t)=>{n.push({type:e,callback:t})};var a=!1;t.setStartPage=e=>{t.ui.page=e,a=!0};var o=e(t);if(Object.assign({},t,{commands:o}),o)for(let[e,i]of Object.entries(o))figma.command===e&&(a||(t.ui.page=e),i(t),t.ui.open&&figma.showUI(t.ui.html));figma.ui.onmessage=e=>{for(let t of i)e.type===t.type&&t.callback(e)},t.ui.show=e=>{figma.showUI(t.ui.html,{width:t.ui.width,height:t.ui.height}),figma.ui.postMessage(e)};for(let e of n)figma.command===e.type&&e.callback(t)}pkg=require$$0;var dist=plugma;async function getClientStorageAsync(e){return await figma.clientStorage.getAsync(e)}async function updateClientStorageAsync$1(e,t){var i=await figma.clientStorage.getAsync(e);if(i=t(i))return figma.clientStorage.setAsync(e,i),i;i=null}const eventListeners=[];figma.ui.onmessage=e=>{for(let t of eventListeners)e.action===t.action&&t.callback(e.data)};const nodeProps=["id","parent","name","removed","visible","locked","children","constraints","absoluteTransform","relativeTransform","x","y","rotation","width","height","constrainProportions","layoutAlign","layoutGrow","opacity","blendMode","isMask","effects","effectStyleId","expanded","backgrounds","backgroundStyleId","fills","strokes","strokeWeight","strokeMiterLimit","strokeAlign","strokeCap","strokeJoin","dashPattern","fillStyleId","strokeStyleId","cornerRadius","cornerSmoothing","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","exportSettings","overflowDirection","numberOfFixedChildren","overlayPositionType","overlayBackground","overlayBackgroundInteraction","reactions","description","remote","key","layoutMode","primaryAxisSizingMode","counterAxisSizingMode","primaryAxisAlignItems","counterAxisAlignItems","paddingLeft","paddingRight","paddingTop","paddingBottom","itemSpacing","layoutGrids","gridStyleId","clipsContent","guides","type","strokeTopWeight","strokeBottomWeight","strokeRightWeight","strokeLeftWeight"],readOnly=["id","parent","removed","children","absoluteTransform","width","height","overlayPositionType","overlayBackground","overlayBackgroundInteraction","reactions","remote","key","type","masterComponent","mainComponent"];function copyPaste(e,t,...i){var n,a;t&&0===Object.keys(t).length&&t.constructor===Object&&(n=!0),i[0],i[1],"object"==typeof i[0]&&"function"!=typeof i[0]&&(a=i[0]),"object"==typeof i[0]&&"function"!=typeof i[0]&&(a=i[0]),a||(a={});const{include:o,exclude:r,withoutRelations:l,removeConflicts:s}=a;let d=nodeProps.filter((function(e){return!readOnly.includes(e)}));o&&(d=o.filter((function(e){return!readOnly.includes(e)}))),r&&(d=d.filter((function(e){return!r.concat(readOnly).includes(e)}))),t&&!n&&(d=d.filter((function(e){return!["id","type"].includes(e)})));var c={};n&&(void 0===c.id&&(c.id=e.id),void 0===c.type&&(c.type=e.type),e.key&&(c.key=e.key));const g=Object.entries(Object.getOwnPropertyDescriptors(e.__proto__));for(const[t,i]of g)if(d.includes(t))try{"symbol"==typeof c[t]?c[t]="Mixed":c[t]=i.get.call(e)}catch(e){c[t]=void 0}return s||(!c.fillStyleId&&c.fills?delete c.fillStyleId:delete c.fills,!c.strokeStyleId&&c.strokes?delete c.strokeStyleId:delete c.strokes,!c.backgroundStyleId&&c.backgrounds?delete c.backgroundStyleId:delete c.backgrounds,!c.effectStyleId&&c.effects?delete c.effectStyleId:delete c.effects,!c.gridStyleId&&c.layoutGrids?delete c.gridStyleId:delete c.layoutGrids,c.textStyleId?(delete c.fontName,delete c.fontSize,delete c.letterSpacing,delete c.lineHeight,delete c.paragraphIndent,delete c.paragraphSpacing,delete c.textCase,delete c.textDecoration):delete c.textStyleId,c.cornerRadius!==figma.mixed?(delete c.topLeftRadius,delete c.topRightRadius,delete c.bottomLeftRadius,delete c.bottomRightRadius):delete c.cornerRadius),n&&e.parent&&!l&&(c.parent={id:e.parent.id,type:e.parent.type}),n&&("FRAME"!==e.type&&"COMPONENT"!==e.type&&"COMPONENT_SET"!==e.type&&"PAGE"!==e.type&&"GROUP"!==e.type&&"INSTANCE"!==e.type&&"DOCUMENT"!==e.type&&"BOOLEAN_OPERATION"!==e.type||e.children&&!l&&(c.children=e.children.map((e=>copyPaste(e,{},{withoutRelations:l})))),"INSTANCE"===e.type&&e.mainComponent&&!l&&(c.masterComponent=copyPaste(e.mainComponent,{},{withoutRelations:l}))),Object.assign(t,c),c}function convertToFrame(e){if("INSTANCE"===e.type)return e.detachInstance();if("COMPONENT"===e.type){let t=e.parent,i=e.createInstance().detachInstance();return t.appendChild(i),copyPaste(e,i,{include:["x","y"]}),figma.currentPage.appendChild(i),e.remove(),i}if("RECTANGLE"===e.type||"GROUP"===e.type){let t=figma.createFrame();return t.resizeWithoutConstraints(e.width,e.height),copyPaste(e,t),e.remove(),t}return"FRAME"===e.type?e:void 0}function moveChildren(e,t){let i=e.children,n=i.length;for(let e=0;e<n;e++){let n=i[e];t.appendChild(n)}return t}function convertToComponent(e){const t=figma.createComponent();return e=convertToFrame(e),t.resizeWithoutConstraints(e.width,e.height),copyPaste(e,t),moveChildren(e,t),e.remove(),t}function getPluginData(node,key,opts){var data;if(data=node.getPluginData(key),data=data?"string"==typeof data&&data.startsWith(">>>")?data:JSON.parse(data):void 0,"string"==typeof data&&data.startsWith(">>>")){data=data.slice(3);var string="(() => {\n            return "+data+"\n            })()";data=eval(string)}return data}function setPluginData(e,t,i){return"string"==typeof i&&i.startsWith(">>>")?(e.setPluginData(t,i),i):(e.setPluginData(t,JSON.stringify(i)),JSON.stringify(i))}function updatePluginData(e,t,i){var n;return(n=i(n=e.getPluginData(t)?JSON.parse(e.getPluginData(t)):null))||(n=null),e.setPluginData(t,JSON.stringify(n)),n}function removeChildren$1(e){for(let t=e.children.length-1;t>=0;t--)e.children[t].remove()}function resize(e,t,i){0===t&&(t=1/Number.MAX_SAFE_INTEGER),0===i&&(i=1/Number.MAX_SAFE_INTEGER);let n=e.parent;if(e.resize(t<.01?1:t,i<.01?1:i),t<.01||i<.01){let a=figma.createRectangle();a.resize(t<.01?1/t:t,i<.01?1/i:i);let o=figma.group([e,a],figma.currentPage);o.resize(t<.01?1:t,i<.01?1:i),n.appendChild(e),o.remove()}return e}function ungroup(e,t){let i=[],n=e.children;for(let e=0;e<n.length;e++)t.appendChild(n[e]),i.push(n[e]);return"GROUP"!==e.type&&e.remove(),i}function getNodeIndex(e){return e.parent.children.indexOf(e)}const nodeToObject=(e,t,i)=>{const n=Object.entries(Object.getOwnPropertyDescriptors(e.__proto__)),a=["parent","children","removed","masterComponent","horizontalPadding","verticalPadding"],o={id:e.id,type:e.type};for(const[t,i]of n)if(i.get&&!a.includes(t))try{"symbol"==typeof o[t]?o[t]="Mixed":o[t]=i.get.call(e)}catch(e){o[t]=void 0}return e.parent&&!t&&(o.parent={id:e.parent.id,type:e.parent.type}),e.children&&!t&&(o.children=e.children.map((e=>nodeToObject(e,t)))),e.masterComponent&&!t&&(o.masterComponent=nodeToObject(e.masterComponent,t)),i||(!o.fillStyleId&&o.fills?delete o.fillStyleId:delete o.fills,!o.strokeStyleId&&o.strokes?delete o.strokeStyleId:delete o.strokes,!o.backgroundStyleId&&o.backgrounds?delete o.backgroundStyleId:delete o.backgrounds,!o.effectStyleId&&o.effects?delete o.effectStyleId:delete o.effects,!o.gridStyleId&&o.layoutGrids?delete o.gridStyleId:delete o.layoutGrids,o.textStyleId?(delete o.fontName,delete o.fontSize,delete o.letterSpacing,delete o.lineHeight,delete o.paragraphIndent,delete o.paragraphSpacing,delete o.textCase,delete o.textDecoration):delete o.textStyleId,o.cornerRadius!==figma.mixed?(delete o.topLeftRadius,delete o.topRightRadius,delete o.bottomLeftRadius,delete o.bottomRightRadius):delete o.cornerRadius),o};function getPageNode(e){return"PAGE"===e.parent.type?e.parent:getPageNode(e.parent)}function isFunction(e){return e&&"[object Function]"==={}.toString.call(e)}function replace(e,t){let i,n,a,o=!1,r=[];if(Array.isArray(e)){n=getNodeIndex(e[0]),a=e[0].parent;for(let t=0;t<e.length;t++){let i=e[t].clone();r.push(i)}i=figma.group(r,a,n),i.x=e[0].x,i.y=e[0].y,o=!0,n=getNodeIndex(i),a=i.parent}else i=nodeToObject(e),n=getNodeIndex(e),a=e.parent;let l,s=i.width,d=i.height;if(l=isFunction(t)?t(e):t,l)return l.resizeWithoutConstraints(s,d),copyPaste(i,l,{include:["x","y","constraints"]}),l.x=i.x,l.y=i.y,console.log(a),a.insertChild(n,l),o&&i.remove(),figma.getNodeById(e.id)&&e.remove(),l}function setDocumentData(e,t){return setPluginData(figma.root,e,t)}function getDocumentData(e){return getPluginData(figma.root,e)}function genUID(){return""+(figma.currentUser.id+"-"+figma.currentUser.sessionId+"-"+(new Date).valueOf())}function addUniqueToArray$1(e,t){return-1===e.findIndex((e=>e.id===t.id))&&e.push(t),e}function isUnique(e,t){return-1===e.findIndex((e=>e.id===t.id))}function File$1(e){this.id=getDocumentData("fileId")||setDocumentData("fileId",genUID()).replace(/['"]+/g,""),this.name=figma.root.name,this.firstVisited=(new Date).toISOString(),this.lastVisited=(new Date).toISOString(),e?(this.data=e,setDocumentData("fileData",e)):this.data=getDocumentData("fileData")}async function getRecentFilesAsync(e,t){t=t||{},e=e||getDocumentData("fileData");let i=await updateClientStorageAsync$1("recentFiles",(i=>{i=i||[];const n=new File$1(e);if(0===i.length)e.length>0&&i.push(n);else{if(!isUnique(i,n)){let[e,t,i]=n.id.split("-");e===figma.currentUser.id&&t!==figma.currentUser.sessionId.toString()&&figma.root.name.endsWith("(Copy)")&&!getDocumentData("duplicateResolved")&&(n.id=setDocumentData("fileId",genUID()).replace(/['"]+/g,""),setDocumentData("duplicateResolved",!0))}figma.root.name.endsWith("(Copy)")||setDocumentData("duplicateResolved",""),addUniqueToArray$1(i,n),i.length>0&&(i.filter(((t,a)=>{t.id===n.id&&(t.name=n.name,t.lastVisited=(new Date).toISOString(),t.data=n.data,setDocumentData("fileData",e),(!e||Array.isArray(e)&&0===e.length)&&i.splice(a,1))})),i.sort(((e,t)=>e.lastVisited===t.lastVisited?0:e.lastVisited>t.lastVisited?-1:1)),t.expire&&i.map((e=>{if(new Date(e.lastVisited).valueOf()<(new Date).valueOf()-t.expire){let t=i.indexOf(e);-1!==t&&i.splice(t,1)}})))}return i}));return i.length>0&&(i=i.filter((e=>!(e.id===getPluginData(figma.root,"fileId"))))),i}async function getRemoteFilesAsync(e){var t=await getClientStorageAsync("recentFiles");return updatePluginData(figma.root,"remoteFiles",(i=>{if(i=i||[],e){let n=i.find((t=>t.id===e)),a=t.find((t=>t.id===e));n||i.push(a)}if(t.length>0){for(let e=0;e<i.length;e++){var n=i[e];for(let o=0;o<t.length;o++){var a=t[o];a.id===n.id&&(i[e]=a)}}i=i.filter((e=>!(e.id===getPluginData(figma.root,"fileId"))))}if(i.length>0)for(var o=0;o<i.length;o++){var r=i[o];r.data[0]&&figma.importComponentByKeyAsync(r.data[0].component.key).then((e=>{var t=getPluginData(e,"template");updatePluginData(figma.root,"remoteFiles",(e=>(e.map((e=>{e.id===t.file.id&&(e.name=t.file.name)})),e)))})).catch((e=>{console.log(e)}))}return i}))}function removeRemoteFile(e){return updatePluginData(figma.root,"remoteFiles",(t=>{let i=t.findIndex((t=>t.id===e));return-1!==i&&t.splice(i,1),t}))}function incrementName(e,t){let i=e;t&&t.length>1&&(t.sort(((e,t)=>e.name===t.name?0:e.name>t.name?-1:1)),i=t[0].name);let n=i.match(/^(.*\S)(\s*)(\d+)$/);return!n||t&&0===t.length||(e=`${n[1]}${n[2]}${parseInt(n[3],10)+1}`),e}var convertToComponent_1=convertToComponent,convertToFrame_1=convertToFrame,copyPaste_1=copyPaste,genUID_1=genUID,getClientStorageAsync_1=getClientStorageAsync,getDocumentData_1=getDocumentData,getNodeIndex_1=getNodeIndex,getPageNode_1=getPageNode,getPluginData_1=getPluginData,getRecentFilesAsync_1=getRecentFilesAsync,getRemoteFilesAsync_1=getRemoteFilesAsync,incrementName_1=incrementName,nodeToObject_1=nodeToObject,removeChildren_1=removeChildren$1,removeRemoteFile_1=removeRemoteFile,replace_1=replace,resize_1=resize,setDocumentData_1=setDocumentData,setPluginData_1=setPluginData,ungroup_1=ungroup,updateClientStorageAsync_1=updateClientStorageAsync$1,updatePluginData_1=updatePluginData,Easing={Linear:{None:function(e){return e}},Quadratic:{In:function(e){return e*e},Out:function(e){return e*(2-e)},InOut:function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)}},Cubic:{In:function(e){return e*e*e},Out:function(e){return--e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)}},Quartic:{In:function(e){return e*e*e*e},Out:function(e){return 1- --e*e*e*e},InOut:function(e){return(e*=2)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)}},Quintic:{In:function(e){return e*e*e*e*e},Out:function(e){return--e*e*e*e*e+1},InOut:function(e){return(e*=2)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)}},Sinusoidal:{In:function(e){return 1-Math.cos(e*Math.PI/2)},Out:function(e){return Math.sin(e*Math.PI/2)},InOut:function(e){return.5*(1-Math.cos(Math.PI*e))}},Exponential:{In:function(e){return 0===e?0:Math.pow(1024,e-1)},Out:function(e){return 1===e?1:1-Math.pow(2,-10*e)},InOut:function(e){return 0===e?0:1===e?1:(e*=2)<1?.5*Math.pow(1024,e-1):.5*(2-Math.pow(2,-10*(e-1)))}},Circular:{In:function(e){return 1-Math.sqrt(1-e*e)},Out:function(e){return Math.sqrt(1- --e*e)},InOut:function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)}},Elastic:{In:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/.4))},Out:function(e){var t,i=.1;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/.4)+1)},InOut:function(e){var t,i=.1,n=.4;return 0===e?0:1===e?1:(!i||i<1?(i=1,t=.1):t=n*Math.asin(1/i)/(2*Math.PI),(e*=2)<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)}},Back:{In:function(e){var t=1.70158;return e*e*((t+1)*e-t)},Out:function(e){var t=1.70158;return--e*e*((t+1)*e+t)+1},InOut:function(e){var t=2.5949095;return(e*=2)<1?e*e*((t+1)*e-t)*.5:.5*((e-=2)*e*((t+1)*e+t)+2)}},Bounce:{In:function(e){return 1-Easing.Bounce.Out(1-e)},Out:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},InOut:function(e){return e<.5?.5*Easing.Bounce.In(2*e):.5*Easing.Bounce.Out(2*e-1)+.5}}},easing=Easing,Utils={Linear:function(e,t,i){return(t-e)*i+e},Bernstein:function(e,t){var i=Utils.Factorial;return i(e)/i(t)/i(e-t)},Factorial:(a=[1],function(e){var t,i=1;if(a[e])return a[e];for(t=e;t>1;t--)i*=t;return a[e]=i,a[e]}),CatmullRom:function(e,t,i,n,a){var o=.5*(i-e),r=.5*(n-t),l=a*a;return(2*t-2*i+o+r)*(a*l)+(-3*t+3*i-2*o-r)*l+o*a+t}},a,interpolation={Linear:function(e,t){var i=e.length-1,n=i*t,a=Math.floor(n),o=Utils.Linear;return t<0?o(e[0],e[1],n):t>1?o(e[i],e[i-1],i-n):o(e[a],e[a+1>i?i:a+1],n-a)},Bezier:function(e,t){var i,n=0,a=e.length-1,o=Math.pow,r=Utils.Bernstein;for(i=0;i<=a;i++)n+=o(1-t,a-i)*o(t,i)*e[i]*r(a,i);return n},CatmullRom:function(e,t){var i=e.length-1,n=i*t,a=Math.floor(n),o=Utils.CatmullRom;return e[0]===e[i]?(t<0&&(a=Math.floor(n=i*(1+t))),o(e[(a-1+i)%i],e[a],e[(a+1)%i],e[(a+2)%i],n-a)):t<0?e[0]-(o(e[0],e[0],e[1],e[1],-n)-e[0]):t>1?e[i]-(o(e[i],e[i],e[i-1],e[i-1],n-i)-e[i]):o(e[a?a-1:0],e[a],e[i<a+1?i:a+1],e[i<a+2?i:a+2],n-a)}},Tween=function(e,t){t=t||{},this._object=e,this._valuesStart={},this._valuesStartRepeat={},this._startTime=null,this._onStartCallbackFired=!1,this._onCompleteCallbackFired=!1,this.remove=!1,this._isPlaying=!1,this._reversed=!1,this.filters=t.filters||{},this.duration=t.duration||1e3,this.repeat=t.repeat||0,this.repeatDelay=t.repeatDelay||0,this.delay=t.delay||0,this.from=t.from||!1,this.to=t.to||{},this.yoyo=t.yoyo||!1,this.easing=t.easing||easing.Linear.None,this.interpolation=t.interpolation||interpolation.Linear,this.chained=t.chained||[],this.onStart=t.onStart||!1,this.onUpdate=t.onUpdate||!1,this.onComplete=t.onComplete||!1,this.onRepeat=t.onRepeat||!1,this.onYoYo=t.onYoYo||!1,this.window=!1};Tween.prototype.start=function(e){var t;for(var i in this._isPlaying=!0,this._object)this.from&&void 0!==this.from[i]&&(this._object[i]=this.from[i]);if(this._onStartCallbackFired=!1,this._onCompleteCallbackFired=!1,void 0!==e)this._startTime=e;else{var n=this.window||n;void 0!==n&&void 0!==n.performance&&void 0!==n.performance.now?this._startTime=n.performance.now():this._startTime=Date.now()}for(t in this._startTime+=this.delay,this.to){var a=this.to[t],o=this.filters[t];if(a instanceof Array){if(0===a.length)continue;a=[this._object[t]].concat(a)}o&&o.start(this._object[t],a),this.to[t]=a,this._valuesStart[t]=this._object[t],this._valuesStartRepeat[t]=this._valuesStart[t]||0}return this},Tween.prototype.update=function(e){if(!this._isPlaying)return!0;var t;if(e<this._startTime)return!0;!1===this._onStartCallbackFired&&(this.onStart&&this.onStart(this._object,this,0,0),this._onStartCallbackFired=!0);var i=(e-this._startTime)/this.duration;i=i>1?1:i;var n=this.easing(i);for(t in this.to){var a,o=this._valuesStart[t]||0,r=this.to[t],l=void 0!==this.filters[t]&&this.filters[t];"number"==typeof r?a=o+(r-o)*n:l?a=l.getUpdatedValue(n,this.interpolation):r instanceof Array&&(a=this.interpolation(r,n)),void 0!==a&&(this._object[t]=a)}if(this.onUpdate&&this.onUpdate(this._object,this,n,i),1==i){if(this.repeat>0){for(t in isFinite(this.repeat)&&this.repeat--,this._valuesStartRepeat){if(this.yoyo){var s=this._valuesStartRepeat[t];this._valuesStartRepeat[t]=this.to[t],this.to[t]=s,this._reversed=!this._reversed,this.onYoYo&&this.onYoYo(this._object,this,1,1)}this._valuesStart[t]=this._valuesStartRepeat[t],this.filters[t]&&this.filters[t].start(this._valuesStart[t],this.to[t])}return this._startTime=e+this.repeatDelay,this.onRepeat&&this.onRepeat(this._object,this,1,1),!0}return!1===this._onCompleteCallbackFired&&(this.onComplete&&this.onComplete(this._object,this,1,1),this._onCompleteCallbackFired=!0),!1}return!0},Tween.prototype.getDuration=function(){var e=0;return this.repeat&&(e=this.repeatDelay),this.delay+(e+this.duration)*(this.repeat||1)};var tween=Tween,Filter=function(e){e=e||{},this.format=e.format||this.format,this.placeholder=e.placeholder||this.placeholder,this.placeholderTypes=e.placeholderTypes||[].concat(this.placeholderTypes),this._formatArray=this.format.split(this.placeholder)};Filter.prototype._formatArray=null,Filter.prototype.format="rgba(%,%,%,%)",Filter.prototype.placeholder="%",Filter.prototype.placeholderTypes=["int","int","int","float"],Filter.prototype.to=null,Filter.prototype.from=null,Filter.prototype.stringToArray=function(e){return e.match(/[+-]?[\d]+(\.[\d]+)?/g).map(parseFloat)},Filter.prototype.validateArrayLength=function(e,t,i){(i=i||"")&&(i=' set to the "'+i+'" param'),(t=t||"")&&(t=' of string "'+t+'"');var n=this._formatArray.length-1;if(e<n)throw new Error("value array length ( "+e+" )"+t+i+" is less than the number of format placeholders ( "+n+" ) in "+this.format);if(e>n)throw new Error("value array length ( "+e+" )"+t+i+" is greater than the number of format placeholders ( "+n+" ) in "+this.format)},Filter.prototype.arrayToString=function(e){var t,i=this._formatArray,n=i.length,a=[];for(t=0;t<n;t++)"int"===this.placeholderTypes[t]&&(e[t]=Math.round(e[t])),a.push(i[t]),a.push(e[t]);return a.join("")},Filter.prototype.start=function(e,t){var i;if(this.from=e,this.to=t,this.arrayFrom=this.stringToArray(e),this.validateArrayLength(this.arrayFrom.length,e,"arrayFrom"),t instanceof Array){i=[];var n,a=(t=[e].concat(t)).length;for(n=0;n<a;n++){var o=this.stringToArray(t[n]);this.validateArrayLength(o.length,t[n],"arrayTo"),i[n]=o}this.arrayToIndexedInterpolated=this.getIndexedInterpolationData(i)}else i=this.stringToArray(t),this.validateArrayLength(i.length,t,"arrayTo");this.arrayTo=i},Filter.prototype.getIndexedInterpolationData=function(e){var t,i,n=[],a=e.length;for(t=0;t<a;t++){var o=e[t],r=o.length;for(i=0;i<r;i++)void 0===n[i]&&(n[i]=[]),n[i].push(o[i])}return n},Filter.prototype.getUpdatedValue=function(e,t){var i,n,a=this.arrayTo,o=[];if(a[0]instanceof Array){var r=this.arrayToIndexedInterpolated;for(n=r.length,i=0;i<n;i++)o[i]=t(r[i],e);return this.arrayToString(o)}var l=[];for(n=a.length,i=0;i<n;i++){var s=this.arrayFrom[i],d=a[i];l.push(s+(d-s)*e)}return this.arrayToString(l)};var filter=Filter,Queue=function(e){this.tweens=e||[],this.window=!1};Queue.prototype.window=null,Queue.prototype.tweens=null,Queue.prototype.add=function(e){return this.tweens.push(e),this},Queue.prototype.remove=function(e){var t=this.tweens.indexOf(e);return-1!==t&&this.tweens.splice(t,1),this},Queue.prototype.update=function(e){if(0===this.tweens.length)return!1;var t=0;if(void 0===e){var i=this.window||i;e=void 0!==i&&void 0!==i.performance&&void 0!==i.performance.now?i.performance.now():Date.now()}for(;t<this.tweens.length;){var n=this.tweens[t],a=n.update(e);if(n.remove||!a){if(this.tweens.splice(t,1),!n.remove&&n.chained){var o=n.chained.length;for(t=0;t<o;t++){var r=n.chained[t];this.add(r),r.start(e)}}}else t++}return!0},Queue.prototype.start=function(e){for(var t=this.tweens.length-1;t>=0;t--)this.tweens[t].start(e);return this};var queue=Queue,tweeno={Tween:tween,Filter:filter,Queue:queue,Interpolation:interpolation,Easing:easing};async function lookForComponent(e){var t,i=getComponentById(e.component.id);try{if(!i)throw"error";t=i}catch(i){try{t=await figma.importComponentByKeyAsync(e.component.key)}catch(t){t.startsWith("Could not find a published component with the key")&&(console.log("Template: ",e),figma.notify("Check component is published",{error:!0}))}}return t}function getComponentById(e){var t=figma.getNodeById(e);if(t&&"COMPONENT"===t.type)return t?null===t.parent||null===t.parent.parent?(figma.root.setPluginData("cellComponentState","exists"),!1):(figma.root.setPluginData("cellComponentState","removed"),t):(figma.root.setPluginData("cellComponentState","deleted"),null)}function createPage(e){var t=figma.createPage();return t.name=e,figma.currentPage=t,t}function isVariant(e){var t;if("INSTANCE"===e.type)return"COMPONENT_SET"===(null===(t=e.mainComponent.parent)||void 0===t?void 0:t.type)}function getVariantName(e){var t,i;if(isVariant(e)){let n=(null===(t=e.variantProperties)||void 0===t?void 0:t.Type)||(null===(i=e.variantProperties)||void 0===i?void 0:i.type);return n?e.name+"/"+n:e.name+"/"+e.mainComponent.name}return e.name}function getSelectionName(e){return e?isVariant(e)?getVariantName(e):e.name:void 0}function isInsideComponent(e){const t=e.parent;return!!t&&(!(!t||"COMPONENT"!==t.type)||(!t||"PAGE"!==t.type)&&isInsideComponent(t))}function getParentComponent(e){const t=e.parent;return!!t&&(t&&"COMPONENT"===t.type?t:(!t||"PAGE"!==t.type)&&getParentComponent(t))}function animateNodeIntoView(e,t,i){let n=getPageNode_1(e[0]);figma.currentPage=n;let a=Object.assign(Object.assign({},figma.viewport.center),{z:figma.viewport.zoom});figma.viewport.scrollAndZoomIntoView(e);let o=Object.assign(Object.assign({},Object.assign({},figma.viewport.center)),{z:figma.viewport.zoom});figma.viewport.center={x:a.x,y:a.y},figma.viewport.zoom=a.z;var r={from:a,to:o,duration:t||1e3,repeat:0,easing:i||tweeno.Easing.Cubic.Out},l=Object.assign(Object.assign({},a),{update:function(){figma.viewport.center={x:this.x,y:this.y},figma.viewport.zoom=this.z}}),s=new tweeno.Queue,d=new tweeno.Tween(l,r);s.add(d),s.start();let c=setInterval((()=>{0===s.tweens.length?clearInterval(c):(s.update(),l.update())}),1)}function positionInCenterOfViewport(e){e.x=figma.viewport.center.x-e.width/2,e.y=figma.viewport.center.y-e.height/2}function swapAxises(e){let t=e.primaryAxisSizingMode,i=e.counterAxisSizingMode;return e.primaryAxisSizingMode=i,e.counterAxisSizingMode=t,e}function genRandomId(){return Array(10).fill("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz").map((function(e){return e[Math.floor(Math.random()*e.length)]})).join("")}function clone(e){return JSON.parse(JSON.stringify(e))}function getTemplateParts$1(e){let t=["tr","td","th","table"],i={};for(let n=0;n<t.length;n++){let a=t[n],o=e.findOne((e=>{let t=getPluginData_1(e,"elementSemantics");if((null==t?void 0:t.is)===a)return!0}));i[a]=o}return i.table||"table"===getPluginData_1(e,"elementSemantics").is&&(i.table=e),i}function removeChildren(e){for(let t=e.children.length-1;t>=0;t--)e.children[t].remove()}function copyPasteStyle(e,t,i={}){const n=["opacity","blendMode","effects","effectStyleId","backgrounds","backgroundStyleId","fills","strokes","strokeWeight","strokeMiterLimit","strokeAlign","strokeCap","strokeJoin","dashPattern","fillStyleId","strokeStyleId","cornerRadius","cornerSmoothing","topLeftRadius","topRightRadius","bottomLeftRadius","bottomRightRadius","paddingLeft","paddingRight","paddingTop","paddingBottom","itemSpacing","clipsContent","layoutMode","strokeTopWeight","strokeBottomWeight","strokeRightWeight","strokeLeftWeight"];return i.include?i.include=i.include.concat(n):i.include=n,copyPaste_1(e,t,i)}async function changeText(e,t,i){e.fontName===figma.mixed?await figma.loadFontAsync(e.getRangeFontName(0,1)):await figma.loadFontAsync({family:e.fontName.family,style:i||e.fontName.style}),i&&(e.fontName={family:e.fontName.family,style:i}),t&&(e.characters=t)}async function overrideChildrenChars2(e,t,i,n){for(let a=0;a<e.length;a++)i[a]&&n[a]&&(i[a].name===n[a].name&&(t[a].name=e[a].name,t[a].visible=e[a].visible,"INSTANCE"===t[a].type&&t[a].swapComponent(e[a].mainComponent)),t[a].children&&e[a].children?await overrideChildrenChars2(e[a].children,t[a].children,i[a].children,n[a].children):"TEXT"===e[a].type&&await changeText(t[a],e[a].characters,e[a].fontName.style))}async function swapInstance(e,t){e&&t&&await overrideChildrenChars2(e.children,t.children,e.mainComponent.children,t.mainComponent.children)}function isTheme(e){return(255*e.r*299+255*e.g*587+255*e.b*114)/1e3>160||"figjam"===figma.editorType?"light":"dark"}async function createTooltip(e,t){let i="light";"dark"===isTheme(t||figma.currentPage.backgrounds[0].color)&&(i="dark"),await async function(){await Promise.all([figma.loadFontAsync({family:"Inter",style:"Regular"})])}();var n=figma.createComponent();n.resize(457,53),n.counterAxisSizingMode="AUTO",n.name=".Tooltip",n.relativeTransform=[[1,0,13222],[0,1,7008]],n.x=13222,n.y=7008,n.fills=[],n.cornerRadius=8,n.primaryAxisSizingMode="FIXED",n.strokeTopWeight=1,n.strokeBottomWeight=1,n.strokeLeftWeight=1,n.strokeRightWeight=1,n.backgrounds=[],n.expanded=!1,n.layoutMode="HORIZONTAL",n.counterAxisSizingMode="AUTO";var a=figma.createFrame();n.appendChild(a),a.resize(457,53),a.primaryAxisSizingMode="AUTO",a.name="Artwork",a.layoutPositioning="ABSOLUTE",a.fills=[],a.strokeTopWeight=1,a.strokeBottomWeight=1,a.strokeLeftWeight=1,a.strokeRightWeight=1,a.backgrounds=[],a.clipsContent=!1,a.expanded=!1,a.constraints={horizontal:"STRETCH",vertical:"STRETCH"};var o=figma.createRectangle();a.appendChild(o),o.resize(15.5563220978,15.5563220978),o.name="Rectangle 1",o.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],o.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],o.relativeTransform=[[.7071068287,-.7071068287,0],[.7071068287,.7071068287,16]],o.y=16,o.rotation=-45,o.constrainProportions=!0,o.strokeTopWeight=1,o.strokeBottomWeight=1,o.strokeLeftWeight=1,o.strokeRightWeight=1;var r=figma.createRectangle();a.appendChild(r),r.resize(457,53),r.name="Rectangle 2",r.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],r.constraints={horizontal:"MIN",vertical:"STRETCH"},r.cornerRadius=8,r.strokeTopWeight=1,r.strokeBottomWeight=1,r.strokeLeftWeight=1,r.strokeRightWeight=1;var l=figma.union([o,r],a);l.name="Union",l.visible=!0,l.locked=!1,l.opacity=1,l.blendMode="PASS_THROUGH",l.isMask=!1,l.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.07000000029802322},offset:{x:0,y:4},radius:12,spread:0,visible:!0,blendMode:"NORMAL",showShadowBehindNode:!1}],l.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],l.strokes=[{type:"SOLID",visible:!0,opacity:.10000000149011612,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],l.strokeWeight=1,l.strokeAlign="INSIDE",l.strokeJoin="MITER",l.dashPattern=[],l.strokeCap="NONE",l.strokeMiterLimit=4,l.layoutAlign="INHERIT",l.constrainProportions=!1,l.layoutGrow=0,l.layoutPositioning="AUTO",l.exportSettings=[],l.cornerRadius=0,l.cornerSmoothing=0,l.expanded=!1,l.reactions=[];var s=figma.createText();n.appendChild(s),s.resize(417,21),s.name="Only layer styles such as: background, color, border radius etc will be used to create tables. You don't have to create tables using the plugin. You can also create tables by creating an instance of this component and detaching them and their rows. If you change the styles used on the table or row components you can update existing tables by going to Plugins > Table Creator > Settings and select Refresh Tables",s.relativeTransform=[[1,0,20],[0,1,16]],s.x=20,s.y=16,s.layoutGrow=1,s.autoRename=!1,s.listSpacing=0,s.characters="Text",s.fontSize=14,s.lineHeight={unit:"PERCENT",value:150},s.fontName={family:"Inter",style:"Regular"},s.textAutoResize="HEIGHT",n.remove();var d=n.createInstance();figma.currentPage.appendChild(d),d.relativeTransform=[[1,0,13222],[0,1,7163]],d.y=7163,d.swapComponent(n);var c=figma.getNodeById("I"+d.id+";"+a.id);c.resize(457,116),c.primaryAxisSizingMode="AUTO";var g=figma.getNodeById("I"+d.id+";"+l.id);figma.getNodeById("I"+d.id+";"+o.id),figma.getNodeById("I"+d.id+";"+r.id).resize(457,116);var u=figma.getNodeById("I"+d.id+";"+s.id);return u.resize(417,84),u.characters=e,n.paddingLeft=20,n.paddingRight=20,n.paddingTop=16,n.paddingBottom=16,"dark"===i&&(u.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],g.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.21250000596046448,g:.21250000596046448,b:.21250000596046448}}],g.strokes=[{type:"SOLID",visible:!0,opacity:.10000000149011612,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],g.effects=[{type:"DROP_SHADOW",color:{r:0,g:0,b:0,a:.10000000149011612},offset:{x:0,y:4},radius:12,spread:0,visible:!0,blendMode:"NORMAL",showShadowBehindNode:!1}]),d}async function createTemplateComponents(){let e="light";"dark"===isTheme(figma.currentPage.backgrounds[0].color)&&(e="dark"),await async function(){await Promise.all([figma.loadFontAsync({family:"Inter",style:"Regular"}),figma.loadFontAsync({family:"Inter",style:"Semi Bold"})])}();var t=figma.createComponent();t.resize(120,35),t.name="Type=Default",t.relativeTransform=[[1,0,16],[0,1,16]],t.x=16,t.y=16,t.layoutAlign="STRETCH",t.fills=[{type:"SOLID",visible:!0,opacity:.0020000000949949026,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],t.strokes="dark"===e?[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]:[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}],t.primaryAxisSizingMode="FIXED",t.strokeTopWeight=1,t.strokeBottomWeight=0,t.strokeLeftWeight=1,t.strokeRightWeight=0,t.backgrounds=[{type:"SOLID",visible:!0,opacity:.0020000000949949026,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],t.expanded=!1,t.layoutMode="VERTICAL";var i=figma.createFrame();t.appendChild(i),i.resize(120,35),i.counterAxisSizingMode="AUTO",i.primaryAxisSizingMode="FIXED",i.name="Content",i.layoutAlign="STRETCH",i.fills=[],i.paddingLeft=12,i.paddingRight=12,i.paddingTop=10,i.paddingBottom=10,i.strokeTopWeight=1,i.strokeBottomWeight=1,i.strokeLeftWeight=1,i.strokeRightWeight=1,i.backgrounds=[],i.expanded=!1,i.layoutMode="HORIZONTAL";var n=figma.createText();i.appendChild(n),n.resize(96,15),n.relativeTransform=[[1,0,12],[0,1,10]],n.x=12,n.y=10,n.layoutGrow=1,n.fontName={family:"Inter",style:"Regular"},n.listSpacing=0,n.characters="",n.lineHeight={unit:"PERCENT",value:130},n.fontName={family:"Inter",style:"Regular"},n.textAutoResize="HEIGHT","dark"===e&&(n.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}]);var a=figma.createComponent();a.resize(120,35),a.name="Type=Header",a.relativeTransform=[[1,0,136],[0,1,16]],a.x=136,a.y=16,a.layoutAlign="STRETCH","dark"===e?(a.fills=[{type:"SOLID",visible:!0,opacity:.05,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],a.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]):(a.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],a.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}]),a.primaryAxisSizingMode="FIXED",a.strokeTopWeight=1,a.strokeBottomWeight=0,a.strokeLeftWeight=1,a.strokeRightWeight=0,a.expanded=!1,a.layoutMode="VERTICAL";var o=figma.createFrame();a.appendChild(o),o.resize(120,35),o.counterAxisSizingMode="AUTO",o.primaryAxisSizingMode="FIXED",o.name="Content",o.layoutAlign="STRETCH",o.fills=[],o.paddingLeft=12,o.paddingRight=12,o.paddingTop=10,o.paddingBottom=10,o.strokeTopWeight=1,o.strokeBottomWeight=1,o.strokeLeftWeight=1,o.strokeRightWeight=1,o.backgrounds=[],o.expanded=!1,o.layoutMode="HORIZONTAL";var r=figma.createText();o.appendChild(r),r.resize(96,15),r.relativeTransform=[[1,0,12],[0,1,10]],r.x=12,r.y=10,r.layoutGrow=1,r.fontName={family:"Inter",style:"Semi Bold"},r.listSpacing=0,r.characters="",r.lineHeight={unit:"PERCENT",value:130},r.fontName={family:"Inter",style:"Semi Bold"},r.textAutoResize="HEIGHT","dark"===e&&(r.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}]);var l=figma.combineAsVariants([t,a],figma.currentPage);l.resize(272,67),l.primaryAxisSizingMode="AUTO",l.counterAxisSizingMode="AUTO",l.name="Cell",l.visible=!0,l.locked=!1,l.opacity=1,l.blendMode="PASS_THROUGH",l.isMask=!1,l.effects=[],l.relativeTransform=[[1,0,11673],[0,1,7538]],l.x=11673,l.y=7538,l.rotation=0,l.layoutAlign="INHERIT",l.constrainProportions=!1,l.layoutGrow=0,l.layoutPositioning="AUTO",l.exportSettings=[],l.fills=[],l.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}],l.strokeWeight=1,l.strokeAlign="INSIDE",l.strokeJoin="MITER",l.dashPattern=[10,5],l.strokeCap="NONE",l.strokeMiterLimit=4,l.cornerRadius=5,l.cornerSmoothing=0,l.paddingLeft=16,l.paddingRight=16,l.paddingTop=16,l.paddingBottom=16,l.primaryAxisAlignItems="MIN",l.counterAxisAlignItems="MIN",l.primaryAxisSizingMode="AUTO",l.strokeTopWeight=1,l.strokeBottomWeight=1,l.strokeLeftWeight=1,l.strokeRightWeight=1,l.layoutGrids=[],l.backgrounds=[],l.clipsContent=!0,l.guides=[],l.expanded=!1,l.constraints={horizontal:"MIN",vertical:"MIN"},l.layoutMode="HORIZONTAL",l.counterAxisSizingMode="AUTO",l.itemSpacing=0,l.overflowDirection="NONE",l.numberOfFixedChildren=0,l.itemReverseZIndex=!1,l.strokesIncludedInLayout=!1,l.description="",l.documentationLinks=[];var s=figma.createComponent();figma.currentPage.appendChild(s),s.resize(240,35),s.primaryAxisSizingMode="AUTO",s.counterAxisSizingMode="AUTO",s.name="Row",s.relativeTransform=[[1,0,11689],[0,1,7399]],s.x=11689,s.y=7399,s.fills=[{type:"SOLID",visible:!0,opacity:9999999747378752e-20,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],s.strokeTopWeight=1,s.strokeBottomWeight=1,s.strokeLeftWeight=1,s.strokeRightWeight=1,s.backgrounds=[{type:"SOLID",visible:!0,opacity:9999999747378752e-20,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],s.clipsContent=!0,s.expanded=!1,s.layoutMode="HORIZONTAL",s.counterAxisSizingMode="AUTO",s.layoutAlign="STRETCH",s.primaryAxisSizingMode="FIXED";var d=t.createInstance();s.appendChild(d),d.relativeTransform=[[1,0,0],[0,1,0]],d.layoutAlign="STRETCH",d.swapComponent(t),figma.getNodeById("I"+d.id+";"+i.id),figma.getNodeById("I"+d.id+";"+n.id);var c=t.createInstance();s.appendChild(c),c.relativeTransform=[[1,0,120],[0,1,0]],c.x=120,c.layoutAlign="STRETCH",c.swapComponent(t),figma.getNodeById("I"+c.id+";"+i.id),figma.getNodeById("I"+c.id+";"+n.id);var g=figma.createComponent();figma.currentPage.appendChild(g),g.resize(240,105),g.primaryAxisSizingMode="AUTO",g.counterAxisSizingMode="AUTO",g.name="Table 1",g.relativeTransform=[[1,0,11689],[0,1,7174]],g.x=11689,g.y=7174,"dark"===e?(g.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.21250000596046448,g:.21250000596046448,b:.21250000596046448}}],g.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.3583333194255829,g:.3583333194255829,b:.3583333194255829}}]):(g.fills=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:1,g:1,b:1}}],g.strokes=[{type:"SOLID",visible:!0,opacity:1,blendMode:"NORMAL",color:{r:.7254902124404907,g:.7254902124404907,b:.7254902124404907}}]),g.cornerRadius=4,g.strokeTopWeight=1,g.strokeBottomWeight=1,g.strokeLeftWeight=1,g.strokeRightWeight=1,g.clipsContent=!0,g.expanded=!1,g.layoutMode="VERTICAL",g.counterAxisSizingMode="AUTO";var u=s.createInstance();g.appendChild(u),u.relativeTransform=[[1,0,0],[0,1,0]],u.layoutAlign="STRETCH",u.primaryAxisSizingMode="FIXED",u.swapComponent(s);var m=figma.getNodeById("I"+u.id+";"+d.id);m.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],m.backgrounds=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],m.swapComponent(a),figma.getNodeById(m.id+";"+o.id),figma.getNodeById(m.id+";"+r.id);var p=figma.getNodeById("I"+u.id+";"+c.id);p.fills=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],p.backgrounds=[{type:"SOLID",visible:!0,opacity:.05999999865889549,blendMode:"NORMAL",color:{r:0,g:0,b:0}}],p.swapComponent(a),figma.getNodeById(p.id+";"+o.id),figma.getNodeById(p.id+";"+r.id);var h=s.createInstance();g.appendChild(h),h.relativeTransform=[[1,0,0],[0,1,35]],h.y=35,h.layoutAlign="STRETCH",h.primaryAxisSizingMode="FIXED",h.swapComponent(s);var f=figma.getNodeById("I"+h.id+";"+d.id);f.swapComponent(t),figma.getNodeById(f.id+";"+i.id),figma.getNodeById(f.id+";"+n.id);var y=figma.getNodeById("I"+h.id+";"+c.id);y.swapComponent(t),figma.getNodeById(y.id+";"+i.id),figma.getNodeById(y.id+";"+n.id);var v=s.createInstance();g.appendChild(v),v.relativeTransform=[[1,0,0],[0,1,70]],v.y=70,v.layoutAlign="STRETCH",v.primaryAxisSizingMode="FIXED",v.swapComponent(s);var T=figma.getNodeById("I"+v.id+";"+d.id);T.swapComponent(t),figma.getNodeById(T.id+";"+i.id),figma.getNodeById(T.id+";"+n.id);var b=figma.getNodeById("I"+v.id+";"+c.id);return b.swapComponent(t),figma.getNodeById(b.id+";"+i.id),figma.getNodeById(b.id+";"+n.id),setPluginData_1(g,"elementSemantics",{is:"table"}),setPluginData_1(s,"elementSemantics",{is:"tr"}),setPluginData_1(t,"elementSemantics",{is:"td"}),setPluginData_1(a,"elementSemantics",{is:"th"}),t.setRelaunchData({selectColumn:"Select all cells in column",selectRow:"Select all cells in row"}),a.setRelaunchData({selectColumn:"Select all cells in column",selectRow:"Select all cells in row"}),{templateComponent:g,rowComponent:s,cellComponentSet:l}}async function updateClientStorageAsync(e,t){var i=await figma.clientStorage.getAsync(e);return i=t(i),await figma.clientStorage.setAsync(e,i),i||(i=null),i}let defaultRelaunchData={detachTable:"Detaches table and rows",toggleColumnResizing:"Apply or remove column resizing",switchColumnsOrRows:"Switch between using columns or rows",updateTables:"Refresh tables already created"};function convertToNumber(e){return Number(e)?Number(e):e}async function updatePluginVersion(e){return updateClientStorageAsync("pluginVersion",(t=>(figma.root.getPluginData("pluginVersion")&&figma.root.setPluginData("pluginVersion",""),e||t)))}function createTable(e,t,i){let n,a=getTemplateParts$1(e);if(a.table&&a.tr&&a.td&&(a.th||!t.includeHeader)){var o,r;if(n=convertToFrame_1(e.clone()),n.primaryAxisSizingMode="FIXED",a.table.id===e.id)"COMPONENT"===i?n=o=convertToComponent_1(n):o=n;else{n.findAll((e=>{var t;"table"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&e.remove()}));var l=getNodeIndex_1(a.table);n.insertChild(l,o)}var s=getNodeIndex_1(a.tr);var d=o.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)})).parent;o.findAll((e=>{var t;"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&e.remove()})),t.columnResizing&&"COMPONENT"!==i?((r=convertToComponent_1(a.tr.clone())).layoutAlign=a.tr.layoutAlign,r.primaryAxisSizingMode=a.tr.primaryAxisSizingMode,r.name.startsWith(".")||r.name.startsWith("_")||(r.name="."+r.name),setPluginData_1(r,"elementSemantics",{is:"tr"})):(r=convertToFrame_1(a.tr.clone()),setPluginData_1(r,"elementSemantics",{is:"tr"})),d.insertChild(s,r),removeChildren(r),t.tableHeight&&"HUG"!==t.tableHeight&&(r.layoutGrow=1),r.layoutAlign="STRETCH";for(let e=0;e<t.columnCount;e++){var c;"COMPONENT"===a.td.type&&(c=a.td.clone()),"INSTANCE"===a.td.type&&(c=a.td.mainComponent.createInstance()),t.cellWidth&&"FILL"!==t.cellWidth&&c.resizeWithoutConstraints(t.cellWidth,c.height),t.tableWidth&&"HUG"!==t.tableWidth&&(c.layoutGrow=1),setPluginData_1(c,"elementSemantics",{is:"td"}),c.primaryAxisAlignItems=t.cellAlignment,r.appendChild(c),c.layoutAlign="STRETCH",c.primaryAxisSizingMode="FIXED"}for(var g=1;g<t.rowCount;g++){var u;if("COMPONENT"===r.type?(u=r.createInstance()).layoutAlign=r.layoutAlign:u=r.clone(),t.tableHeight&&"HUG"!==t.tableHeight&&(u.layoutGrow=1),t.columnResizing&&"COMPONENT"!==i&&t.includeHeader)for(let e=0;e<u.children.length;e++){var m=u.children[e];m.mainComponent=a.td.mainComponent,setPluginData_1(m,"elementSemantics",{is:"td"}),m.primaryAxisSizingMode="FIXED"}d.insertChild(s+1,u)}if(t.includeHeader&&a.th)for(g=0;g<r.children.length;g++){var p=r.children[g];p.swapComponent(a.th.mainComponent),setPluginData_1(p,"elementSemantics",{is:"th"})}return n.setRelaunchData(defaultRelaunchData),t.tableWidth&&"HUG"!==t.tableWidth&&n.resize(convertToNumber(t.tableWidth),n.height),t.tableHeight&&"HUG"!==t.tableHeight&&n.resize(n.width,convertToNumber(t.tableHeight)),n}{let e=[];!a.table&&e.push("table"),!a.tr&&e.push("row"),!a.th&&t.includeHeader&&e.push("header"),!a.td&&e.push("cell"),e.length>1?figma.notify(`Template parts "${e.join(", ")}" not configured`):figma.notify(`Template part "${e.join(", ")}" not configured`),n=!1}}function File(e){this.id=getDocumentData_1("fileId")||setDocumentData_1("fileId",genRandomId()),this.name=figma.root.name,e&&(this.data=e)}function Template(e){this.id=e.id,this.name=e.name,this.component={id:e.id,key:e.key},this.file={id:getDocumentData_1("fileId")||setDocumentData_1("fileId",genRandomId()),name:figma.root.name}}function getLocalTemplates(){figma.skipInvisibleInstanceChildren=!0;var e=[],t=figma.root.findAllWithCriteria({types:["COMPONENT"]});for(let n=0;n<t.length;n++){let a=t[n];var i=getPluginData_1(a,"template");if(i&&"COMPONENT"===a.type){i.id=a.id,i.name=a.name,i.component.id=a.id,i.component.key=a.key;let t=getDocumentData_1("fileId")||genUID_1();i.file.id=t,setPluginData_1(a,"template",i),e.push(i)}}return e}async function setDefaultTemplate(e){await getRemoteFilesAsync_1(),await getRecentFilesAsync_1(getLocalTemplates()),setDocumentData_1("defaultTemplate",e),figma.ui.postMessage({type:"post-default-template",defaultTemplate:e,localTemplates:getLocalTemplates()})}async function updateTables(e){var t=figma.root.findAll((t=>{var i;return(null===(i=getPluginData_1(t,"template"))||void 0===i?void 0:i.id)===e.id})),i=await lookForComponent(e);if(i&&t){var n=i.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}));for(let e=0;e<t.length;e++){var a=t[e];"INSTANCE"!==a.type&&(copyPasteStyle(i,a,{exclude:["name","layoutMode"]}),a.findAll((e=>{var t;"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)==!0&&"INSTANCE"!==e.type&&copyPasteStyle(n,e,{exclude:["name","layoutMode"]})})))}}}function getTableSettings(e){var t,i,n;let a,o=0,r=0,l="rows";for(let i=0;i<e.children.length;i++){var s=e.children[i];"tr"===(null===(t=getPluginData_1(s,"elementSemantics"))||void 0===t?void 0:t.is)&&o++}let d=e.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)})),c=d.findOne((e=>{var t,i;return"td"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)||"th"===(null===(i=getPluginData_1(e,"elementSemantics"))||void 0===i?void 0:i.is)}));a=c.primaryAxisAlignItems,"VERTICAL"===d.parent.layoutMode&&(l="rows"),"HORIZONTAL"===d.parent.layoutMode&&(l="columns");for(let e=0;e<d.children.length;e++){s=d.children[e];var g=null===(i=getPluginData_1(s,"elementSemantics"))||void 0===i?void 0:i.is;"td"!==g&&"th"!==g||r++}return{tableWidth:"AUTO"===e.counterAxisSizingMode?"HUG":e.width,tableHeight:"AUTO"===e.primaryAxisSizingMode?"HUG":e.height,columnCount:r,rowCount:o,columnResizing:"COMPONENT"===d.type,includeHeader:"th"===(null===(n=getPluginData_1(c,"elementSemantics"))||void 0===n?void 0:n.is),cellAlignment:a,usingColumnsOrRows:l,cellWidth:c.width}}function upgradeOldTablesToNewTables(e){for(var t=figma.root.findAll((e=>"true"===e.getPluginData("isTable")&&"COMPONENT"!==e.type)),i=figma.root.findAll((e=>"true"===e.getPluginData("isRow"))),n=figma.root.findAll((e=>"true"===e.getPluginData("isCell"))),a=figma.root.findAll((e=>"true"===e.getPluginData("isHeaderCell"))),o=0;o<t.length;o++){(r=t[o]).setPluginData("isTable",""),setPluginData_1(r,"template",e),setPluginData_1(r,"elementSemantics",{is:"table"})}for(o=0;o<i.length;o++){(r=i[o]).setPluginData("isRow",""),setPluginData_1(r,"elementSemantics",{is:"tr"})}for(o=0;o<n.length;o++){(r=n[o]).setPluginData("isCell",""),setPluginData_1(r,"elementSemantics",{is:"td"})}for(o=0;o<a.length;o++){var r;(r=a[o]).setPluginData("isCellHeader",""),setPluginData_1(r,"elementSemantics",{is:"th"})}}async function upgradeOldComponentsToTemplate(){if(getComponentById(figma.root.getPluginData("cellComponentID"))){const e=function(){let e=getComponentById(figma.root.getPluginData("cellComponentID"));setPluginData_1(e,"elementSemantics",{is:"td"});let t=getComponentById(figma.root.getPluginData("cellHeaderComponentID"));t&&setPluginData_1(t,"elementSemantics",{is:"th"});let i=getComponentById(figma.root.getPluginData("rowComponentID"))||figma.createComponent();setPluginData_1(i,"elementSemantics",{is:"tr"}),removeChildren(i),i.name=getComponentById(figma.root.getPluginData("rowComponentID")).name||"_Row",i.layoutMode="HORIZONTAL",i.primaryAxisSizingMode="AUTO",i.counterAxisSizingMode="AUTO",i.clipsContent=!0;let n=e.createInstance(),a=e.createInstance();i.appendChild(n),i.appendChild(a);let o,r=getComponentById(figma.root.getPluginData("tableComponentID"));r?o=r:(o=figma.createComponent(),getComponentById(figma.root.getPluginData("rowComponentID"))?(o.y=i.y+i.height+120,o.x=i.x):(o.y=e.parent.y+e.height+120,o.x=e.x)),setPluginData_1(o,"elementSemantics",{is:"table"}),removeChildren(o),o.name=getComponentById(figma.root.getPluginData("tableComponentID")).name||"Table 1",o.layoutMode="VERTICAL",o.primaryAxisSizingMode="AUTO",o.counterAxisSizingMode="AUTO";let l=i.createInstance(),s=i.createInstance(),d=i.createInstance();return l.layoutAlign="STRETCH",s.layoutAlign="STRETCH",d.layoutAlign="STRETCH",l.primaryAxisSizingMode="FIXED",s.primaryAxisSizingMode="FIXED",d.primaryAxisSizingMode="FIXED",o.appendChild(l),o.appendChild(s),o.appendChild(d),t&&(l.children[0].swapComponent(t),l.children[1].swapComponent(t)),getComponentById(figma.root.getPluginData("rowComponentID"))||i.remove(),o}();figma.currentPage=getPageNode_1(e);let t=new Template(e);setPluginData_1(e,"template",t),e.setRelaunchData(defaultRelaunchData),setDefaultTemplate(t);let i=await createTooltip("Your table components have been converted into a template. A template is a single component used by Table Creator to create tables from.",figma.currentPage.backgrounds[0].color);i.x=e.x+e.width+80,i.y=e.y-10,getPageNode_1(e).appendChild(i),figma.currentPage.selection=[e,i],figma.viewport.scrollAndZoomIntoView([e,i]),["cellComponentID","cellHeaderComponentID","rowComponentID","tableComponentID"].forEach((e=>{figma.root.setPluginData(e,"")})),figma.root.findOne((e=>{"Customise the following components to create bespoke tables. Or to link using your own components go to Plugins > Table Creator > Settings. You can move and rename the components as you wish. The only component which must exist for the plugin to work is the Cell component."===e.characters&&e.remove()})),figma.root.findOne((e=>{"The Cell component is the only component required for Table Creator to create tables from. You can cutomise this component, or link the plugin to a different Cell component by running Plugins > Table Creator > Settings."===e.characters&&e.remove()})),figma.root.findOne((e=>{"Only layer styles such as: background, color, border radius etc will be used for rows when creating tables."===e.characters&&e.remove()})),figma.root.findOne((e=>{"Only layer styles such as: background, color, border radius etc will be used to create tables. You don't have to create tables using the plugin. You can also create tables by creating an instance of this component and detaching them and their rows. If you change the styles used on the table or row components you can update existing tables by going to Plugins > Table Creator > Settings and select Refresh Tables"===e.characters&&e.remove()})),upgradeOldTablesToNewTables(t)}}function daysToMilliseconds(e){return 24*e*60*60*1e3}function addUniqueToArray(e,t){return-1===t.findIndex((t=>t.id===e.id))&&t.push(e),t}function addTemplateToRemoteFiles(e){updatePluginData_1(figma.root,"remoteFiles",(t=>{t=t||[],addUniqueToArray(new File,t);for(var i=0;i<t.length;i++){var n=t[i];n.id===getPluginData_1(figma.currentPage.selection[0],"template").file.id&&(n.templates=addUniqueToArray(new Template(e),n.templates))}return t})),figma.notify(`Imported ${e.name}`)}function addElement(e){let t=figma.currentPage.selection[0];"INSTANCE"===t.type?setPluginData_1(t.mainComponent,"elementSemantics",{is:e}):setPluginData_1(t,"elementSemantics",{is:e})}function removeElement(e,t){let i=figma.getNodeById(e),n="COMPONENT"===i.type?i:getParentComponent(i);n.findAll((e=>{var i;(null===(i=getPluginData_1(e,"elementSemantics"))||void 0===i?void 0:i.is)===t&&("INSTANCE"===e.type?setPluginData_1(e.mainComponent,"elementSemantics",""):setPluginData_1(e,"elementSemantics",""))})),"table"===t&&setPluginData_1(n,"elementSemantics","")}function importTemplate(e){var t,i=getPluginData_1(e,"template"),n=i,a=(null===(t=null==i?void 0:i.file)||void 0===t?void 0:t.id)===getDocumentData_1("fileId");n?("COMPONENT"===e.type?a?figma.notify("Template already imported"):(addTemplateToRemoteFiles(e),figma.notify("Imported remote template")):(e=convertToComponent_1(e),figma.notify("Imported template")),setDocumentData_1("defaultTemplate",getPluginData_1(e,"template"))):figma.notify("No template found")}function getDefaultTemplate(){var e,t=getDocumentData_1("usingRemoteTemplate"),i=getDocumentData_1("defaultTemplate");return t||getComponentById(null===(e=null==i?void 0:i.component)||void 0===e?void 0:e.id)?i:void 0}function getTemplateParts(e){let t=["tr","td","th","table"],i={};for(let n=0;n<t.length;n++){let a=t[n],o=e.findOne((e=>{let t=getPluginData_1(e,"elementSemantics");if((null==t?void 0:t.is)===a)return!0}));i[a]=o}return i.table||"table"===getPluginData_1(e,"elementSemantics").is&&(i.table=e),i}function postCurrentSelection(e){let t;function i(){var i;let n=figma.currentPage.selection[0];if(1!==figma.currentPage.selection.length||!function(t){let i="COMPONENT"===t.type?t:getParentComponent(t);if((isInsideComponent(t)||"COMPONENT"===t.type)&&i&&getPluginData_1(i,"template")&&i.id===e)return!0}(figma.currentPage.selection[0])||"COMPONENT"!==n.type&&"FRAME"!==n.type&&"INSTANCE"!==n.type)figma.ui.postMessage({type:"current-selection",selection:void 0});else{let e=null===(i=getPluginData_1(figma.currentPage.selection[0],"elementSemantics"))||void 0===i?void 0:i.is;t={element:e,name:getSelectionName(figma.currentPage.selection[0]),longName:"table"===e?"Table":"tr"===e?"Row":"td"===e?"Cell":"th"===e?"Header Cell":void 0},figma.ui.postMessage({type:"current-selection",selection:t})}}i(),figma.on("selectionchange",(()=>{i()}))}function selectTableCells(e){var t,i=RegExp(/\[ignore\]/,"g"),n=figma.currentPage.selection,a=[];for(let c=0;c<n.length;c++){var o=null===(t=n[c].parent)||void 0===t?void 0:t.parent,r=null==o?void 0:o.children,l=r.findIndex((e=>e.id===n[c].parent.id)),s=r[l].children.findIndex((e=>e.id===n[c].id));for(let t=0;t<r.length;t++)if("parallel"===e&&r[t].children&&r[t].children[s]&&!i.test(r[t].children[s].parent.name)&&a.push(clone(r[t].children[s])),"adjacent"===e){var d=r[l];for(let e=0;e<d.children.length;e++)d.children&&d.children[e]&&!i.test(d.children[e].parent.name)&&a.push(clone(d.children[e]))}}figma.currentPage.selection=a}function detachTable(e){let t=[];for(let i=0;i<e.length;i++){let n=e[i];"INSTANCE"===n.type&&(n=n.detachInstance(),t.push(n)),"COMPONENT"!==n.type&&(n.findAll((e=>{var t;if("tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&("INSTANCE"===e.type&&e.detachInstance(),"COMPONENT"===e.type)){let t=e.layoutAlign;(e=replace_1(e,convertToFrame_1)).layoutAlign=t}})),t.push(n)),n.findAll((e=>{var t;"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)&&(e.name=e.name.replace(/^./,""))}))}return figma.currentPage.selection=t,t}function spawnTable(){}async function toggleColumnResizing(e){var t,i,n;let a,o=[],r=[],l=!1;for(let d=0;d<e.length;d++){var s=e[d];if("COMPONENT"!==s.type){let e=getTableSettings(s);if(0===d&&(a=e.columnResizing),a){let[e]=detachTable([s]);l="removed",o.push(e)}else{l="applied",e.columnResizing=!a;let d=s.primaryAxisSizingMode;s.primaryAxisSizingMode="FIXED";let c=await createTable(s,e),g=s.children.length;for(let e=0;e<g;e++){let a=s.children[e];if("tr"===(null===(t=getPluginData_1(a,"elementSemantics"))||void 0===t?void 0:t.is)){let t=a.children.length;for(let o=0;o<t;o++){let t=a.children[o];if("td"===(null===(i=getPluginData_1(t,"elementSemantics"))||void 0===i?void 0:i.is)||"th"===(null===(n=getPluginData_1(t,"elementSemantics"))||void 0===n?void 0:n.is)){let i=c.children[e].children[o],n=t;i.swapComponent(n.mainComponent),await swapInstance(n,i),resize_1(i,n.width,n.height),i.layoutAlign=n.layoutAlign}}}}c.primaryAxisSizingMode=d,o.push(c),r.push(s)}}}figma.currentPage.selection=o;for(let e=0;e<r.length;e++)r[e].remove();return l}function switchColumnsOrRows(e){let t,i,n;function a(e){var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}for(let l=0;l<e.length;l++){var o=e[l];if(getPluginData_1(o,"template")){if("COMPONENT"!==o.type){let e=o.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}));function r(){var t,n=e.parent.children.length,r=e.parent,l=nodeToObject_1(r);if("rows"===i.usingColumnsOrRows&&(r.layoutMode="HORIZONTAL"),"COMPONENT"!==e.type){function s(e,t){for(var i=e.parent,n=-1,o=-1;n<t;){n++,o++;var r=i.children[o];r&&!a(r)&&n--}return o}for(let t=0;t<e.parent.children.length;t++){if(a(m=r.children[t])){m.width,m.height;var d=m.children;if("columns"===i.usingColumnsOrRows&&(m.name=m.name.replace("Col","Row"),m.layoutMode="HORIZONTAL",m.layoutGrow=0,m.counterAxisSizingMode="AUTO"),t<n)for(let n=0;n<i.columnCount;n++){(h=d[n]).width;var c=s(m,n);if(h){if(h.primaryAxisSizingMode="AUTO",m.id===e.id&&!m.parent.children[c]){var g=m.clone();removeChildren_1(g),o.appendChild(g)}m.parent.children[c]&&("rows"===i.usingColumnsOrRows?(m.parent.children[c].appendChild(h),m.parent.children[c].resize(l.children[t].children[n].width,m.height),m.parent.children[c].layoutGrow=l.children[t].children[n].layoutGrow,m.parent.children[c].layoutAlign="STRETCH"):(m.parent.children[c].appendChild(h),h.resize(m.width,h.height),1===l.children[t].layoutGrow?h.layoutGrow=1:h.layoutGrow=0))}}}else m.resize(l.children[t].height,l.children[t].width);"rows"===i.usingColumnsOrRows&&a(m)&&(m.name=m.name.replace("Row","Col"),m.layoutMode="VERTICAL")}"columns"===i.usingColumnsOrRows&&(r.layoutMode="VERTICAL"),swapAxises(r),resize_1(r,l.width,l.height),r.primaryAxisSizingMode="AUTO";var u=r.children.length;let f=[];for(let n=0;n<u;n++){var m=r.children[n];if((null===(t=l.children[n])||void 0===t?void 0:t.layoutAlign)&&(m.layoutAlign=l.children[n].layoutAlign),a(m)){if("columns"===i.usingColumnsOrRows){m.counterAxisSizingMode="AUTO",m.layoutAlign="STRETCH";d=m.children;var p="columns"===i.usingColumnsOrRows?e.parent.children.length:e.children.length;for(let t=0;t<p;t++){(h=d[t])&&m.parent.children[getNodeIndex_1(e)+t]&&(h.primaryAxisSizingMode="FIXED",h.layoutAlign="STRETCH")}}else{d=m.children,p="rows"===i.usingColumnsOrRows?e.parent.children.length:e.children.length;for(let t=0;t<p;t++){var h;(h=d[t])&&m.parent.children[getNodeIndex_1(e)+t]&&("HUG"===i.tableHeight?(h.layoutGrow=0,h.primaryAxisSizingMode="AUTO"):(h.layoutGrow=1,h.primaryAxisSizingMode="FIXED"))}m.layoutAlign="STRETCH"}0===m.children.length&&f.push(m)}}for(let e=0;e<f.length;e++)f[e].remove()}}"INSTANCE"!==o.type&&"INSTANCE"!==e.type&&"COMPONENT"!==e.type||(o=detachTable(figma.currentPage.selection)[0],e=o.findOne((e=>{var t;return"tr"===(null===(t=getPluginData_1(e,"elementSemantics"))||void 0===t?void 0:t.is)}))),i=getTableSettings(o),0===l&&(t=i.usingColumnsOrRows,"rows"===t&&(n="VERTICAL"),"columns"===t&&(n="HORIZONTAL")),o.layoutMode,n===o.layoutMode&&r()}}else figma.closePlugin("Please select a table")}return{vectorType:t}}function selectTableVector(e){var t,i;figma.currentPage.selection.length>0?((null===(t=figma.currentPage.selection[0].parent)||void 0===t?void 0:t.parent.layoutMode)===("column"===e?"VERTICAL":"HORIZONTAL")&&selectTableCells("parallel"),(null===(i=figma.currentPage.selection[0].parent)||void 0===i?void 0:i.parent.layoutMode)===("column"===e?"HORIZONTAL":"VERTICAL")&&selectTableCells("adjacent")):figma.notify("One or more table cells must be selected")}async function createTableUI(){figma.root.setRelaunchData({createTable:""});const e=getLocalTemplates();var t=await getRecentFilesAsync_1(e,{expire:daysToMilliseconds(7)}),i=await getRemoteFilesAsync_1();let n=await getClientStorageAsync_1("pluginVersion"),a=await getClientStorageAsync_1("userPreferences"),o=await getDocumentData_1("usingRemoteTemplate"),r=!!getComponentById(figma.root.getPluginData("cellComponentID"));const l=getDocumentData_1("fileId");let s=getDefaultTemplate();if(s)if(s.file.id===l){getComponentById(s.id)||(e.length>0?(s=e[0],setDocumentData_1("defaultTemplate",s)):i.length>0&&(s=i[0].data[0],setDocumentData_1("defaultTemplate",s)))}else{await lookForComponent(s)||(i.length>0?(s=i[0].data[0],setDocumentData_1("defaultTemplate",s)):e.length>0&&(s=e[0],setDocumentData_1("defaultTemplate",s)))}else e.length>0?(s=e[0],setDocumentData_1("defaultTemplate",s)):i.length>0&&(s=i[0].data[0],setDocumentData_1("defaultTemplate",s));figma.showUI(__uiFiles__.main,{width:240,height:490,themeColors:!0}),figma.ui.postMessage(Object.assign(Object.assign({type:"show-create-table-ui"},a),{remoteFiles:i,recentFiles:t,localTemplates:e,defaultTemplate:s,fileId:l,usingRemoteTemplate:o,pluginVersion:n,pluginUsingOldComponents:r})),updatePluginVersion("7.0.0")}async function main(){await updateClientStorageAsync_1("userPreferences",(e=>e=Object.assign({columnCount:4,rowCount:4,cellWidth:120,remember:!0,includeHeader:!0,columnResizing:!0,cellAlignment:"MIN",tableWidth:"HUG",tableHeight:"HUG",prevCellWidth:120},e||{}))),dist((e=>{async function t(e){let{newPage:t,tooltips:i,subComponents:n}=e;t&&createPage("Table Creator");let a=[],o=await createTemplateComponents(),{templateComponent:r,rowComponent:l,cellComponentSet:s}=o,d=new Template(r),c=getLocalTemplates();if(c=c.filter((e=>e.name.startsWith("Table"))),r.name=incrementName_1(r.name,c),d.name=r.name,setPluginData_1(r,"template",d),r.setRelaunchData(defaultRelaunchData),setDefaultTemplate(d),!1!==i){let e=await createTooltip("This component is a template used by Table Creator to create tables from. You can customise the appearance of your tables by customising this template. It’s made up of the components below.");e.x=r.x+r.width+80,e.y=r.y-10;let t=await createTooltip("Customise rows by changing this component.");t.x=l.x+l.width+80,t.y=l.y-10;let i=await createTooltip("Customise cell borders by changing these components. Create variants for different types of cells, icons, dropdowns, ratings etc.");i.x=s.x+s.width+80-16,i.y=s.y-10+16,a.push(e,t,i)}!1===n?(l.remove(),s.remove()):a.push(l,s),a.push(r);let g=figma.group(a,figma.currentPage);return positionInCenterOfViewport(g),ungroup_1(g,figma.currentPage),figma.currentPage.selection=a,figma.notify("Template created"),r}e.ui={html:__uiFiles__.main,width:240,height:504},e.command("createTable",(async({ui:e})=>{createTableUI()})),e.command("detachTable",(()=>{detachTable(figma.currentPage.selection).length>0?figma.closePlugin("Table and rows detached"):figma.closePlugin("Can't detach template")})),e.command("spawnTable",spawnTable),e.command("toggleColumnResizing",(()=>{toggleColumnResizing(figma.currentPage.selection).then((e=>{e?figma.closePlugin(`Column resizing ${e}`):figma.closePlugin("Can't apply to templates")}))})),e.command("switchColumnsOrRows",(()=>{let{vectorType:e}=switchColumnsOrRows(figma.currentPage.selection);e?figma.closePlugin("Switched to "+("rows"===e?"columns":"rows")):0===figma.currentPage.selection.length?figma.closePlugin("Please select a table"):figma.closePlugin("Can't apply to templates")})),e.command("selectColumn",(()=>{selectTableVector("column"),figma.closePlugin()})),e.command("selectRow",(()=>{selectTableVector("row"),figma.closePlugin()})),e.command("newTemplate",t),e.command("importTemplate",importTemplate),e.on("new-template",(async e=>{let i=await t(e.options);setDefaultTemplate(getPluginData_1(i,"template"))})),e.on("remove-template",(e=>{let t=getDefaultTemplate();if(getDocumentData_1("previousTemplate"),e.file){let t=getDocumentData_1("remoteFiles"),i=t.findIndex((t=>t.id===e.file.id)),n=t[i],a=n.data.findIndex((t=>t.id===e.template.id));n.data.splice(a,1),0===n.data.length&&t.splice(i,1),setDocumentData_1("remoteFiles",t),figma.ui.postMessage({type:"remote-files",remoteFiles:t})}else{getComponentById(e.template.id).remove();let t=getLocalTemplates();figma.ui.postMessage({type:"local-templates",localTemplates:t})}if(t.id===e.template.id){let e=getLocalTemplates();setDefaultTemplate(e[e.length-1])}})),e.on("edit-template",(e=>{!async function(e){lookForComponent(e.template).then((e=>{var t,i,n,a;animateNodeIntoView([e]),figma.currentPage.selection=[e];let o=getTemplateParts(e),r={table:{name:getSelectionName(null==o?void 0:o.table),element:"table",id:null===(t=null==o?void 0:o.table)||void 0===t?void 0:t.id,longName:"Table"},tr:{name:getSelectionName(null==o?void 0:o.tr),element:"tr",id:null===(i=null==o?void 0:o.tr)||void 0===i?void 0:i.id,longName:"Row"},td:{name:getSelectionName(null==o?void 0:o.td),element:"td",id:null===(n=null==o?void 0:o.td)||void 0===n?void 0:n.id,longName:"Cell"},th:{name:getSelectionName(null==o?void 0:o.th),element:"th",id:null===(a=null==o?void 0:o.th)||void 0===a?void 0:a.id,longName:"Cell Header"}};postCurrentSelection(e.id),figma.ui.postMessage({type:"template-parts",parts:r})}))}(e)})),e.on("set-default-template",(e=>{setDefaultTemplate(e.template)})),e.on("add-remote-file",(async e=>{const t=await getRemoteFilesAsync_1(e.file.id);figma.ui.postMessage({type:"remote-files",remoteFiles:t})})),e.on("remove-remote-file",(async e=>{removeRemoteFile_1(e.file.id);const t=await getRemoteFilesAsync_1(),i=getLocalTemplates();t.length>0?setDefaultTemplate(t[0].data[0]):i.length>0?setDefaultTemplate(i[0]):(setDefaultTemplate(null),figma.ui.postMessage({type:"post-default-template",defaultTemplate:null})),figma.ui.postMessage({type:"remote-files",remoteFiles:t})})),e.on("remove-element",(e=>{removeElement(e.id,e.element)})),e.on("add-element",(e=>{addElement(e.element)})),e.on("create-table-instance",(async e=>{await getRemoteFilesAsync_1();const t=await lookForComponent(getDocumentData_1("defaultTemplate"));if(t){("string"==typeof e.data.tableWidth||e.data.tableWidth instanceof String)&&(e.data.tableWidth=e.data.tableWidth.toUpperCase(),e.data.tableWidth=convertToNumber(e.data.tableWidth)),("string"==typeof e.data.tableHeight||e.data.tableHeight instanceof String)&&(e.data.tableHeight=e.data.tableHeight.toUpperCase(),e.data.tableHeight=convertToNumber(e.data.tableHeight)),("string"==typeof e.data.cellWidth||e.data.cellWidth instanceof String)&&(e.data.cellWidth=e.data.cellWidth.toUpperCase(),e.data.cellWidth=convertToNumber(e.data.cellWidth)),("string"==typeof e.data.cellHeight||e.data.cellHeight instanceof String)&&(e.data.cellHeight=e.data.tableHeight.toUpperCase(),e.data.cellHeight=convertToNumber(e.data.cellHeight));let i=createTable(t,e.data);i&&(positionInCenterOfViewport(i),figma.currentPage.selection=[i],updateClientStorageAsync_1("userPreferences",(t=>Object.assign(t,e.data))).then((()=>{figma.closePlugin("Table created")})))}})),e.command("updateTables",(()=>{updateTables(getPluginData_1(figma.currentPage.selection[0],"template")).then((()=>{figma.notify("Tables updated",{timeout:1500}),figma.closePlugin()}))})),e.on("update-tables",(e=>{updateTables(e.template).then((()=>{figma.notify("Tables updated",{timeout:1500})}))})),e.on("save-user-preferences",(()=>{})),e.on("fetch-template-part",(()=>{})),e.on("fetch-current-selection",(e=>{e.template&&lookForComponent(e.template).then((e=>{postCurrentSelection(e.id)}))})),e.on("fetch-template-parts",(e=>{lookForComponent(e.template).then((e=>{var t,i,n,a;let o=getTemplateParts(e),r={table:{name:getSelectionName(null==o?void 0:o.table),element:"table",id:null===(t=null==o?void 0:o.table)||void 0===t?void 0:t.id},tr:{name:getSelectionName(null==o?void 0:o.tr),element:"tr",id:null===(i=null==o?void 0:o.tr)||void 0===i?void 0:i.id},td:{name:getSelectionName(null==o?void 0:o.td),element:"td",id:null===(n=null==o?void 0:o.td)||void 0===n?void 0:n.id},th:{name:getSelectionName(null==o?void 0:o.th),element:"th",id:null===(a=null==o?void 0:o.th)||void 0===a?void 0:a.id}};figma.ui.postMessage({type:"template-parts",parts:r})}))})),e.on("upgrade-to-template",(()=>{upgradeOldComponentsToTemplate(),figma.notify("Template created"),createTableUI(),figma.ui.postMessage({type:"post-default-template",defaultTemplate:getDefaultTemplate(),localTemplates:getLocalTemplates()})})),e.on("using-remote-template",(async e=>{const t=await getRemoteFilesAsync_1();setDocumentData_1("usingRemoteTemplate",e.usingRemoteTemplate),figma.ui.postMessage({type:"remote-files",remoteFiles:t})}))}))}console.clear(),main();
